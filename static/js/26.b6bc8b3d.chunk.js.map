{"version":3,"sources":["../node_modules/walletlink/dist/provider/WalletLinkProvider.js","../../src/index.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/walletlink/dist/connection/WalletLinkAnalytics.js","../node_modules/walletlink/dist/init/index.js","../node_modules/walletlink/dist/relay/Session.js","../../../src/internal/util/hostReportError.ts","../../../src/internal/symbol/rxSubscriber.ts","../../../src/internal/util/UnsubscriptionError.ts","../../../src/internal/util/isObject.ts","../../../src/internal/util/canReportError.ts","../../../src/internal/observable/ConnectableObservable.ts","../../../src/internal/BehaviorSubject.ts","../../../src/internal/operators/observeOn.ts","../../../src/internal/scheduled/scheduleArray.ts","../../../src/internal/Scheduler.ts","../../../src/internal/util/TimeoutError.ts","../../../src/internal/operators/concatAll.ts","../../../src/internal/observable/merge.ts","../../../src/internal/observable/race.ts","../../../src/internal/observable/timer.ts","../node_modules/walletlink/dist/types.js","../node_modules/clsx/dist/clsx.m.js","../node_modules/walletlink/dist/relay/RelayMessage.js","../../../src/internal/scheduled/scheduled.ts","../../../src/internal/util/isInteropObservable.ts","../../../src/internal/scheduled/scheduleObservable.ts","../../../src/internal/scheduled/schedulePromise.ts","../../../src/internal/util/isIterable.ts","../../../src/internal/scheduled/scheduleIterable.ts","../../src/utils.ts","../../../src/internal/Observer.ts","../../../src/internal/SubjectSubscription.ts","../../../src/internal/util/subscribeToArray.ts","../../../src/internal/util/isArrayLike.ts","../../../src/internal/util/isPromise.ts","../../../src/internal/util/not.ts","../node_modules/walletlink/dist/relay/WalletLinkRelayAbstract.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/components/QRCode.js","../node_modules/walletlink/dist/components/Spinner.js","../node_modules/walletlink/dist/version.js","../node_modules/walletlink/dist/relay/Web3Method.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/walletlink/node_modules/tslib/tslib.es6.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../../../src/internal/Subscriber.ts","../../../src/internal/Observable.ts","../../../src/internal/util/toSubscriber.ts","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/walletlink/dist/index.js","../../src/errors.ts","../node_modules/walletlink/dist/init/events.js","../node_modules/walletlink/dist/init/WalletLinkAnalyticsAbstract.js","../node_modules/js-sha256/src/sha256.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/walletlink/dist/provider/FilterPolyfill.js","../node_modules/walletlink/dist/provider/JSONRPC.js","../node_modules/walletlink/dist/provider/SubscriptionManager.js","../node_modules/walletlink/dist/lib/ScopedLocalStorage.js","../node_modules/walletlink/dist/provider/WalletLinkSdkUI.js","../node_modules/walletlink/dist/components/LinkFlow.js","../node_modules/walletlink/dist/components/LinkDialog.js","../node_modules/walletlink/dist/components/LinkDialog-css.js","../node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","../node_modules/walletlink/dist/components/Spinner-css.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog.js","../node_modules/walletlink/dist/components/icons/globe-icon-svg.js","../node_modules/walletlink/dist/components/icons/link-icon-svg.js","../node_modules/walletlink/dist/components/icons/lock-icon-svg.js","../node_modules/walletlink/dist/components/icons/QRLogo.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog-css.js","../node_modules/walletlink/dist/components/Snackbar.js","../node_modules/walletlink/dist/components/Snackbar-css.js","../node_modules/walletlink/dist/lib/cssReset.js","../node_modules/walletlink/dist/lib/cssReset-css.js","../node_modules/walletlink/dist/provider/WalletLinkUI.js","../node_modules/walletlink/dist/relay/WalletLinkRelay.js","../node_modules/bind-decorator/index.js","../node_modules/walletlink/dist/connection/WalletLinkConnection.js","../node_modules/walletlink/dist/connection/ClientMessage.js","../node_modules/walletlink/dist/connection/RxWebSocket.js","../node_modules/walletlink/dist/connection/ServerMessage.js","../node_modules/walletlink/dist/relay/aes256gcm.js","../node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","../../../src/internal/innerSubscribe.ts","../node_modules/walletlink/dist/relay/Web3RequestMessage.js","../node_modules/walletlink/dist/relay/Web3Response.js","../node_modules/walletlink/dist/relay/Web3ResponseMessage.js","../node_modules/walletlink/dist/relay/WalletLinkRelayEventManager.js","../node_modules/@babel/runtime/helpers/isNativeFunction.js","../../../src/internal/Subscription.ts","../../../src/internal/Subject.ts","../../../src/internal/scheduler/async.ts","../../../src/internal/util/isArray.ts","../../../src/internal/operators/map.ts","../../../src/internal/observable/empty.ts","../../../src/internal/observable/from.ts","../../../src/internal/util/isScheduler.ts","../../../src/internal/util/identity.ts","../../../src/internal/symbol/observable.ts","../../../src/internal/OuterSubscriber.ts","../../../src/internal/operators/filter.ts","../node_modules/walletlink/dist/util.js","../../src/constants.js","../../src/util.js","../../src/options.js","../../src/create-element.js","../../src/component.js","../../src/create-context.js","../../src/diff/children.js","../../src/diff/props.js","../../src/diff/index.js","../../src/render.js","../../src/clone-element.js","../../src/diff/catch-error.js","../../../src/internal/InnerSubscriber.ts","../../../src/internal/util/subscribeToResult.ts","../../../src/internal/Notification.ts","../../../src/internal/util/ArgumentOutOfRangeError.ts","../../../src/internal/util/EmptyError.ts","../../../src/internal/operators/mergeMap.ts","../../../src/internal/scheduler/AnimationFrameAction.ts","../../../src/internal/scheduler/AnimationFrameScheduler.ts","../../../src/internal/scheduler/animationFrame.ts","../../../src/internal/scheduler/VirtualTimeScheduler.ts","../../../src/internal/util/isObservable.ts","../../../src/internal/observable/bindCallback.ts","../../../src/internal/observable/bindNodeCallback.ts","../../../src/internal/observable/forkJoin.ts","../../../src/internal/observable/fromEvent.ts","../../../src/internal/observable/fromEventPattern.ts","../../../src/internal/observable/generate.ts","../../../src/internal/observable/iif.ts","../../../src/internal/observable/interval.ts","../../../src/internal/observable/never.ts","../../../src/internal/observable/onErrorResumeNext.ts","../../../src/internal/observable/pairs.ts","../../../src/internal/observable/partition.ts","../../../src/internal/observable/range.ts","../../../src/internal/observable/using.ts","../node_modules/webpack/buildin/amd-options.js","../../../src/internal/config.ts","../../../src/internal/util/isFunction.ts","../../../src/internal/util/ObjectUnsubscribedError.ts","../../../src/internal/observable/of.ts","../../../src/internal/observable/fromArray.ts","../../../src/internal/scheduler/AsyncScheduler.ts","../../../src/internal/AsyncSubject.ts","../../../src/internal/symbol/iterator.ts","../../../src/internal/observable/concat.ts","../../../src/internal/operators/audit.ts","../../../src/internal/operators/auditTime.ts","../../../src/internal/operators/buffer.ts","../../../src/internal/operators/bufferCount.ts","../../../src/internal/operators/bufferTime.ts","../../../src/internal/operators/bufferToggle.ts","../../../src/internal/operators/bufferWhen.ts","../../../src/internal/operators/catchError.ts","../../../src/internal/operators/combineAll.ts","../../../src/internal/operators/combineLatest.ts","../../../src/internal/operators/concat.ts","../../../src/internal/operators/concatMap.ts","../../../src/internal/operators/concatMapTo.ts","../../../src/internal/operators/count.ts","../../../src/internal/operators/debounce.ts","../../../src/internal/operators/debounceTime.ts","../../../src/internal/operators/defaultIfEmpty.ts","../../../src/internal/util/isDate.ts","../../../src/internal/operators/delay.ts","../../../src/internal/operators/delayWhen.ts","../../../src/internal/operators/dematerialize.ts","../../../src/internal/operators/distinct.ts","../../../src/internal/operators/distinctUntilChanged.ts","../../../src/internal/operators/distinctUntilKeyChanged.ts","../../../src/internal/operators/throwIfEmpty.ts","../../../src/internal/operators/take.ts","../../../src/internal/operators/elementAt.ts","../../../src/internal/operators/endWith.ts","../../../src/internal/operators/every.ts","../../../src/internal/operators/exhaust.ts","../../../src/internal/operators/exhaustMap.ts","../../../src/internal/operators/expand.ts","../../../src/internal/operators/finalize.ts","../../../src/internal/operators/find.ts","../../../src/internal/operators/findIndex.ts","../../../src/internal/operators/first.ts","../../../src/internal/operators/ignoreElements.ts","../../../src/internal/operators/isEmpty.ts","../../../src/internal/operators/takeLast.ts","../../../src/internal/operators/last.ts","../../../src/internal/operators/mapTo.ts","../../../src/internal/operators/materialize.ts","../../../src/internal/operators/scan.ts","../../../src/internal/operators/reduce.ts","../../../src/internal/operators/max.ts","../../../src/internal/operators/merge.ts","../../../src/internal/operators/mergeMapTo.ts","../../../src/internal/operators/mergeScan.ts","../../../src/internal/operators/min.ts","../../../src/internal/operators/multicast.ts","../../../src/internal/operators/onErrorResumeNext.ts","../../../src/internal/operators/pairwise.ts","../../../src/internal/operators/partition.ts","../../../src/internal/operators/pluck.ts","../../../src/internal/operators/publish.ts","../../../src/internal/operators/publishBehavior.ts","../../../src/internal/operators/publishLast.ts","../../../src/internal/operators/publishReplay.ts","../../../src/internal/operators/race.ts","../../../src/internal/operators/repeat.ts","../../../src/internal/operators/repeatWhen.ts","../../../src/internal/operators/retry.ts","../../../src/internal/operators/retryWhen.ts","../../../src/internal/operators/sample.ts","../../../src/internal/operators/sampleTime.ts","../../../src/internal/operators/sequenceEqual.ts","../../../src/internal/operators/share.ts","../../../src/internal/operators/shareReplay.ts","../../../src/internal/operators/single.ts","../../../src/internal/operators/skip.ts","../../../src/internal/operators/skipLast.ts","../../../src/internal/operators/skipUntil.ts","../../../src/internal/operators/skipWhile.ts","../../../src/internal/operators/startWith.ts","../../../src/internal/observable/SubscribeOnObservable.ts","../../../src/internal/operators/subscribeOn.ts","../../../src/internal/operators/switchMap.ts","../../../src/internal/operators/switchAll.ts","../../../src/internal/operators/switchMapTo.ts","../../../src/internal/operators/takeUntil.ts","../../../src/internal/operators/takeWhile.ts","../../../src/internal/operators/tap.ts","../../../src/internal/operators/throttle.ts","../../../src/internal/operators/throttleTime.ts","../../../src/internal/operators/timeInterval.ts","../../../src/internal/operators/timeoutWith.ts","../../../src/internal/operators/timeout.ts","../../../src/internal/operators/timestamp.ts","../../../src/internal/operators/toArray.ts","../../../src/internal/operators/window.ts","../../../src/internal/operators/windowCount.ts","../../../src/internal/operators/windowTime.ts","../../../src/internal/operators/windowToggle.ts","../../../src/internal/operators/windowWhen.ts","../../../src/internal/operators/withLatestFrom.ts","../../../src/internal/operators/zip.ts","../../../src/internal/operators/zipAll.ts","../../../src/internal/scheduler/AsyncAction.ts","../../../src/internal/scheduler/Action.ts","../../../src/internal/util/pipe.ts","../../../src/internal/operators/refCount.ts","../../../src/internal/operators/groupBy.ts","../../../src/internal/ReplaySubject.ts","../../../src/internal/observable/throwError.ts","../../../src/internal/util/noop.ts","../../../src/internal/observable/combineLatest.ts","../../../src/internal/operators/mergeAll.ts","../../../src/internal/observable/defer.ts","../../../src/internal/util/isNumeric.ts","../../../src/internal/observable/zip.ts","../../src/index.js","../../../src/internal/util/Immediate.ts","../../../src/internal/scheduler/AsapAction.ts","../../../src/internal/scheduler/AsapScheduler.ts","../../../src/internal/scheduler/asap.ts","../../../src/internal/util/subscribeTo.ts","../../../src/internal/util/subscribeToObservable.ts","../../../src/internal/util/subscribeToPromise.ts","../../../src/internal/util/subscribeToIterable.ts","../../../src/internal/scheduler/QueueAction.ts","../../../src/internal/scheduler/QueueScheduler.ts","../../../src/internal/scheduler/queue.ts"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","WalletLinkProvider","safe_event_emitter_1","require","bn_js_1","eth_rpc_errors_1","WalletLinkAnalytics_1","init_1","Session_1","WalletLinkRelayAbstract_1","util_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","SubscriptionManager_1","DEFAULT_CHAIN_ID_KEY","DEFAULT_JSON_RPC_URL","HAS_CHAIN_BEEN_SWITCHED_KEY","HAS_CHAIN_OVERRIDDEN_FROM_RELAY","options","_a","_filterPolyfill","FilterPolyfill","_subscriptionManager","SubscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","_send","send","bind","_sendAsync","sendAsync","setProviderInfo","updateProviderInfo","getChainId","setAppInfo","enable","close","request","_setAddresses","scanQRCode","genericRequest","_jsonRpcUrlFromOpts","jsonRpcUrl","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","storage","_relayEventManager","relayEventManager","_walletLinkAnalytics","walletLinkAnalytics","WalletLinkAnalytics","isCoinbaseWallet","overrideIsCoinbaseWallet","chainId","chainIdStr","prepend0x","toString","emit","cachedAddresses","getItem","LOCAL_STORAGE_ADDRESSES_KEY","addresses","split","map","address","ensureAddressString","events","on","notification","type","method","data","params","length","initializeRelay","window","addEventListener","event","action","_chainId","Number","undefined","setItem","isChainOverridden","fromRelay","originalChainId","ensureIntNumber","symbol","decimals","image","relay","watchAsset","promise","result","rpcUrls","blockExplorerUrls","chainName","iconUrls","nativeCurrency","addEthereumChain","res","isApproved","_b","switchEthereumChain","errorCode","ethErrors","provider","custom","code","switchResponse","rpcUrl","appName","appLogoUrl","then","sendEvent","EVENTS","ETH_ACCOUNTS_STATE","addresses_length","sessionIdHash","Session","hash","session","id","JSONRPCMethod","eth_requestAccounts","resetAndReload","requestOrMethod","callbackOrParams","jsonrpc","Array","isArray","_sendRequestAsync","callback","r","_sendRequest","req","Error","arrayCb","_sendMultipleRequestsAsync","responses","catch","err","cb","response","args","rpc","invalidRequest","message","newParams","makeRequestId","match","ensureRegExpString","_handleSynchronousMethods","newAddresses","JSON","stringify","join","dispatchEvent","CustomEvent","detail","Promise","resolve","reject","syncResult","filterPromise","_handleAsynchronousFilterMethods","assign","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","requests","all","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","eth_sign","eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","walletlink_arbitrary","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","_eth_requestAccounts","_eth_sign","_eth_ecRecover","_personal_sign","_personal_ecRecover","_eth_signTransaction","_eth_sendRawTransaction","_eth_sendTransaction","_eth_signTypedData_v1","_throwUnsupportedMethodError","_eth_signTypedData_v3","_eth_signTypedData_v4","_walletlink_arbitrary","_wallet_addEthereumChain","_wallet_switchEthereumChain","_wallet_watchAsset","makeEthereumJSONRPCRequest","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","handleRequest","addressString","lowercaseAddresses","includes","_isKnownAddress","UNKNOWN_ADDRESS_ENCOUNTERED","tx","fromAddress","from","selectedAddress","_ensureKnownAddress","toAddress","to","weiValue","ensureBN","default","ensureBuffer","Buffer","alloc","nonce","gasPriceInWei","gasPrice","maxFeePerGas","maxPriorityFeePerGas","gasLimit","gas","unauthorized","unsupportedMethod","addPrefix","typedDataJson","signEthereumMessage","userRejectedRequest","signature","ethereumAddressFromSignedMessage","hexStringFromIntNumber","parseInt","requestEthereumAccounts","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signEthereumTransaction","signedTransaction","submitEthereumTransaction","signAndSubmitEthereumTransaction","typedData","ensureParsedJSONObject","hashForSignTypedDataLegacy","typedDataJSON","hashForSignTypedData_v3","hashForSignTypedData_v4","error","trim","chainIdNumber","_c","_d","invalidParams","filterId","ensureHexString","uninstallFilter","param","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","setAccountsCallback","accounts","setChainCallback","enumerable","get","classes_1","utils_1","errors_1","error_constants_1","EthereumRpcError","isInteger","serialized","stack","fast_safe_stringify_1","serialize","stringifyReplacer","EthereumProviderError","isValidEthProviderCode","_","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","parse","methodNotFound","internal","disconnected","chainDisconnected","standard","_eventType","_eventProperties","__createBinding","create","o","m","k","k2","__exportStar","p","prototype","hasOwnProperty","call","js_sha256_1","rxjs_1","operators_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","secret","linked","_id","randomBytesHex","_secret","sha256","update","_key","hex","_linked","val","persistLinked","fromEvent","pipe","filter","evt","key","oldValue","newValue","sessionId","hostReportError","setTimeout","Symbol","UnsubscriptionErrorImpl","errors","name","isObject","x","canReportError","observer","closed_1","destination","isStopped","ConnectableObservable","_super","source","subjectFactory","_this","tslib_1","_subscribe","subscriber","getSubject","subject","_subject","connect","connection","_connection","subscribe","refCount","connectableObservableDescriptor","operator","_refCount","writable","connectableProto","_isComplete","ConnectableSubscriber","connectable","_error","_complete","_unsubscribe","SubjectSubscriber","BehaviorSubject","_value","configurable","subscription","getValue","closed","next","delay","ObserveOnOperator","scheduler","dispatch","arg","unsubscribe","ObserveOnSubscriber","schedule","scheduleMessage","Notification","createNext","createComplete","scheduleArray","input","Observable","sub","i","add","SchedulerAction","now","work","state","TimeoutErrorImpl","concatAll","_i","concurrent","last","observables","isScheduler","RaceOperator","RaceSubscriber","_next","observable","len","hasFirst","subscriptions","notifyNext","outerIndex","dueTime","period","periodOrScheduler","async","index","OpaqueType","RegExpString","IntNumber","BigIntString","AddressString","HexString","num","Math","floor","toVal","mix","y","str","tmp","arguments","RelayMessageType","scheduled","isInteropObservable","complete","iterator","Subscription","Symbol_iterator","done","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","getMessageFromCode","fallbackMessage","codeString","hasKey","isJsonRpcServerError","isValidCode","assignOriginalError","obj","fallbackError","shouldIncludeStack","originalError","empty","config","SubjectSubscription","observers","subscriberIndex","subscribeToArray","array","isPromise","not","pred","thisArg","notPred","WalletLinkRelayAbstract","APP_VERSION_KEY","WALLET_USER_NAME_KEY","fetch","body","mode","headers","json","serializeError","createKeccakHash","BN","zeros","bytes","allocUnsafe","fill","setLength","msg","right","buf","toBuffer","copy","slice","v","isBuffer","isHexString","stripHexPrefix","intToBuffer","isBN","toArrayLike","toArray","startsWith","module","setLengthRight","bufferToHex","keccak","a","bits","digest","WalletLink","ScopedLocalStorage_1","WalletLinkProvider_1","WalletLinkSdkUI_1","WalletLinkRelay_1","WalletLinkRelayEventManager_1","WALLETLINK_URL","process","WALLETLINK_VERSION","version","_appName","_appLogoUrl","walletLinkUIConstructor","walletLinkUrl","opts","WalletLinkSdkUI","_overrideIsCoinbaseWallet","u","URL","walletLinkOrigin","protocol","host","ScopedLocalStorage","VERSION","walletLinkExtension","WalletLinkRelayEventManager","WalletLinkRelay","darkMode","attachUI","isCipher","setConnectDisabled","getFavicon","QRCode","preact_1","hooks_1","qrcode_svg_1","props","useState","svg","setSvg","useEffect","qrcode","content","background","bgColor","color","fgColor","container","ecl","width","height","padding","base64","h","src","alt","Spinner","Spinner_css_1","size","class","viewBox","xmlns","style","cx","cy","stroke","LIB_VERSION","Web3Method","asyncGeneratorStep","gen","_throw","info","fn","self","apply","extendStatics","d","b","setPrototypeOf","__proto__","__extends","__","constructor","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","arrayWithHoles","iterableToArrayLimit","nonIterableRest","Subscriber","destinationOrNext","emptyObserver","syncErrorThrowable","rxSubscriberSymbol","_parentOrParents","SafeSubscriber","_parentSubscriber","observerOrNext","context","isFunction","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","syncErrorValue","wrappedComplete","parent","syncErrorThrown","_isScalar","lift","sink","nextOrObserver","console","forEach","promiseCtor","Symbol_observable","operations","toPromise","getPromiseCtor","_s","_e","_arr","_n","push","TypeError","getPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","has","set","Wrapper","arrayLikeToArray","iter","WalletLink_1","WalletLinkProvider_2","WalletLink_2","getEthJsonRpcError","parseOpts","getEthProviderError","server","REQUEST_CHILD_ETHEREUM_ACCOUNTS_START","REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE","STARTED_CONNECTING","CONNECTED_STATE_CHANGE","DISCONNECTED","METADATA_DESTROYED","LINKED","FAILURE","SESSION_CONFIG_RECEIVED","SESSION_STATE_CHANGE","UNLINKED_ERROR_STATE","SKIPPED_CLEARING_SESSION","GENERAL_ERROR","WEB3_REQUEST","WEB3_REQUEST_PUBLISHED","WEB3_RESPONSE","WalletLinkAnalyticsAbstract","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","NODE_JS","JS_SHA256_NO_NODE_JS","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","AMD","define","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","createOutputMethod","outputType","is224","Sha256","createMethod","nodeWrap","crypto","eval","algorithm","nodeMethod","createHash","Uint8Array","createHmacOutputMethod","HmacSha256","createHmacMethod","sharedMemory","h0","h1","h2","h3","h4","h5","h6","h7","block","start","hBytes","finalized","hashed","first","charCodeAt","oKeyPad","iKeyPad","inner","notString","lastByteIndex","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","c","e","f","g","arrayBuffer","dataView","DataView","setUint32","innerHash","sha224","hmac","util","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","required","primaryType","domain","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","lastIndexOf","parsedType","typeValuePairs","item","rawEncode","field","encodeType","deps","findTypeDependencies","dep","concat","sort","results","hashStruct","sanitizeData","sanitizedData","EIP712Domain","parts","msgParams","schema","soliditySHA3","typedSignatureHashLegacy","elementaryName","parseTypeN","exec","parseTypeNxM","parseTypeArray","parseNumber","encodeSingle","ret","unshift","bitLength","toTwos","mul","pow","isDynamic","solidityPack","values","output","headLength","cur","filterFromParam","types_1","JSONRPC_TEMPLATE","logFilters","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","makeFilterId","setInitialCursorPosition","fromBlock","cursor","log","setFilterTimeout","intNumberFromHexString","deleteFilter","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","filterNotFoundError","sendAsyncPromise","paramFromFilter","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blockNumber","highestBlock","max","newCursorPosition","range","getBlockHashByNumber","startBlock","initialCursorPosition","existing","clearTimeout","timeout","intBlockHeightFromHexBlockHeight","topics","hexBlockHeightFromIntBlockHeight","String","PollingBlockTracker","createSubscriptionManager","noop","blockTracker","pollingInterval","setSkipCacheFlag","middleware","subscriptionMiddleware","destroy","scope","localStorage","scopedKey","removeItem","prefix","keysToRemove","LinkFlow_1","Snackbar_1","cssReset_1","attached","snackbar","Snackbar","linkFlow","LinkFlow","sessionSecret","connected$","isParentConnection","el","document","documentElement","createElement","className","appendChild","attach","injectCssReset","connectDisabled","open","onCancel","snackbarProps","isUnlinkedErrorState","autoExpand","menuItems","isRed","svgWidth","svgHeight","path","defaultFillRule","defaultClipRule","onClick","onResetConnection","presentItem","location","reload","WalletLinkUI","LinkDialog_1","TryExtensionLinkDialog_1","extensionUI$","isConnected","isOpen","enabled","desktop","extension_ui","render","parentElement","removeChild","TryExtensionLinkDialog","LinkDialog","clsx_1","LinkDialog_css_1","QRCode_1","Spinner_1","version_1","isContainerHidden","setContainerHidden","isDialogHidden","setDialogHidden","timers","ScanQRCode","CancelButton","serverUrl","encodeURIComponent","sessionIdKey","qrUrl","title","href","target","rel","QR8bitByte","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","abs","glog","n","LOG_TABLE","EXP_TABLE","shift","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","encodeURI","replace","_getUTF8Length","limit","table","_getTypeNumber","_getErrorCorrectLevel","opt","pretty","indent","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","toFixed","imgSvg","imgWidth","imgHeight","imgY","globe_icon_svg_1","link_icon_svg_1","lock_icon_svg_1","QRLogo_1","TryExtensionLinkDialog_css_1","TryExtensionBox","onInstallClick","ScanQRBox","DescriptionItem","icon","text","Snackbar_css_1","nextItemKey","itemProps","clear","SnackbarContainer","entries","SnackbarInstance","children","hidden","setHidden","expanded","setExpanded","cssReset_css_1","styleEl","createTextNode","__setModuleDefault","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__importStar","bind_decorator_1","WalletLinkConnection_1","aes256gcm","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","accountsCallback","chainCallback","_session","load","save","WalletLinkConnection","incomingEvent$","handleIncomingEvent","linked$","skip","tap","isLinked","wasConnectedViaStandalone","getSessionIdHash","origin","sessionConfig$","metadata","__destroyed","alreadyDestroyed","isDestroyed","WalletUsername","mergeMap","decrypt","walletUsername","AppVersion","appVersion","ChainId","JsonRpcUrl","zip","distinctUntilChanged","EthereumAddress","accountRequestCallbackIds","Web3ResponseMessage","RequestEthereumAccountsResponse","invokeCallback","ui","setSessionMetadata","catchError","of","sessionMetadataChange","storedSession","storedSessionIdHash","reloadUI","sendRequest","hexStringFromBuffer","bigIntStringFromBN","shouldSubmit","regExp","generic","hideSnackbarItem","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","ErrorResponse","isStandalone","showConnecting","callbacks","errorMessage","sendRequestStandalone","publishWeb3RequestEvent","disabled","Web3RequestMessage","eventId","isSessionMismatched","publishEvent","Web3RequestCanceledMessage","callWebhook","encrypt","encrypted","isWeb3ResponseMessage","isRequestEthereumAccountsResponse","hideRequestEthereumAccounts","userAgent","navigator","inlineAccountsResponse","onAccounts","inlineWatchAsset","onApprove","WatchAssetReponse","inlineAddEthereumChain","AddEthereumChainResponse","inlineSwitchEthereumChain","SwitchEthereumChainResponse","_cancel","onSuccess","constants","propertyKey","descriptor","typeOfFunction","boolTrue","bound","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","sessionKey","WebSocketClass","WebSocket","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","RxWebSocket","connectionState$","cs","ConnectionState","flatMap","retry","switchMap","iif","CONNECTED","authenticate","sendIsLinked","sendGetSessionConfig","connected","timer","updateLastHeartbeat","heartbeat","incomingData$","incomingJSONData$","onlineGuests","metadata_keys","keys","webhookId","webhookUrl","disconnect","asObservable","take","sme","ClientMessageSetSessionConfig","onceConnected$","makeRequest","isServerMessageFail","ClientMessagePublishEvent","onceLinked$","sendData","Date","reqId","throwError","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","url","webSocket","connectionStateSubject","incomingDataSubject","Subject","obs","CONNECTING","onclose","clearWebSocket","reason","onopen","onmessage","onerror","plainText","ivBytes","getRandomValues","subtle","importKey","hexStringToUint8Array","secretKey","enc","TextEncoder","iv","encode","encryptedResult","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","uint8ArrayToHex","cipherText","concattedBytes","algo","decrypted","decoder","TextDecoder","decode","RelayMessage_1","WEB3_REQUEST_CANCELED","SimpleInnerSubscriber","notifyError","notifyComplete","SimpleOuterSubscriber","innerSubscribe","innerSubscriber","EthereumAddressFromSignedMessageResponse","SubmitEthereumTransactionResponse","SignEthereumTransactionResponse","SignEthereumMessageResponse","addResponse","success","signedData","txHash","_nextRequestId","idStr","Function","indexOf","_subscriptions","_ctorUnsubscribe","parent_1","UnsubscriptionError","teardown","remove","subscriptionIndex","flattenUnsubscriptionErrors","AnonymousSubject","hasError","thrownError","_trySubscribe","asyncScheduler","project","MapOperator","MapSubscriber","identity","OuterSubscriber","predicate","FilterOperator","FilterSubscriber","isBigNumber","ensureEvenLengthHexString","strip0x","has0xPrefix","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","padStart","s","toLowerCase","includePrefix","toNumber","EUCLID","hexString","byte","bn","RegExp","stop","querySelector","getAttribute","vnodeId","isValidElement","rerenderQueue","defer","prevDebounce","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","removeNode","parentNode","ref","normalizedProps","defaultProps","createVNode","original","vnode","__b","__e","__d","__h","createRef","current","Fragment","Component","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","debounceRendering","queue","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","unmount","applyRef","toChildArray","out","nextDom","sibDom","outer","nextSibling","insertBefore","setStyle","setProperty","dom","useCapture","cssText","_listeners","eventProxyCapture","eventProxy","removeEventListener","setAttribute","removeAttribute","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","componentContext","newType","contextType","doRender","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","oldHtml","newHtml","nodeType","localName","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","__c","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","InnerSubscriber","outerValue","NotificationKind","kind","observe","do","accept","toObservable","ArgumentOutOfRangeErrorImpl","EmptyErrorImpl","resultSelector","MergeMapOperator","MergeMapSubscriber","_tryNext","active","_innerSub","innerSubscription","hasCompleted","AnimationFrameAction","requestAsyncId","requestAnimationFrame","cancelAnimationFrame","AnimationFrameScheduler","actions","animationFrameScheduler","VirtualTimeScheduler","maxFrames","flush","frame","VirtualAction","recycleAsyncId","isObservable","bindCallback","callbackFunc","AsyncSubject","handler","innerArgs","dispatchNext","bindNodeCallback","dispatchError","sources","first_1","pop","forkJoinInternal","completed","_loop_1","hasValue","emitted","eventName","setupSubscription","sourceObj","isEventTarget","isJQueryStyleEventEmitter","isNodeStyleEventEmitter","fromEventPattern","addHandler","removeHandler","retValue","generate","initialStateOrOptions","condition","iterate","resultSelectorOrObservable","initialState","conditionResult","trueResult","counter","never","remainder","pairs","partition","subscribeTo","using","resourceFactory","observableFactory","resource","EMPTY","__webpack_amd_options__","_enable_super_gross_mode_that_will_cause_bad_things","ObjectUnsubscribedErrorImpl","fromArray","AsyncScheduler","Scheduler","hasNext","getSymbolIterator","audit","durationSelector","AuditOperator","AuditSubscriber","throttled","duration","clearThrottle","closingNotifier","BufferOperator","BufferSubscriber","startBufferEvery","BufferCountOperator","bufferSize","BufferCountSubscriber","BufferSkipCountSubscriber","buffers","bufferTime","bufferTimeSpan","bufferCreationInterval","maxBufferSize","BufferTimeOperator","Context","BufferTimeSubscriber","closeState","dispatchBufferClose","contexts","context_1","filledBufferContext","onBufferFull","closeContext","closeAction","timeSpanOnlyState","openContext","dispatchBufferTimeSpanOnly","prevContext","dispatchBufferCreation","bufferToggle","openings","closingSelector","BufferToggleOperator","BufferToggleSubscriber","context_2","innerValue","closeBuffer","trySubscribe","subscribeToResult","bufferWhen","BufferWhenOperator","BufferWhenSubscriber","subscribing","closingSubscription","selector","CatchOperator","CatchSubscriber","caught","err2","_unsubscribeAndRecycle","combineAll","concatMap","concatMapTo","innerObservable","CountOperator","CountSubscriber","debounce","DebounceOperator","DebounceSubscriber","emitValue","DebounceTimeOperator","DebounceTimeSubscriber","clearDebounce","lastValue","debouncedSubscription","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","isEmpty","isDate","DelayOperator","DelaySubscriber","delay_1","_schedule","DelayMessage","scheduleNotification","errored","time","delayWhen","delayDurationSelector","subscriptionDelay","SubscriptionDelayObservable","DelayWhenOperator","DelayWhenSubscriber","removeSubscription","innerSub","delayNotifier","tryComplete","subscriptionIdx","delayNotifierSubscriptions","tryDelay","notifierSubscription","SubscriptionDelaySubscriber","subscribeToSource","sourceSubscribed","dematerialize","DeMaterializeOperator","DeMaterializeSubscriber","distinct","keySelector","flushes","DistinctOperator","DistinctSubscriber","_finalizeNext","compare","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","distinctUntilKeyChanged","errorFactory","defaultErrorFactory","ThrowIfEmptyOperator","ThrowIfEmptySubscriber","TakeOperator","total","TakeSubscriber","elementAt","hasDefaultValue","defaultIfEmpty","every","EveryOperator","EverySubscriber","everyValueMatch","exhaust","SwitchFirstOperator","SwitchFirstSubscriber","hasSubscription","exhaustMap","ExhaustMapOperator","ExhaustMapSubscriber","ExpandOperator","ExpandSubscriber","subscribeToProjection","FinallyOperator","FinallySubscriber","find","FindValueOperator","FindValueSubscriber","yieldIndex","findIndex","ignoreElements","IgnoreElementsOperator","IgnoreElementsSubscriber","IsEmptyOperator","IsEmptySubscriber","takeLast","TakeLastOperator","TakeLastSubscriber","ring","mapTo","MapToOperator","MapToSubscriber","materialize","MaterializeOperator","MaterializeSubscriber","scan","accumulator","seed","hasSeed","ScanOperator","ScanSubscriber","_seed","reduce","comparer","MergeScanOperator","MergeScanSubscriber","ish","acc","min","multicast","subjectOrSubjectFactory","MulticastOperator","nextSources","OnErrorResumeNextOperator","OnErrorResumeNextSubscriber","subscribeToNextSource","pairwise","PairwiseOperator","PairwiseSubscriber","pair","hasPrev","prev","plucker","currentProp","publish","publishBehavior","publishLast","publishReplay","windowTime","selectorOrScheduler","RepeatOperator","RepeatSubscriber","repeatWhen","notifier","RepeatWhenOperator","RepeatWhenSubscriber","sourceIsBeingSubscribedTo","retries","retriesSubscription","notifications","subscribeToRetries","RetryOperator","RetrySubscriber","retryWhen","RetryWhenOperator","RetryWhenSubscriber","sample","SampleOperator","sampleSubscriber","SampleSubscriber","SampleTimeOperator","SampleTimeSubscriber","dispatchNotification","sequenceEqual","compareTo","comparator","SequenceEqualOperator","SequenceEqualSubscriber","_oneComplete","checkValues","areEqual","nextB","completeB","SequenceEqualCompareToSubscriber","shareSubjectFactory","share","shareReplay","configOrBufferSize","shareReplayOperator","useRefCount","isComplete","single","SingleOperator","SingleSubscriber","applySingleValue","seenValue","SkipOperator","SkipSubscriber","skipLast","SkipLastOperator","_skipCount","SkipLastSubscriber","_count","skipCount","currentIndex","_ring","skipUntil","SkipUntilOperator","SkipUntilSubscriber","skipWhile","SkipWhileOperator","SkipWhileSubscriber","skipping","SubscribeOnObservable","delayTime","asap","SubscribeOnOperator","SwitchMapOperator","SwitchMapSubscriber","switchAll","switchMapTo","takeUntil","TakeUntilOperator","takeUntilSubscriber","TakeUntilSubscriber","inclusive","TakeWhileOperator","TakeWhileSubscriber","nextOrComplete","DoOperator","TapSubscriber","_tapComplete","_tapError","_tapNext","defaultThrottleConfig","leading","trailing","ThrottleOperator","ThrottleSubscriber","_leading","_hasValue","_sendValue","throttle","_throttled","_trailing","throttlingDone","ThrottleTimeOperator","ThrottleTimeSubscriber","_trailingValue","_hasTrailingValue","TimeInterval","interval","TimeoutWithOperator","withObservable","waitFor","TimeoutWithSubscriber","scheduleTimeout","timestamp","toArrayReducer","windowBoundaries","WindowOperator","windowSubscriber","WindowSubscriber","sourceSubscription","openWindow","prevWindow","startWindowEvery","WindowCountOperator","windowSize","WindowCountSubscriber","windows","windowTimeSpan","windowCreationInterval","maxWindowSize","POSITIVE_INFINITY","WindowTimeOperator","CountedSubject","WindowTimeSubscriber","dispatchWindowClose","window_1","window_2","closeWindow","dispatchWindowTimeSpanOnly","dispatchWindowCreation","timeSpanState","windowToggle","WindowToggleOperator","WindowToggleSubscriber","context_3","context_4","windowWhen","closingNotification","WithLatestFromOperator","WithLatestFromSubscriber","toRespond","found","zipAll","AsyncAction","setInterval","clearInterval","execute","pending","_execute","errorValue","Action","pipeFromArray","fns","RefCountOperator","refCounter","RefCountSubscriber","sharedConnection","groupBy","elementSelector","subjectSelector","GroupByOperator","GroupBySubscriber","_group","groups","element","group","groupedObservable","removeGroup","attemptedToUnsubscribe","GroupDurationSubscriber","GroupedObservable","refCountSubscription","groupSubject","InnerRefCountSubscription","nextInfiniteTimeWindow","_events","nextTimeWindow","_getNow","_infiniteTimeWindow","_trimBufferThenGetEvents","_bufferSize","_windowTime","spliceCount","eventsCount","ReplayEvent","CombineLatestOperator","CombineLatestSubscriber","NONE","oldVal","isNumeric","ZipOperator","ZipSubscriber","iterators","StaticArrayIterator","StaticIterator","notifyInactive","checkIterators","shouldComplete","_tryresultSelector","ZipBufferIterator","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","nextValue","argsChanged","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","flushAfterPaintEffects","invokeCleanup","invokeEffect","raf","HAS_RAF","hasErrored","hook","comp","cleanup","oldArgs","newArgs","nextHandle","RESOLVED","findAndClearHandle","handle","activeHandles","AsapAction","Immediate","AsapScheduler","asapScheduler","iterable","QueueAction","QueueScheduler","queueScheduler"],"mappings":";6GAAA,Y,6HAIIA,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,wBAAqB,EAC7B,IAAMC,EAAuBT,EAAgBU,EAAQ,MAC/CC,EAAUX,EAAgBU,EAAQ,MAClCE,EAAmBF,EAAQ,MAC3BG,EAAwBH,EAAQ,MAChCI,EAASJ,EAAQ,MACjBK,EAAYL,EAAQ,MACpBM,EAA4BN,EAAQ,MACpCO,EAASP,EAAQ,KACjBQ,EAAoBlB,EAAgBU,EAAQ,OAC5CS,EAAmBT,EAAQ,MAC3BU,EAAYV,EAAQ,MACpBW,EAAwBX,EAAQ,MAChCY,EAAuB,iBACvBC,EAAuB,oBAEvBC,EAA8B,uBAC9BC,EAAkC,8BAClCjB,E,8BACF,WAAYkB,GAAS,MACbC,EADa,WAEjB,gBACKC,gBAAkB,IAAIT,EAAiBU,eAArB,MACvB,EAAKC,qBAAuB,IAAIT,EAAsBU,oBAA1B,MAC5B,EAAKC,OAAS,KACd,EAAKC,WAAa,GAClB,EAAKC,kCAAmC,EACxC,EAAKC,MAAQ,EAAKC,KAAKC,KAAV,MACb,EAAKC,WAAa,EAAKC,UAAUF,KAAf,MAClB,EAAKG,gBAAkB,EAAKA,gBAAgBH,KAArB,MACvB,EAAKI,mBAAqB,EAAKA,mBAAmBJ,KAAxB,MAC1B,EAAKK,WAAa,EAAKA,WAAWL,KAAhB,MAClB,EAAKM,WAAa,EAAKA,WAAWN,KAAhB,MAClB,EAAKO,OAAS,EAAKA,OAAOP,KAAZ,MACd,EAAKQ,MAAQ,EAAKA,MAAMR,KAAX,MACb,EAAKD,KAAO,EAAKA,KAAKC,KAAV,MACZ,EAAKE,UAAY,EAAKA,UAAUF,KAAf,MACjB,EAAKS,QAAU,EAAKA,QAAQT,KAAb,MACf,EAAKU,cAAgB,EAAKA,cAAcV,KAAnB,MACrB,EAAKW,WAAa,EAAKA,WAAWX,KAAhB,MAClB,EAAKY,eAAiB,EAAKA,eAAeZ,KAApB,MACtB,EAAKa,oBAAsBxB,EAAQyB,WACnC,EAAKC,oBAAsB1B,EAAQ2B,mBACnC,EAAKC,eAAiB5B,EAAQ6B,cAC9B,EAAKC,SAAW9B,EAAQ+B,QACxB,EAAKC,mBAAqBhC,EAAQiC,kBAClC,EAAKC,qBAAuBlC,EAAQmC,oBAC9BnC,EAAQmC,oBACR,IAAIhD,EAAsBiD,oBAChC,EAAKC,iBAA+D,QAA3CpC,EAAKD,EAAQsC,gCAA6C,IAAPrC,GAAgBA,EAC5F,IAAMsC,EAAU,EAAKvB,aACfwB,GAAa,EAAIjD,EAAOkD,WAAWF,EAAQG,SAAS,KAE1D,EAAKC,KAAK,UAAW,CAAEH,eACvB,IAAMI,EAAkB,EAAKd,SAASe,QAAQvD,EAA0BwD,6BACxE,GAAIF,EAAiB,CACjB,IAAMG,EAAYH,EAAgBI,MAAM,KACnB,KAAjBD,EAAU,KACV,EAAKxC,WAAawC,EAAUE,KAAI,SAAAC,GAAO,OAAI,EAAI3D,EAAO4D,qBAAqBD,MAC3E,EAAKP,KAAK,kBAAmBI,IAxCpB,OA2CjB,EAAK3C,qBAAqBgD,OAAOC,GAAG,gBAAgB,SAACC,GACjD,EAAKX,KAAK,UAAW,CACjBY,KAAMD,EAAaE,OACnBC,KAAMH,EAAaI,YAGvB,EAAKnD,WAAWoD,OAAS,GACpB,EAAKC,kBAEdC,OAAOC,iBAAiB,WAAW,SAAAC,GAC/B,IAAI9D,EACJ,GAAwB,sBAApB8D,EAAMN,KAAKF,MAEgB,wBAA3BQ,EAAMN,KAAKA,KAAKO,OAAkC,CAClD,IAAMC,EAAWF,EAAMN,KAAKA,KAAKlB,QAC3Bd,EAAmD,QAArCxB,EAAK8D,EAAMN,KAAKA,KAAKhC,kBAA+B,IAAPxB,EAAgBA,EAAK,EAAKwB,WAC3F,EAAKV,mBAAmBU,EAAYyC,OAAOD,IAAW,OA3D7C,E,uCA+DrB,WACI,OAAO1F,KAAKgC,WAAW,SAAM4D,I,0BAEjC,WACI,OAAO5F,KAAKyC,aAAa0B,SAAS,M,mBAEtC,WACI,OAAO,EAAInD,EAAOkD,WAAWlE,KAAKyC,aAAa0B,SAAS,O,wBAE5D,WACI,OAAO,I,sBAMX,WACI,OAAOnE,KAAKmD,sB,gBAEhB,WACI,OAAOnD,KAAKkD,a,qBAEhB,WACI,OAAO,I,yBAEX,WACI,OAAO,I,sBAEX,WACI,IAAIxB,EACJ,OAA+D,QAAtDA,EAAK1B,KAAKuD,SAASe,QAAQhD,UAA0C,IAAPI,EAAgBA,EAAK1B,KAAKiD,qB,IAErG,SAAe3C,GACXN,KAAKuD,SAASsC,QAAQvE,EAAsBhB,K,6BAEhD,WACI,MAAkE,SAA3DN,KAAKuD,SAASe,QAAQ9C,I,IAEjC,SAAsBlB,GAClBN,KAAKuD,SAASsC,QAAQrE,EAAiClB,EAAM6D,c,6BAIjE,SAAgBjB,EAAYc,GACpBhE,KAAK8F,mBAET9F,KAAKwC,mBAAmBU,EAAYlD,KAAKyC,cAAc,K,gCAE3D,SAAmBS,EAAYc,EAAS+B,GAEpC,KADgF,SAAvD/F,KAAKuD,SAASe,QAAQ/C,MACvBwE,EAAxB,CAEIA,IACA/F,KAAK8F,mBAAoB,GAE7B9F,KAAKkD,WAAaA,EAElB,IAAM8C,EAAkBhG,KAAKyC,aAC7BzC,KAAKuD,SAASsC,QAAQxE,EAAsB2C,EAAQG,SAAS,QACxC,EAAInD,EAAOiF,iBAAiBjC,KAAagC,IACzChG,KAAKiC,mCACtBjC,KAAKoE,KAAK,eAAgBpE,KAAKyC,cAC/BzC,KAAKiC,kCAAmC,M,mDAGhD,WAAiB+C,EAAML,EAASuB,EAAQC,EAAUC,GAAlD,uFACwBpG,KAAKqF,kBAD7B,cACUgB,EADV,gBAEyBA,EAAMC,WAAWtB,EAAML,EAASuB,EAAQC,EAAUC,GAAOG,QAFlF,cAEUC,EAFV,2BAGaA,EAAOA,QAHpB,gD,wHAKA,WAAuBxC,EAASyC,EAASC,EAAmBC,EAAWC,EAAUC,GAAjF,+EAEQ,EAAI7F,EAAOiF,iBAAiBjC,KAAahE,KAAKyC,aAFtD,0CAGe,GAHf,uBAKwBzC,KAAKqF,kBAL7B,cAKUgB,EALV,gBAMsBA,EAAMS,iBAAiB9C,EAAQG,WAAYsC,EAASG,EAAUF,EAAmBC,EAAWE,GAAgBN,QANlI,cAMUQ,EANV,QAOmF,KAApD,QAArBrF,EAAKqF,EAAIP,cAA2B,IAAP9E,OAAgB,EAASA,EAAGsF,cAC3DhH,KAAKuD,SAASsC,QAAQtE,EAA6B,QACnDvB,KAAKwC,mBAAmBiE,EAAQ,GAAIzC,GAAS,IATrD,mBAWsF,KAApD,QAArBiD,EAAKF,EAAIP,cAA2B,IAAPS,OAAgB,EAASA,EAAGD,aAXtE,iD,6HAaA,WAA0BhD,GAA1B,6EACQ,EAAIhD,EAAOiF,iBAAiBjC,KAAahE,KAAKyC,aADtD,iEAIwBzC,KAAKqF,kBAJ7B,cAIUgB,EAJV,gBAKsBA,EAAMa,oBAAoBlD,EAAQG,SAAS,KAAKoC,QALtE,YAKUQ,EALV,QAMYI,UANZ,uBAOcxG,EAAiByG,UAAUC,SAASC,OAAO,CAC7CC,KAAMR,EAAII,YARtB,SAWUK,EAAiBT,EAAIP,QACRQ,YAAcQ,EAAeC,OAAOrC,OAAS,IAC5DpF,KAAKuD,SAASsC,QAAQtE,EAA6B,QACnDvB,KAAKwC,mBAAmBgF,EAAeC,OAAQzD,GAAS,IAdhE,iD,+EAiBA,SAAW0D,EAASC,GACX3H,KAAKqF,kBAAkBuC,MAAK,SAAAvB,GAAK,OAAIA,EAAM3D,WAAWgF,EAASC,Q,+CAExE,+EACI3H,KAAK2D,qBAAqBkE,UAAUhH,EAAOiH,OAAOC,mBAAoB,CAClE9C,OAAQ,mBACR+C,iBAAkBhI,KAAKgC,WAAWoD,OAClC6C,cAAejI,KAAK+B,OAASjB,EAAUoH,QAAQC,KAAKnI,KAAK+B,OAAOqG,QAAQC,IAAM,SAE9ErI,KAAKgC,WAAWoD,OAAS,GANjC,2CAOmBpF,KAAKgC,aAPxB,uBASiBhC,KAAKkC,MAAMf,EAAUmH,cAAcC,qBATpD,wF,yEAWA,WACSvI,KAAKqF,kBAAkBuC,MAAK,SAAAvB,GAAK,OAAIA,EAAMmC,sB,kBAEpD,SAAKC,EAAiBC,GAAkB,WAEpC,GAA+B,kBAApBD,EAA8B,CACrC,IAMM5F,EAAU,CACZ8F,QAAS,MACTN,GAAI,EACJpD,OATWwD,EAUXtD,OATWyD,MAAMC,QAAQH,GACvBA,OACqB9C,IAArB8C,EACI,CAACA,GACD,IAOV,OAAO1I,KAAK8I,kBAAkBjG,GAAS+E,MAAK,SAAAb,GAAG,OAAIA,EAAIP,UAG3D,GAAgC,oBAArBkC,EAAiC,CACxC,IAAM7F,EAAU4F,EACVM,EAAWL,EACjB,OAAO1I,KAAKqC,WAAWQ,EAASkG,GAGpC,GAAIH,MAAMC,QAAQJ,GAEd,OADiBA,EACD/D,KAAI,SAAAsE,GAAC,OAAI,EAAKC,aAAaD,MAG/C,IAAME,EAAMT,EACZ,OAAOzI,KAAKiJ,aAAaC,K,uBAE7B,SAAUrG,EAASkG,GACf,GAAwB,oBAAbA,EACP,MAAM,IAAII,MAAM,wBAGpB,GAAIP,MAAMC,QAAQhG,GAAlB,CACI,IAAMuG,EAAUL,EAChB/I,KAAKqJ,2BAA2BxG,GAC3B+E,MAAK,SAAA0B,GAAS,OAAIF,EAAQ,KAAME,MAChCC,OAAM,SAAAC,GAAG,OAAIJ,EAAQI,EAAK,aAJnC,CAQA,IAAMC,EAAKV,EACX/I,KAAK8I,kBAAkBjG,GAClB+E,MAAK,SAAA8B,GAAQ,OAAID,EAAG,KAAMC,MAC1BH,OAAM,SAAAC,GAAG,OAAIC,EAAGD,EAAK,Y,gDAE9B,WAAcG,GAAd,gFACSA,GAAwB,kBAATA,IAAqBf,MAAMC,QAAQc,GAD3D,sBAEchJ,EAAiByG,UAAUwC,IAAIC,eAAe,CAChDC,QAAS,iDACT5E,KAAMyE,IAJlB,UAOY1E,EAAmB0E,EAAnB1E,OAAQE,EAAWwE,EAAXxE,OACM,kBAAXF,GAAyC,IAAlBA,EAAOG,OAR7C,sBASczE,EAAiByG,UAAUwC,IAAIC,eAAe,CAChDC,QAAS,4CACT5E,KAAMyE,IAXlB,eAcmB/D,IAAXT,GACCyD,MAAMC,QAAQ1D,IACI,kBAAXA,GAAkC,OAAXA,EAhBvC,sBAiBcxE,EAAiByG,UAAUwC,IAAIC,eAAe,CAChDC,QAAS,wDACT5E,KAAMyE,IAnBlB,cAsBUI,OAAuBnE,IAAXT,EAAuB,GAAKA,EAExCkD,EAAKrI,KAAKyD,mBAAmBuG,gBAxBvC,UAyByBhK,KAAK8I,kBAAkB,CACxC7D,SACAE,OAAQ4E,EACRpB,QAAS,MACTN,OA7BR,eAyBU7B,EAzBV,yBA+BWA,EAAOA,QA/BlB,iD,0GAiCA,WAAiByD,GAAjB,uFACwBjK,KAAKqF,kBAD7B,cACUgB,EADV,gBAEsBA,EAAMtD,YAAW,EAAI/B,EAAOkJ,oBAAoBD,IAAQ1D,QAF9E,UAG8B,kBADpBQ,EAFV,QAGmBP,OAHnB,sBAIc,IAAI2C,MAAM,2BAJxB,gCAMWpC,EAAIP,QANf,gD,8GAQA,WAAqBtB,EAAMO,GAA3B,uFACwBzF,KAAKqF,kBAD7B,cACUgB,EADV,gBAEsBA,EAAMrD,eAAekC,EAAMO,GAAQc,QAFzD,UAG8B,kBADpBQ,EAFV,QAGmBP,OAHnB,sBAIc,IAAI2C,MAAM,2BAJxB,gCAMWpC,EAAIP,QANf,gD,4FAQA,WACI,OAAO,I,uBAEX,WACI,MAAM,IAAI2C,MAAM,qC,yBAEpB,WACI,MAAM,IAAIA,MAAM,qC,wBAEpB,WACI,OAAO,I,0BAEX,SAAatG,GACT,IAAM6G,EAAW,CACbf,QAAS,MACTN,GAAIxF,EAAQwF,IAERpD,EAAWpC,EAAXoC,OAER,GADAyE,EAASlD,OAASxG,KAAKmK,0BAA0BtH,QACzB+C,IAApB8D,EAASlD,OACT,MAAM,IAAI2C,MAAM,8CAAuClE,EAAvC,6FAC+CA,EAD/C,wBAIpB,OAAOyE,I,2BAEX,SAAclF,GACV,IAAKoE,MAAMC,QAAQrE,GACf,MAAM,IAAI2E,MAAM,6BAEpB,IAAMiB,EAAe5F,EAAUE,KAAI,SAAAC,GAAO,OAAI,EAAI3D,EAAO4D,qBAAqBD,MAC1E0F,KAAKC,UAAUF,KAAkBC,KAAKC,UAAUtK,KAAKgC,cAGzDhC,KAAKgC,WAAaoI,EAClBpK,KAAKoE,KAAK,kBAAmBpE,KAAKgC,YAClChC,KAAKuD,SAASsC,QAAQ9E,EAA0BwD,4BAA6B6F,EAAaG,KAAK,MAC/FjF,OAAOkF,cAAc,IAAIC,YAAY,uBAAwB,CAAEC,OAAQ1K,KAAKgC,iB,+BAEhF,SAAkBa,GAAS,WACvB,OAAO,IAAI8H,SAAQ,SAACC,EAASC,GACzB,IACI,IAAMC,EAAa,EAAKX,0BAA0BtH,GAClD,QAAmB+C,IAAfkF,EACA,OAAOF,EAAQ,CACXjC,QAAS,MACTN,GAAIxF,EAAQwF,GACZ7B,OAAQsE,IAGhB,IAAMC,EAAgB,EAAKC,iCAAiCnI,GAC5D,QAAsB+C,IAAlBmF,EAIA,YAHAA,EACKnD,MAAK,SAAAb,GAAG,OAAI6D,EAAQzK,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIlE,GAAM,CAAEsB,GAAIxF,EAAQwF,SACxEkB,OAAM,SAAAC,GAAG,OAAIqB,EAAOrB,MAG7B,IAAM0B,EAAsB,EAAKC,2BAA2BtI,GAC5D,QAA4B+C,IAAxBsF,EAQA,YAPAA,EACKtD,MAAK,SAAAb,GAAG,OAAI6D,EAAQ,CACrBjC,QAAS,MACTN,GAAIxF,EAAQwF,GACZ7B,OAAQO,EAAIP,YAEX+C,OAAM,SAAAC,GAAG,OAAIqB,EAAOrB,MAIjC,MAAOA,GACH,OAAOqB,EAAOrB,GAElB,EAAK4B,2BAA2BvI,GAC3B+E,MAAK,SAAAb,GAAG,OAAIA,GAAO6D,EAAQzK,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIlE,GAAM,CAAEsB,GAAIxF,EAAQwF,SAC/EkB,OAAM,SAAAC,GAAG,OAAIqB,EAAOrB,W,wCAGjC,SAA2B6B,GAAU,WACjC,OAAOV,QAAQW,IAAID,EAAS3G,KAAI,SAAAsE,GAAC,OAAI,EAAKF,kBAAkBE,S,uCAEhE,SAA0BnG,GACtB,IAAQoC,EAAWpC,EAAXoC,OACFE,EAAStC,EAAQsC,QAAU,GACjC,OAAQF,GACJ,KAAK9D,EAAUmH,cAAciD,aACzB,OAAOvL,KAAKwL,gBAChB,KAAKrK,EAAUmH,cAAcmD,aACzB,OAAOzL,KAAK0L,gBAChB,KAAKvK,EAAUmH,cAAcqD,oBACzB,OAAO3L,KAAK4L,qBAAqBzG,GACrC,KAAKhE,EAAUmH,cAAcuD,YACzB,OAAO7L,KAAK8L,eAChB,KAAK3K,EAAUmH,cAAcyD,YACzB,OAAO/L,KAAKgM,eAChB,QACI,U,mEAGZ,WAAiCnJ,GAAjC,yEACYoC,EAAWpC,EAAXoC,OACFE,EAAStC,EAAQsC,QAAU,GAFrC,KAGYF,EAHZ,cAIa9D,EAAUmH,cAAcC,oBAJrC,SAMapH,EAAUmH,cAAc2D,SANrC,SAQa9K,EAAUmH,cAAc4D,cARrC,SAUa/K,EAAUmH,cAAc6D,cAVrC,SAYahL,EAAUmH,cAAc8D,mBAZrC,SAcajL,EAAUmH,cAAc+D,oBAdrC,UAgBalL,EAAUmH,cAAcgE,uBAhBrC,UAkBanL,EAAUmH,cAAciE,oBAlBrC,UAoBapL,EAAUmH,cAAckE,qBApBrC,UAsBarL,EAAUmH,cAAcmE,qBAtBrC,UAwBatL,EAAUmH,cAAcoE,qBAxBrC,UA0BavL,EAAUmH,cAAcqE,sBA1BrC,OA2BaxL,EAAUmH,cAAcsE,kBA3BrC,UA6BazL,EAAUmH,cAAcuE,qBA7BrC,UA+Ba1L,EAAUmH,cAAcwE,wBA/BrC,UAiCa3L,EAAUmH,cAAcyE,2BAjCrC,UAmCa5L,EAAUmH,cAAc0E,kBAnCrC,4CAKmBhN,KAAKiN,wBALxB,gCAOmBjN,KAAKkN,UAAU/H,IAPlC,gCASmBnF,KAAKmN,eAAehI,IATvC,gCAWmBnF,KAAKoN,eAAejI,IAXvC,gCAamBnF,KAAKqN,oBAAoBlI,IAb5C,iCAemBnF,KAAKsN,qBAAqBnI,IAf7C,iCAiBmBnF,KAAKuN,wBAAwBpI,IAjBhD,iCAmBmBnF,KAAKwN,qBAAqBrI,IAnB7C,iCAqBmBnF,KAAKyN,sBAAsBtI,IArB9C,iCAuBmBnF,KAAK0N,gCAvBxB,iCAyBmB1N,KAAK2N,sBAAsBxI,IAzB9C,iCA4BmBnF,KAAK4N,sBAAsBzI,IA5B9C,iCA8BmBnF,KAAK6N,sBAAsB1I,IA9B9C,iCAgCmBnF,KAAK8N,yBAAyB3I,IAhCjD,iCAkCmBnF,KAAK+N,4BAA4B5I,IAlCpD,iCAoCmBnF,KAAKgO,mBAAmB7I,IApC3C,yBAsCwBnF,KAAKqF,kBAtC7B,eAsCUgB,EAtCV,yBAuCWA,EAAM4H,2BAA2BpL,EAAS7C,KAAKkD,aAvC1D,iD,qGAyCA,SAAiCL,GAC7B,IAAQoC,EAAWpC,EAAXoC,OACFE,EAAStC,EAAQsC,QAAU,GACjC,OAAQF,GACJ,KAAK9D,EAAUmH,cAAc4F,cACzB,OAAOlO,KAAKmO,eAAehJ,GAC/B,KAAKhE,EAAUmH,cAAc8F,mBACzB,OAAOpO,KAAKqO,sBAChB,KAAKlN,EAAUmH,cAAcgG,gCACzB,OAAOtO,KAAKuO,mCAChB,KAAKpN,EAAUmH,cAAckG,qBACzB,OAAOxO,KAAKyO,sBAAsBtJ,GACtC,KAAKhE,EAAUmH,cAAcoG,kBACzB,OAAO1O,KAAK2O,mBAAmBxJ,M,wCAI3C,SAA2BtC,GACvB,OAAQA,EAAQoC,QACZ,KAAK9D,EAAUmH,cAAcsG,cAC7B,KAAKzN,EAAUmH,cAAcuG,gBACzB,OAAO7O,KAAK6B,qBAAqBiN,cAAcjM,M,6BAI3D,SAAgBkM,GACZ,IACI,IAAMpK,GAAU,EAAI3D,EAAO4D,qBAAqBmK,GAC1CC,EAAqBhP,KAAKgC,WAAW0C,KAAI,SAAAC,GAAO,OAAI,EAAI3D,EAAO4D,qBAAqBD,MAC1F,OAAOqK,EAAmBC,SAAStK,GAEvC,MAAOjD,IACP,OAAO,I,iCAEX,SAAoBqN,GAChB,IAAK/O,KAAKkP,gBAAgBH,GAEtB,MADA/O,KAAK2D,qBAAqBkE,UAAUhH,EAAOiH,OAAOqH,6BAC5C,IAAIhG,MAAM,8B,uCAGxB,SAA0BiG,GACtB,IAAMC,EAAcD,EAAGE,MACjB,EAAItO,EAAO4D,qBAAqBwK,EAAGE,MACnCtP,KAAKuP,gBACX,IAAKF,EACD,MAAM,IAAIlG,MAAM,mCAYpB,OAVAnJ,KAAKwP,oBAAoBH,GAUlB,CACHA,cACAI,UAXcL,EAAGM,IAAK,EAAI1O,EAAO4D,qBAAqBwK,EAAGM,IAAM,KAY/DC,SAXyB,MAAZP,EAAG9O,OAAgB,EAAIU,EAAO4O,UAAUR,EAAG9O,OAAS,IAAII,EAAQmP,QAAQ,GAYrF3K,KAXSkK,EAAGlK,MAAO,EAAIlE,EAAO8O,cAAcV,EAAGlK,MAAQ6K,EAAOC,MAAM,GAYpEC,MAXsB,MAAZb,EAAGa,OAAgB,EAAIjP,EAAOiF,iBAAiBmJ,EAAGa,OAAS,KAYrEC,cAXiC,MAAfd,EAAGe,UAAmB,EAAInP,EAAO4O,UAAUR,EAAGe,UAAY,KAY5EC,aAXoC,MAAnBhB,EAAGgB,cAAuB,EAAIpP,EAAO4O,UAAUR,EAAGgB,cAAgB,KAYnFC,qBAXoD,MAA3BjB,EAAGiB,sBAA+B,EAAIrP,EAAO4O,UAAUR,EAAGiB,sBAAwB,KAY3GC,SAXuB,MAAVlB,EAAGmB,KAAc,EAAIvP,EAAO4O,UAAUR,EAAGmB,KAAO,KAY7DvM,QAXYhE,KAAKyC,gB,mCAczB,WACI,GAA+B,IAA3BzC,KAAKgC,WAAWoD,OAChB,MAAMzE,EAAiByG,UAAUC,SAASmJ,aAAa,M,0CAG/D,WACI,MAAM7P,EAAiByG,UAAUC,SAASoJ,kBAAkB,M,6DAEhE,WAA2B3G,EAASnF,EAAS+L,EAAWC,GAAxD,8EACI3Q,KAAKwP,oBAAoB7K,GAD7B,kBAG4B3E,KAAKqF,kBAHjC,cAGcgB,EAHd,gBAI0BA,EAAMuK,oBAAoB9G,EAASnF,EAAS+L,EAAWC,GAAepK,QAJhG,cAIcQ,EAJd,yBAKe,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,EAAIP,SALpD,qCAQmC,kBAAhB,KAAIsD,UACX,KAAIA,QAAQG,MAAM,sBAT9B,uBAUkBtJ,EAAiByG,UAAUC,SAASwJ,oBAAoB,iCAV1E,6E,uIAeA,WAAwC/G,EAASgH,EAAWJ,GAA5D,uFACwB1Q,KAAKqF,kBAD7B,cACUgB,EADV,gBAEsBA,EAAM0K,iCAAiCjH,EAASgH,EAAWJ,GAAWnK,QAF5F,cAEUQ,EAFV,yBAGW,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,EAAIP,SAHhD,gD,sFAKA,WACI,OAAO,EAAIxG,KAAKgC,c,2BAEpB,WACI,OAAOhC,KAAKuP,iBAAmB,O,0BAEnC,WACI,OAAOvP,KAAKyC,aAAa0B,SAAS,M,0BAEtC,WACI,OAAO,EAAInD,EAAOgQ,wBAAwBhR,KAAKyC,gB,wBAEnD,WACI,IAAMwB,EAAajE,KAAKuD,SAASe,QAAQjD,IAAyB,IAC5D2C,EAAUiN,SAAShN,EAAY,IACrC,OAAO,EAAIjD,EAAOiF,iBAAiBjC,K,6DAEvC,uFACIhE,KAAK2D,qBAAqBkE,UAAUhH,EAAOiH,OAAOC,mBAAoB,CAClE9C,OAAQ,iCACR+C,iBAAkBhI,KAAKgC,WAAWoD,OAClC6C,cAAejI,KAAK+B,OAASjB,EAAUoH,QAAQC,KAAKnI,KAAK+B,OAAOqG,QAAQC,IAAM,SAE9ErI,KAAKgC,WAAWoD,OAAS,GANjC,yCAOeuF,QAAQC,QAAQ,CACnBjC,QAAS,MACTN,GAAI,EACJ7B,OAAQxG,KAAKgC,cAVzB,gCAe4BhC,KAAKqF,kBAfjC,cAecgB,EAfd,gBAgBoBA,EAAM6K,0BAA0B3K,QAhBpD,OAgBQQ,EAhBR,4DAmBmC,kBAAhB,KAAI+C,UACX,KAAIA,QAAQG,MAAM,sBApB9B,uBAqBkBtJ,EAAiByG,UAAUC,SAASwJ,oBAAoB,qCArB1E,8BAyBS9J,EAAIP,OAzBb,uBA0Bc,IAAI2C,MAAM,8BA1BxB,eA4BInJ,KAAK8C,cAAciE,EAAIP,QA5B3B,kBA6BW,CAAEmC,QAAS,MAAON,GAAI,EAAG7B,OAAQxG,KAAKgC,aA7BjD,0D,6EA+BA,SAAUmD,GACNnF,KAAKmR,wBACL,IAAMxM,GAAU,EAAI3D,EAAO4D,qBAAqBO,EAAO,IACjD2E,GAAU,EAAI9I,EAAO8O,cAAc3K,EAAO,IAChD,OAAOnF,KAAKoR,qBAAqBtH,EAASnF,GAAS,K,4BAEvD,SAAeQ,GACX,IAAM2E,GAAU,EAAI9I,EAAO8O,cAAc3K,EAAO,IAC1C2L,GAAY,EAAI9P,EAAO8O,cAAc3K,EAAO,IAClD,OAAOnF,KAAKqR,kCAAkCvH,EAASgH,GAAW,K,4BAEtE,SAAe3L,GACXnF,KAAKmR,wBACL,IAAMrH,GAAU,EAAI9I,EAAO8O,cAAc3K,EAAO,IAC1CR,GAAU,EAAI3D,EAAO4D,qBAAqBO,EAAO,IACvD,OAAOnF,KAAKoR,qBAAqBtH,EAASnF,GAAS,K,iCAEvD,SAAoBQ,GAChB,IAAM2E,GAAU,EAAI9I,EAAO8O,cAAc3K,EAAO,IAC1C2L,GAAY,EAAI9P,EAAO8O,cAAc3K,EAAO,IAClD,OAAOnF,KAAKqR,kCAAkCvH,EAASgH,GAAW,K,6DAEtE,WAA2B3L,GAA3B,gFACInF,KAAKmR,wBACC/B,EAAKpP,KAAKsR,0BAA0BnM,EAAO,IAAM,IAF3D,kBAI4BnF,KAAKqF,kBAJjC,cAIcgB,EAJd,gBAK0BA,EAAMkL,wBAAwBnC,GAAI7I,QAL5D,cAKcQ,EALd,yBAMe,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,EAAIP,SANpD,qCASmC,kBAAhB,KAAIsD,UACX,KAAIA,QAAQG,MAAM,sBAV9B,uBAWkBtJ,EAAiByG,UAAUC,SAASwJ,oBAAoB,qCAX1E,6E,uHAgBA,WAA8B1L,GAA9B,gFACUqM,GAAoB,EAAIxQ,EAAO8O,cAAc3K,EAAO,IAD9D,SAEwBnF,KAAKqF,kBAF7B,cAEUgB,EAFV,gBAGsBA,EAAMoL,0BAA0BD,EAAmBxR,KAAKyC,cAAc8D,QAH5F,cAGUQ,EAHV,yBAIW,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,EAAIP,SAJhD,gD,oHAMA,WAA2BrB,GAA3B,gFACInF,KAAKmR,wBACC/B,EAAKpP,KAAKsR,0BAA0BnM,EAAO,IAAM,IAF3D,kBAI4BnF,KAAKqF,kBAJjC,cAIcgB,EAJd,gBAK0BA,EAAMqL,iCAAiCtC,GAAI7I,QALrE,cAKcQ,EALd,yBAMe,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,EAAIP,SANpD,qCASmC,kBAAhB,KAAIsD,UACX,KAAIA,QAAQG,MAAM,sBAV9B,uBAWkBtJ,EAAiByG,UAAUC,SAASwJ,oBAAoB,qCAX1E,6E,qHAgBA,WAA4B1L,GAA5B,kFACInF,KAAKmR,wBACCQ,GAAY,EAAI3Q,EAAO4Q,wBAAwBzM,EAAO,IACtDR,GAAU,EAAI3D,EAAO4D,qBAAqBO,EAAO,IACvDnF,KAAKwP,oBAAoB7K,GACnBmF,EAAU7I,EAAkB4O,QAAQgC,2BAA2B,CAAE3M,KAAMyM,IACvEG,EAAgBzH,KAAKC,UAAUqH,EAAW,KAAM,GAN1D,kBAOW3R,KAAKoR,qBAAqBtH,EAASnF,GAAS,EAAOmN,IAP9D,gD,qHASA,WAA4B3M,GAA5B,kFACInF,KAAKmR,wBACCxM,GAAU,EAAI3D,EAAO4D,qBAAqBO,EAAO,IACjDwM,GAAY,EAAI3Q,EAAO4Q,wBAAwBzM,EAAO,IAC5DnF,KAAKwP,oBAAoB7K,GACnBmF,EAAU7I,EAAkB4O,QAAQkC,wBAAwB,CAAE7M,KAAMyM,IACpEG,EAAgBzH,KAAKC,UAAUqH,EAAW,KAAM,GAN1D,kBAOW3R,KAAKoR,qBAAqBtH,EAASnF,GAAS,EAAOmN,IAP9D,gD,qHASA,WAA4B3M,GAA5B,kFACInF,KAAKmR,wBACCxM,GAAU,EAAI3D,EAAO4D,qBAAqBO,EAAO,IACjDwM,GAAY,EAAI3Q,EAAO4Q,wBAAwBzM,EAAO,IAC5DnF,KAAKwP,oBAAoB7K,GACnBmF,EAAU7I,EAAkB4O,QAAQmC,wBAAwB,CAAE9M,KAAMyM,IACpEG,EAAgBzH,KAAKC,UAAUqH,EAAW,KAAM,GAN1D,kBAOW3R,KAAKoR,qBAAqBtH,EAASnF,GAAS,EAAOmN,IAP9D,gD,qHASA,WAA4B3M,GAA5B,4EACUM,EAASN,EAAO,GAEF,kBADdD,EAAOC,EAAO,IAFxB,sBAIc,IAAIgE,MAAM,8BAJxB,UAM0B,kBAAX1D,GAAkC,OAAXA,EANtC,sBAOc,IAAI0D,MAAM,+BAPxB,uBASyBnJ,KAAKgD,eAAeyC,EAAQP,GATrD,cASUsB,EATV,yBAUW,CAAEmC,QAAS,MAAON,GAAI,EAAG7B,WAVpC,iD,wHAYA,WAA+BrB,GAA/B,kFAEUtC,EAAUsC,EAAO,GACyD,KAAhD,QAA1BzD,EAAKmB,EAAQ4D,eAA4B,IAAP/E,OAAgB,EAASA,EAAG0D,QAHxE,yCAIe,CACHuD,QAAS,MACTN,GAAI,EACJ4J,MAAO,CAAE1K,KAAM,EAAGuC,QAAS,sCAPvC,UAUSjH,EAAQ8D,WAA0C,KAA7B9D,EAAQ8D,UAAUuL,OAVhD,sBAWcvR,EAAiByG,UAAUC,SAASC,OAAO,CAC7CC,KAAM,EACNuC,QAAS,kCAbrB,UAgBSjH,EAAQgE,eAhBjB,sBAiBclG,EAAiByG,UAAUC,SAASC,OAAO,CAC7CC,KAAM,EACNuC,QAAS,uCAnBrB,cAsBUqI,EAAgBlB,SAASpO,EAAQmB,QAAS,IAtBpD,UAuB0BhE,KAAK8G,iBAAiBqL,EAA0C,QAA1BlL,EAAKpE,EAAQ4D,eAA4B,IAAPQ,EAAgBA,EAAK,GAAyC,QAApCmL,EAAKvP,EAAQ6D,yBAAsC,IAAP0L,EAAgBA,EAAK,GAAIvP,EAAQ8D,UAAuC,QAA3B0L,EAAKxP,EAAQ+D,gBAA6B,IAAPyL,EAAgBA,EAAK,GAAIxP,EAAQgE,gBAvBzR,6DAyBe,CAAE8B,QAAS,MAAON,GAAI,EAAG7B,OAAQ,OAzBhD,iCA4Be,CACHmC,QAAS,MACTN,GAAI,EACJ4J,MAAO,CAAE1K,KAAM,EAAGuC,QAAS,kCA/BvC,iD,2HAmCA,WAAkC3E,GAAlC,4EACUtC,EAAUsC,EAAO,GAD3B,SAEUnF,KAAKkH,oBAAoB+J,SAASpO,EAAQmB,QAAS,KAF7D,gCAGW,CAAE2E,QAAS,MAAON,GAAI,EAAG7B,OAAQ,OAH5C,gD,kHAKA,WAAyBrB,GAAzB,sFAEUtC,EAAW+F,MAAMC,QAAQ1D,GAAUA,EAAO,GAAKA,EACwB,KAAhD,QAAvBzD,EAAKmB,EAAQmC,YAAyB,IAAPtD,OAAgB,EAASA,EAAG0D,QAHrE,sBAIczE,EAAiByG,UAAUwC,IAAI0I,cAAc,CAC/CxI,QAAS,6BALrB,UAQyB,UAAjBjH,EAAQmC,KARhB,sBAScrE,EAAiByG,UAAUwC,IAAI0I,cAAc,CAC/CxI,QAAS,kBAAF,OAAoBjH,EAAQmC,KAA5B,qBAVnB,UAasB,OAAZnC,QAAgC,IAAZA,OAAqB,EAASA,EAAQpB,QAbpE,sBAccd,EAAiByG,UAAUwC,IAAI0I,cAAc,CAC/CxI,QAAS,gCAfrB,UAkBSjH,EAAQpB,QAAQkD,QAlBzB,sBAmBchE,EAAiByG,UAAUwC,IAAI0I,cAAc,CAC/CxI,QAAS,wCApBrB,gBAuBiDjH,EAAQpB,QAA7CkD,EAvBZ,EAuBYA,QAASuB,EAvBrB,EAuBqBA,OAAQE,EAvB7B,EAuB6BA,MAAOD,EAvBpC,EAuBoCA,SAvBpC,UAwBsBnG,KAAKsG,WAAWzD,EAAQmC,KAAML,EAASuB,EAAQC,EAAUC,GAxB/E,eAwBUW,EAxBV,yBAyBW,CAAE4B,QAAS,MAAON,GAAI,EAAG7B,OAAQO,IAzB5C,iD,yFA2BA,SAAqB5B,GACjB,IAAMoN,GAAW,EAAIvR,EAAOwR,iBAAiBrN,EAAO,IACpD,OAAOnF,KAAK2B,gBAAgB8Q,gBAAgBF,K,uDAEhD,WAAqBpN,GAArB,8EACUuN,EAAQvN,EAAO,GADzB,SAE2BnF,KAAK2B,gBAAgBgR,UAAUD,GAF1D,cAEUH,EAFV,yBAGW,CAAE5J,QAAS,MAAON,GAAI,EAAG7B,OAAQ+L,IAH5C,gD,mHAKA,kGAC2BvS,KAAK2B,gBAAgBiR,iBADhD,cACUL,EADV,yBAEW,CAAE5J,QAAS,MAAON,GAAI,EAAG7B,OAAQ+L,IAF5C,gD,+HAIA,kGAC2BvS,KAAK2B,gBAAgBkR,8BADhD,cACUN,EADV,yBAEW,CAAE5J,QAAS,MAAON,GAAI,EAAG7B,OAAQ+L,IAF5C,gD,yFAIA,SAAsBpN,GAClB,IAAMoN,GAAW,EAAIvR,EAAOwR,iBAAiBrN,EAAO,IACpD,OAAOnF,KAAK2B,gBAAgBmR,iBAAiBP,K,gCAEjD,SAAmBpN,GACf,IAAMoN,GAAW,EAAIvR,EAAOwR,iBAAiBrN,EAAO,IACpD,OAAOnF,KAAK2B,gBAAgBoR,cAAcR,K,6BAE9C,WAAkB,WACd,OAAIvS,KAAK+B,OACE4I,QAAQC,QAAQ5K,KAAK+B,QAEzB/B,KAAKqD,iBAAiBuE,MAAK,SAAAvB,GAM9B,OALAA,EAAM2M,qBAAoB,SAAAC,GAAQ,OAAI,EAAKnQ,cAAcmQ,MACzD5M,EAAM6M,kBAAiB,SAAClP,EAASd,GAC7B,EAAKV,mBAAmBU,EAAY+N,SAASjN,EAAS,KAAK,MAE/D,EAAKjC,OAASsE,EACPA,S,GA9vBc7F,EAAqBqP,SAkwBtDxP,EAAQE,mBAAqBA,I,6NC5xB7B,cAUEJ,4CAAAgT,cAAAC,eAAA,OAVOC,sBAWPlT,iDAAAgT,cAAAC,eAAA,OAXyBC,2BAC3B,cAWElT,0CAAAgT,cAAAC,eAAA,OAVAE,oBAWAnT,8CAAAgT,cAAAC,eAAA,OAXgBE,wBAElB,cAKEnT,qCAAAgT,cAAAC,eAAA,OALOG,eACT,cAGEpT,sCAAAgT,cAAAC,eAAA,OAHOI,iB,0NCLT,aAcaC,E,8BAMX,WAAYlM,EAAcuC,EAAiB5E,GAAQ,MAEjD,GAFiD,WAE5CS,OAAO+N,UAAUnM,GACpB,MAAM,IAAI4B,MACR,8BAGJ,IAAKW,GAA8B,kBAAZA,EACrB,MAAM,IAAIX,MACR,wCAT6C,OAajD,cAAMW,IACDvC,KAAOA,OACC3B,IAATV,IACF,EAAKA,KAAOA,GAhBmC,E,mCAuBnD,WACE,IAAMyO,EAAyC,CAC7CpM,KAAM,KAAKA,KACXuC,QAAS,KAAKA,SAQhB,YANkBlE,IAAd,KAAKV,OACPyO,EAAWzO,KAAO,KAAKA,MAErB,KAAK0O,QACPD,EAAWC,MAAQ,KAAKA,OAEnBD,I,sBAOT,WACE,OAAOE,UACL,KAAKC,YACLC,EACA,O,KAnDmC5K,QAAzC9I,qB,IA4Da2T,E,8BAMX,WAAYzM,EAAcuC,EAAiB5E,GAEzC,GAFiD,WAcrD,SAAgCqC,GAC9B,OAAO5B,OAAO+N,UAAUnM,IAASA,GAAQ,KAAQA,GAAQ,KAblD0M,CAAuB1M,GAC1B,MAAM,IAAI4B,MACR,6DAJ6C,mBAQ3C5B,EAAMuC,EAAS5E,G,aAdqBuO,GAwB9C,SAASM,EAAkBG,EAAY5T,GACrC,GAAc,eAAVA,EAGJ,OAAOA,EA5BTD,2B,qHCnDaA,aAAyB,CACpCuJ,IAAK,CACHuK,cAAe,KACfC,kBAAmB,MACnBC,qBAAsB,MACtBC,qBAAsB,MACtBC,oBAAqB,MACrBC,eAAgB,MAChBC,OAAQ,MACR5K,gBAAiB,MACjB6K,gBAAiB,MACjBpC,eAAgB,MAChBqC,UAAW,OAEbtN,SAAU,CACRwJ,oBAAqB,KACrBL,aAAc,KACdC,kBAAmB,KACnBmE,aAAc,KACdC,kBAAmB,OAIVxU,cAAc,CACzB,SAAU,CACRyU,SAAU,eACVhL,QAAS,yGAEX,SAAU,CACRgL,SAAU,eACVhL,QAAS,gDAEX,SAAU,CACRgL,SAAU,eACVhL,QAAS,iDAEX,SAAU,CACRgL,SAAU,eACVhL,QAAS,gCAEX,SAAU,CACRgL,SAAU,eACVhL,QAAS,4BAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,kBAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,uBAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,yBAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,yBAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,yBAEX,SAAU,CACRgL,SAAU,WACVhL,QAAS,2BAEX,KAAQ,CACNgL,SAAU,WACVhL,QAAS,8BAEX,KAAQ,CACNgL,SAAU,WACVhL,QAAS,4EAEX,KAAQ,CACNgL,SAAU,WACVhL,QAAS,oEAEX,KAAQ,CACNgL,SAAU,WACVhL,QAAS,iDAEX,KAAQ,CACNgL,SAAU,WACVhL,QAAS,4D,sEC5Gb3J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwD,yBAAsB,E,IACxBA,E,qEACF,SAAUkR,EAAYC,Q,KAI1B3U,EAAQwD,oBAAsBA,G,kCCP9B,IAAIoR,EAAmBjV,MAAQA,KAAKiV,kBAAqB9U,OAAO+U,OAAU,SAASC,EAAGC,EAAGC,EAAGC,QAC7E1P,IAAP0P,IAAkBA,EAAKD,GAC3BlV,OAAOC,eAAe+U,EAAGG,EAAI,CAAEnC,YAAY,EAAMC,IAAK,WAAa,OAAOgC,EAAEC,OAC1E,SAASF,EAAGC,EAAGC,EAAGC,QACT1P,IAAP0P,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,KAEVE,EAAgBvV,MAAQA,KAAKuV,cAAiB,SAASH,EAAG/U,GAC1D,IAAK,IAAImV,KAAKJ,EAAa,YAANI,GAAoBrV,OAAOsV,UAAUC,eAAeC,KAAKtV,EAASmV,IAAIP,EAAgB5U,EAAS+U,EAAGI,IAE3HrV,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDiV,EAAa9U,EAAQ,MAAaJ,GAClCkV,EAAa9U,EAAQ,MAAkCJ,I,sECTvDF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6H,aAAU,EAClB,IAAM0N,EAAcnV,EAAQ,MACtBoV,EAASpV,EAAQ,KACjBqV,EAAcrV,EAAQ,KACtBO,EAASP,EAAQ,KACjBsV,EAAyB,aACzBC,EAA6B,iBAC7BC,EAA6B,iBAC7B/N,E,WACF,WAAY1E,EAAS6E,EAAI6N,EAAQC,GAAQ,UACrCnW,KAAKuD,SAAWC,EAChBxD,KAAKoW,IAAM/N,IAAM,EAAIrH,EAAOqV,gBAAgB,IAC5CrW,KAAKsW,QAAUJ,IAAU,EAAIlV,EAAOqV,gBAAgB,IACpD,IAAMlO,EAAOyN,EAAYW,OAAOrB,SAChC/M,EAAKqO,OAAL,UAAexW,KAAKoW,IAApB,aAA4BpW,KAAKsW,QAAjC,gBACAtW,KAAKyW,KAAOtO,EAAKuO,MACjB1W,KAAK2W,UAAYR,E,0BAyBrB,WACI,OAAOnW,KAAKoW,M,kBAEhB,WACI,OAAOpW,KAAKsW,U,eAEhB,WACI,OAAOtW,KAAKyW,O,kBAEhB,WACI,OAAOzW,KAAK2W,S,IAEhB,SAAWC,GACP5W,KAAK2W,QAAUC,EACf5W,KAAK6W,kB,kBAET,WAII,OAHA7W,KAAKuD,SAASsC,QAAQkQ,EAAwB/V,KAAKoW,KACnDpW,KAAKuD,SAASsC,QAAQmQ,EAA4BhW,KAAKsW,SACvDtW,KAAK6W,gBACE7W,O,2BAEX,WACIA,KAAKuD,SAASsC,QAAQoQ,EAA4BjW,KAAK2W,QAAU,IAAM,Q,mBA9C3E,SAAYnT,GACR,IAAM6E,EAAK7E,EAAQc,QAAQyR,GACrBI,EAAS3S,EAAQc,QAAQ2R,GACzBC,EAAS1S,EAAQc,QAAQ0R,GAC/B,OAAI3N,GAAM6N,EACC,IAAIhO,EAAQ1E,EAAS6E,EAAI6N,EAAmB,MAAXC,GAErC,O,qCAEX,WACI,OAAO,EAAIN,EAAOiB,WAAWxR,OAAQ,WAAWyR,MAAK,EAAIjB,EAAYkB,SAAQ,SAAAC,GAAG,OAAIA,EAAIC,MAAQnB,MAAyB,EAAID,EAAYpR,MAAK,SAAAuS,GAAG,MAAK,CAClJE,SAAUF,EAAIE,UAAY,KAC1BC,SAAUH,EAAIG,UAAY,Y,kBAOlC,SAAYC,GACR,IAAMlP,EAAOyN,EAAYW,OAAOrB,SAChC,OAAO/M,EAAKqO,OAAOa,GAAWX,U,KA4BtCrW,EAAQ6H,QAAUA,G,kCClEhB,SAAWoP,EAAQ9N,GACpB+N,uBAAA,aAFD,mC,kCCJA,kCACE,MAA4B,W,MACjB,oBAAAC,OACP,OAAoB,gBAAiB,gCAFb,I,kCCM9B,kC,MAC2D,W,SAClDC,EAAYC,GAOlB,OANCvO,MAAK,W,KACAW,QAAO4N,EAERA,EAAK,OAAG,4CAAsBA,qBAAA,gDAClC,KAAKC,KAAM,sBACX,YAAYD,EACb,KAKC,OADFD,EAAO,UAAwB,+BAC5BA,EAbsD,I,kCCRzD,SAAQG,EAAaC,GACtB,qCAFD,mC,kCCAA,+CAUE,SAAOC,EAAUC,G,KACTA,IACN,IAAIrW,IAAUsW,EAAW,SAAAC,gBAAAC,c,GACvBF,GAAYE,EACb,SAEAH,EADC,GAAW,aAAY,IACxBA,EAEAA,KAGJ,W,gKCV6CI,WAAaC,G,SAQzDD,EAEEE,EAAOC,GAFU,MAAMF,EAAN,KAAqB,YAGvC,OAFqBG,WANZA,iBAAsBD,EAGhCC,YAAW,E,iBAKV,EAX2C,OAQ5CC,MACsBJ,G,EAMR,UAAaK,WAAU,SAAYC,GAChD,uC,EAGqBjD,UAAUkD,sBAC9B,IAAIC,EAAQ,KAAIC,SAIjB,OAHG,IAAKD,EAAeV,YACrB,qCAEF,e,EAGkB,UAAKY,QAAY,WAClC,IAAIC,EAAa,iBAWlB,OAVG,IACA,kBAAkB,GAClBA,EAAW,KAAIC,YAAW,SACvB,IAAU,KAAIX,OACbY,UAAW,MAAQ,0BACrBF,EAAK,SACL,iBAAa,KACdA,cAGJ,G,EAGQ,UAAqBG,SAAwB,WACrD,4BA3C2C,EAAAf,CAAA,KA+CtCgB,EAAwD,WAC9D,MAAO,Y,MACL,CACAC,SAAS,CAAE9Y,MAAO,MAClB+Y,UAAU,CAAE/Y,MAAO,EAAYgZ,UAAU,GACzCT,UAAWvY,MAAI,KAAOgZ,UAAc,GACpCN,YAAY,CAAE1Y,MAAO,KAAAgZ,UAAiB,GACtCb,WAAW,CAAEnY,MAAOiZ,EAAkBd,YACtCe,YAAY,CAAElZ,MAAOiZ,EAAiB,YAAYD,aAClDX,WAAW,CAAArY,MAAO,EAAiB,YACnCwY,QAAQ,CAAExY,MAAOiZ,EAAkBT,SACnCI,UAAA5Y,mBAX4D,GAczBmZ,WAAoBrB,G,SACzDqB,EAEExB,EAAMyB,GADY,QAAW,KAAX,SAAqC,KAExD,O,gBAAA,EAJoC,OACrClB,MAAYJ,G,EAKO,UAAGuB,mBACpB,oBACDvB,iC,EAEkB,UAAWwB,UAAQ,WACpC,KAAKF,YAAYF,aAAG,EACpB,oBACDpB,kC,EAE0B3C,UAAKoE,aAAY,WAC1C,IAAIH,EAAa,iB,GACfA,EAAK,CACL,KAAMA,YAAa,KACnB,MAAY,EAAc,YAC1BA,EAAYL,UAAW,EACvBK,EAAYb,SAAW,KACvBa,EAAI,YAAY,KACdX,GACDA,kBAxBgC,EAAAU,CA6BvCK,KAmBoC,K,mGC5GIC,WAAU3B,G,SAEhD2B,EACEC,GADkB,MAAM5B,EAAN,KAAS,YAE5B,O,WAAA,EAJqC,OAEtCI,MAA6BJ,G,sBAI7B2B,qB,IACE,WACD,wB,cAAAE,kB,EAIO,UAAexB,oBAAMC,GAC3B,IAAIwB,EAAY,EAAwB,UAAczB,WAAQ9C,KAAA,KAAA+C,GAI/D,OAHGwB,IAAgB,EAAa,QAC9BxB,oBAEF,G,EAGU,UAAUyB,oB,GACjB,cACD,uBACC,QAAUC,OACX,cAEA,oB,EAID,UAAUC,cAAM/Z,GACjB8X,2CA/B4C2B,EAAPA,CAAA,M,qIC+Ce,aAAiBO,GAIvE,YAHQ,IAAP,IACEA,EAAO,GAEV,YAED,2B,MAC8C,W,SAAUC,EAAiBC,UACtE,QAEDF,KAEC,iBACH,aAeE,O,+BARF,wDAQE,EArB4C,G,EAsBA,Y,uBAG3C,QAVMA,KAEL,MAAYlC,EAAC,KAAQ,KAAAH,IAAa,KAU5B,OATNM,EAAK,UAAaiC,EACnBjC,UAQO,EA2BR,O,IA/BoB,EAAiBH,G,EAMnBqC,SAAK,SAAUC,GAKhC,qCAES3V,aACR,KAAK4V,eAGGC,4BAAV,SAAyB7V,GAClB,KAAgBkT,YAChB,IAAW,KAAGuC,UAAAK,SAAAD,WAAA,wCAGXA,2BAAVta,GACE,KAAKwa,gBAAgBC,IAAaC,WAAA1a,KAEpCsa,EAAC,UAAAjB,OAAA,YACH,yBAAC,YAAAnQ,IApC2C,KAAUmR,eAsCtDC,iCACE,yBAAkDK,kBAA/B,oBAElBL,EAhC2C,M,gHCxF9C,wDAKE,SAAWM,EAAcC,EAAAX,G,OACvB,IAASY,KAAO,SAAc1C,GAC9B,IAAI2C,EAAM,QACNC,EAAI,EAWP,O,EAVCC,IAAIf,EAAM,UAAY,WACpBc,MAAW,QAIb5C,EAAK,KAAWyC,EAAMG,MACpB,EAAYlB,QACbiB,wBALC3C,EAAO,eAQV,O,kCCIL,mDASE,WAAoB8C,EACRC,QAAA,QADQA,IAAeA,KAGlC,uBA6BM,W,SACL,UAAgBZ,kBAAuBa,EAAOpB,EAACqB,GAElD,YADE,QApCarB,EAAoB,GAqCnC,gD,sCA5CD,I,kCChBA,kC,MAC2B,W,SAClBsB,IAIN,OAHCzS,MAAK,WACL,KAAKW,QAAO,uBACZ,UAAY,eACb,KAKC,OADF8R,EAAO,UAAiB,+BACrBA,EAVsB,I,kCCP3B,+CAiEE,SAAOC,IACR,wB,kCCnED,0EAyH4B,a,UAAA,0BAAoEC,I,kBAE/F,IAAIC,EAA2BpW,OAAK,kBAC/B6U,EAAY,KACZwB,IAAmBC,Y,OACrBC,YAA2BF,IAC3BxB,EAAI,EAAkB,MACpByB,EAAU,OAAW,GAAkB,kBAAAA,gBACxCF,YAEoB,kBAAXC,IACXD,WAGuB,OAAtBvB,GAAqCyB,iCACtC,KAGF,mC,qHC9EuB,a,UAAA,0BAAsCH,I,qBAInC,IAAvBG,EAAY7W,OAAc,C,IACxByD,cAAc,IAGf,YAFAoT,OAMJ,yC,IAEDE,aAIA,SAACA,KAJD,O,EAEW,UAAOxG,KAAU,SAAI+C,EAAeL,GAC5C,8BACF8D,EAJDA,GAWuCC,WAAqBhE,G,SAK1DgE,EACEnE,GALM,QAAoB,KAAM,KAAAA,IAAA,KAMjC,OALOM,YAAW,EACXA,cAAa,G,mBAIpB,EAPoC,OAKrCC,MAAYJ,G,EAKL,UAAgBiE,MAAC,SAAYC,GACnC,0B,EAGO,UAAc1C,UAAK,WACzB,IAAMqC,EAAM,KAAYA,YAEpBM,EAAG,EAAQ,O,GACR,IAALA,EACD,gCACC,C,IACE,IAAMjB,MAAUiB,IAAG,KAAYC,SAAGlB,KAClC,IAAMgB,EAAYL,EAAG,GAEjB/B,EAAK,YAAe,iBACtB,KAAKuC,eACN,2BAEF,YAEF,wB,EAKS,UAAUC,2B,IAClB,KAAKF,SAAW,CAEhB,KAAKA,UAAW,E,IACd,IAAKlB,IAAKA,OAAUmB,cAAErX,W,GACpBkW,IAAIqB,EAAY,CAEhB,MAAa,KAAWF,cAAGnB,GAC3BpB,EAAY,cACb,eAIJ,wBAGF,0BAnDoC,EAAAkC,CAAA,M,kCCtFvC,0EAyDsB,eAA0B5B,QAG9B,IAAZoC,IACAA,EAAU,G,IAEbC,K,mBAAU,GACTA,EAASlX,OAAG,GAAyB,IAAAA,UAGlC,YAAY,KACf6U,EAAYsC,GAGd,YAAW,KACTtC,EAAYuC,K,IAEP3B,KAAW,SAAU1C,GAE1B,MAAO,YAAU,GACfkE,GACC,UACF,uBACJI,QAAAH,SAAAnE,kB,SAYK+B,EAAUkB,G,IACZqB,EAAOrB,QAAAkB,WAAAnE,e,KACR,S,EAAgB0B,O,CAIZ,IAAc,IAAbyC,EACF,OAACnE,EAAgB,W,oEC7FvB,SAASuE,IACL,OAAO,SAAC3c,GAAD,OAAWA,GAHtBH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6c,aAAe7c,EAAQ8c,UAAY9c,EAAQ+c,aAAe/c,EAAQgd,cAAgBhd,EAAQid,UAAYjd,EAAQ4c,gBAAa,EAInI5c,EAAQ4c,WAAaA,EACrB5c,EAAQid,UAHG,SAAChd,GAAD,OAAWA,GAItBD,EAAQgd,cAJG,SAAC/c,GAAD,OAAWA,GAKtBD,EAAQ+c,aALG,SAAC9c,GAAD,OAAWA,GAStBD,EAAQ8c,UAHR,SAAmBI,GACf,OAAOC,KAAKC,MAAMF,IAGtBld,EAAQ6c,aAVG,SAAC5c,GAAD,OAAWA,I,kCCPtB,SAASod,EAAMC,GACd,IAAItI,EAAGuI,EAAGC,EAAI,GAEd,GAAmB,kBAARF,GAAmC,kBAARA,EACrCE,GAAOF,OACD,GAAmB,kBAARA,EACjB,GAAI/U,MAAMC,QAAQ8U,GACjB,IAAKtI,EAAE,EAAGA,EAAIsI,EAAIvY,OAAQiQ,IACrBsI,EAAItI,KACHuI,EAAIF,EAAMC,EAAItI,OACjBwI,IAAQA,GAAO,KACfA,GAAOD,QAKV,IAAKvI,KAAKsI,EACLA,EAAItI,KACPwI,IAAQA,GAAO,KACfA,GAAOxI,GAMX,OAAOwI,EAzBR,OA4Be,qBAEd,IADA,IAASC,EAAKjG,EAAVyD,EAAE,EAAWuC,EAAI,GACdvC,EAAIyC,UAAU3Y,SAChB0Y,EAAMC,UAAUzC,QACfzD,EAAI6F,EAAMI,MACbD,IAAQA,GAAO,KACfA,GAAOhG,GAIV,OAAOgG,I,kCClCR1d,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2d,sBAAmB,EAE3B,SAAWA,GACPA,EAAgB,mBAAyB,qBACzCA,EAAgB,oBAA0B,sBAC1CA,EAAgB,OAAa,SAC7BA,EAAgB,SAAe,WAC/BA,EAAgB,aAAmB,eACnCA,EAAgB,sBAA4B,wBAC5CA,EAAgB,cAAoB,gBAPxC,CAQsB3d,EAAQ2d,mBAAqB3d,EAAQ2d,iBAAmB,M,kJCO5E,SAASC,EAAU9C,EAAAX,G,GACb,MAAJW,EAAI,C,GClBN,SAA6BA,GAC9B,qCDkBK+C,CAAO,GACR,OEnBH,SAAyB/C,EAAAX,G,OACvB,IAASY,KAAO,SAAc1C,GAC9B,IAAI2C,EAAI,QASP,O,EARCE,IAAMf,EAAUK,UAA0B,WAC1C,IAAIyB,EAAI,EAAW,O,EACjBf,IAAIe,YAAU,CACdjC,KAAK,YAAQgB,EAAI,IAAIb,EAAU,UAAS,WAAM,SAAW,KAAMla,QAC/D2R,eAAQzI,GAAK6R,EAAIE,IAAIf,EAAUK,UAAS,WAAM,SAAW5I,MAAAzI,QACvD2U,oBAAA9C,6BAAA,gCAGL,KFQA,MACC,eAAO,GACR,OGtBH,SAAyBF,EAAAX,G,OACvB,IAASY,KAAO,SAAc1C,GAC9B,IAAI2C,EAAI,Q,SAEJE,IAAIf,EAAI,UAAU,W,OAChBW,QAAW,SAAY7a,GACvB+a,EAAIE,IAAIf,EAAUK,UAAS,WACzBnC,UAEN2C,EAAGE,IAAAf,uBAAA,+BAGF,SAAChR,GACG6R,EAAI,IAAAb,uBAAA,6B,KHSV,MACC,eAAO,GACR,wBACC,GI1BJ,SAAuBW,GACxB,qCJyBK,CAAO,IAAmC,kBAAXA,EAChC,OKzBH,SAAYA,EAAAX,G,IACV,EACD,2C,OAEC,IAASY,KAAO,SAAc1C,GAC9B,IACI0F,EADA/C,MAAsBgD,IAgCzB,O,EA7BC9C,KAAI,WACF6C,GAAkB,oBAAAA,UACnBA,c,EAGD7C,MAAW,UAAM,WACjB6C,EAAQ,EAASE,O,EACf/C,IAAIf,EAAUK,UAAS,W,IACrBnC,EAAO,O,CAGT,IAAIpY,EACAie,E,IAEF,MAAQ,EAAa,OACrBje,EAAOkG,EAAO,MACf+X,SAAC,MACA/U,GAED,YADCkP,EAAO,MAAAlP,GAGP+U,EACD7F,cAECA,EAAK,KAAWpY,GACjB,0BAIJ,KLZA,MAIJ,oE,8KMnCD,cACA,UAEMke,EAAsBhL,aAAW5J,IAAI+K,SACrC8J,EAAmB,8DACnBC,EAA6C,CACjDnX,KAAMiX,EACN1U,QAAS6U,EAAmBH,IAW9B,SAAgBG,EACdpX,GAC0C,IAA1CqX,EAA0C,uDAAhBH,EAE1B,GAAI9Y,OAAO+N,UAAUnM,GAAO,CAC1B,IAAMsX,EAAatX,EAAKpD,WAExB,GAAI2a,EAAOtL,cAAaqL,GACtB,OAAOrL,cAAYqL,GAA6B/U,QAElD,GAAIiV,EAAqBxX,GACvB,OAAOlH,gCAGX,OAAOue,EAOT,SAAgBI,EAAYzX,GAC1B,IAAK5B,OAAO+N,UAAUnM,GACpB,OAAO,EAGT,IAAMsX,EAAatX,EAAKpD,WACxB,QAAIqP,cAAYqL,MAIZE,EAAqBxX,GAkF3B,SAASwX,EAAqBxX,GAC5B,OAAOA,IAAS,OAASA,IAAS,KAGpC,SAAS0X,EAAoBhN,GAC3B,OAAIA,GAA0B,kBAAVA,IAAuBrJ,MAAMC,QAAQoJ,GAChD9R,OAAO8K,OAAO,GAAIgH,GAEpBA,EAGT,SAAS6M,EAAOI,EAA8BhI,GAC5C,OAAO/W,OAAOsV,UAAUC,eAAeC,KAAKuJ,EAAKhI,GArItC7W,gCAAgC,4BAQ7CA,uBAqBAA,gBAsBAA,iBAAA,SACE4R,GAIM,I,IAAA,yDAAF,GAAE,IAFJkN,qBAEI,MAFYT,EAEZ,MADJU,0BACI,SAGN,IACGD,IACAxZ,OAAO+N,UAAUyL,EAAc5X,OACC,kBAA1B4X,EAAcrV,QAErB,MAAM,IAAIX,MACR,4EAIJ,GAAI8I,aAAiBoB,mBACnB,OAAOpB,EAAM6B,YAGf,IAAMH,EAAkD,GAExD,GACE1B,GACiB,kBAAVA,IACNrJ,MAAMC,QAAQoJ,IACf6M,EAAO7M,EAAkC,SACzC+M,EAAa/M,EAAqC1K,MAClD,CACA,IAAMoS,EAAS1H,EACf0B,EAAWpM,KAAOoS,EAAOpS,KAErBoS,EAAO7P,SAAqC,kBAAnB6P,EAAO7P,SAClC6J,EAAW7J,QAAU6P,EAAO7P,QAExBgV,EAAOnF,EAAQ,UACjBhG,EAAWzO,KAAOyU,EAAOzU,QAG3ByO,EAAW7J,QAAU6U,EAClBhL,EAA0CpM,MAG7CoM,EAAWzO,KAAO,CAAEma,cAAeJ,EAAoBhN,SAEpD,CACL0B,EAAWpM,KAAO4X,EAAc5X,KAEhC,IAAMuC,EAAwB,QAAjB,EAAImI,SAAavQ,WAAA,EAAAA,EAAEoI,QAEhC6J,EAAW7J,QACTA,GAA8B,kBAAZA,EACdA,EACAqV,EAAcrV,QAEpB6J,EAAWzO,KAAO,CAAEma,cAAeJ,EAAoBhN,IAGzD,IAAM2B,EAAsB,QAAjB,EAAI3B,SAAahL,WAAA,EAAAA,EAAE2M,MAK9B,OAHIwL,GAAsBnN,GAAS2B,GAA0B,kBAAVA,IACjDD,EAAWC,MAAQA,GAEdD,I,kCC7HT,yDAIQ2L,EAAM,CACZlF,UACAC,KAAK,SAAL/Z,K,MACE,SAAWkJ,G,GACT+V,IAAM,sCACP,QAEAjI,gBAGH6G,wB,iFCN0CqB,WAAYpH,G,SAGtDoH,EACE5G,EAAOF,GADU,aAAmB,YAErC,OAF8CH,UAAUK,EAFzDL,aAAkBG,E,YAIjB,EALyC,OAG1CF,MAA+CJ,G,EAK9B,UAAEuC,uB,IACf,Y,CAKF,KAAMP,QAAU,EAChB,IAAMxB,EAAS,KAAGA,QAEd6G,EAAW7G,EAAK,U,GAEpB,KAAKA,QAAS,KACZ,GAAO6G,eAAA7G,uB,CAKT,IAAI8G,EAAe,EAAS,0BACT,IAAjBA,GACDD,iBA3BuC,EAAAD,C,OAAA,I,kCCH5C,kCACE,IAAKG,EAAiB,SAAcC,G,OAClC,SAAWlH,GACZ,0CACDA,EAAmB2B,KAAGuF,M,kDCVxB,kC,kHCME,SAASC,EAASvf,GACnB,uEAFD,mC,kCCJE,SAASwf,EAAOC,EAAAC,G,SACdC,IACD,yCAIF,OAFQA,EAASF,KAAOA,EACvBE,EAAO,QAAQD,EAChB,EAPD,mC,8FCCA7f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6f,wBAA0B7f,EAAQ8f,gBAAkB9f,EAAQkE,4BAA8BlE,EAAQ+f,0BAAuB,EACjI,IAAMzf,EAAmBF,EAAQ,MACjCJ,EAAQ+f,qBAAuB,iBAC/B/f,EAAQkE,4BAA8B,YACtClE,EAAQ8f,gBAAkB,a,IACpBD,E,iHACF,WAAiCrd,EAASK,GAA1C,kEACSA,EADT,sBAEc,IAAIiG,MAAM,iCAFxB,gCAGW7D,OACF+a,MAAMnd,EAAY,CACnB+B,OAAQ,OACRqb,KAAMjW,KAAKC,UAAUzH,GACrB0d,KAAM,OACNC,QAAS,CAAE,eAAgB,sBAE1B5Y,MAAK,SAAAb,GAAG,OAAIA,EAAI0Z,UAChB7Y,MAAK,SAAA6Y,GACN,IAAKA,EACD,MAAM9f,EAAiByG,UAAUwC,IAAI6K,MAAM,IAE/C,IAAM/K,EAAW+W,EACTxO,EAAUvI,EAAVuI,MACR,GAAIA,EACA,MAAM,EAAItR,EAAiB+f,gBAAgBzO,GAE/C,OAAOvI,MApBf,2C,gEAwBJrJ,EAAQ6f,wBAA0BA,G,sBChClC,YAGA,IAAMS,EAAmBlgB,EAAQ,KAC3BmgB,EAAKngB,EAAQ,KAQnB,SAASogB,EAAOC,GACd,OAAO/Q,EAAOgR,YAAYD,GAAOE,KAAK,GAYxC,SAASC,EAAWC,EAAK9b,EAAQ+b,GAC/B,IAAMC,EAAMP,EAAMzb,GAElB,OADA8b,EAAMG,EAASH,GACXC,EACED,EAAI9b,OAASA,GACf8b,EAAII,KAAKF,GACFA,GAEFF,EAAIK,MAAM,EAAGnc,GAEhB8b,EAAI9b,OAASA,GACf8b,EAAII,KAAKF,EAAKhc,EAAS8b,EAAI9b,QACpBgc,GAEFF,EAAIK,OAAOnc,GAmBtB,SAASic,EAAUG,GACjB,IAAKzR,EAAO0R,SAASD,GACnB,GAAI5Y,MAAMC,QAAQ2Y,GAChBA,EAAIzR,EAAOT,KAAKkS,QACX,GAAiB,kBAANA,EAEdA,EADEE,EAAYF,GACVzR,EAAOT,MA2CCuO,EA3Cc8D,EAAeH,IA4CpCpc,OAAS,EAAI,IAAMyY,EAAMA,EA5CgB,OAE1C9N,EAAOT,KAAKkS,QAEb,GAAiB,kBAANA,EAChBA,EAAII,YAAYJ,QACX,GAAU,OAANA,QAAoB5b,IAAN4b,EACvBA,EAAIzR,EAAOgR,YAAY,QAClB,GAAIH,EAAGiB,KAAKL,GACjBA,EAAIA,EAAEM,YAAY/R,OACb,KAAIyR,EAAEO,QAIX,MAAM,IAAI5Y,MAAM,gBAFhBqY,EAAIzR,EAAOT,KAAKkS,EAAEO,WA+BxB,IAAoBlE,EA1BlB,OAAO2D,EA8BT,SAASE,EAAa7D,GACpB,MAAsB,kBAARA,GAAoBA,EAAI5T,MAAM,oBAG9C,SAAS0X,EAAgB9D,GACvB,MAAmB,kBAARA,GAAoBA,EAAImE,WAAW,MACrCnE,EAAI0D,MAAM,GAEZ1D,EAGToE,EAAO5hB,QAAU,CACfwgB,QACAI,YACAiB,eA3EF,SAAyBhB,EAAK9b,GAC5B,OAAO6b,EAAUC,EAAK9b,GAAQ,IA2E9Bsc,cACAC,iBACAN,WACAc,YAxCF,SAAsBf,GAEpB,MAAO,MADPA,EAAMC,EAASD,IACGjd,SAAS,QAuC3Bie,OA9BF,SAAiBC,EAAGC,GAIlB,OAHAD,EAAIhB,EAASgB,GACRC,IAAMA,EAAO,KAEX3B,EAAiB,SAAW2B,GAAM9L,OAAO6L,GAAGE,a,+FCpGrDpiB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmiB,gBAAa,EACrB,IAAM5hB,EAAwBH,EAAQ,MAChCgiB,EAAuBhiB,EAAQ,MAC/BiiB,EAAuBjiB,EAAQ,MAC/BkiB,EAAoBliB,EAAQ,MAC5BmiB,EAAoBniB,EAAQ,MAC5BoiB,EAAgCpiB,EAAQ,MACxCO,EAASP,EAAQ,KACjBqiB,EAAiBC,gnBAAYD,gBAAkB,6BAC/CE,EAAqBD,gnBAAYC,oBACnCviB,EAAQ,MAAmBwiB,SAC3B,UACET,E,WAKF,WAAY/gB,GACR,IAAIC,EADa,UAEjB1B,KAAKkjB,SAAW,GAChBljB,KAAKmjB,YAAc,KACnBnjB,KAAK+B,OAAS,KACd/B,KAAKyD,mBAAqB,KAC1B,IACI2f,EADEC,EAAgB5hB,EAAQ4hB,eAAiBP,EAM3CM,EAJC3hB,EAAQ2hB,wBAIiB3hB,EAAQ2hB,wBAHR,SAAAE,GAAI,OAAI,IAAIX,EAAkBY,gBAAgBD,IAKlC,qBAA/B7hB,EAAQ2B,mBACfpD,KAAKmD,qBAAsB,EAG3BnD,KAAKmD,oBAAsB1B,EAAQ2B,mBAEvCpD,KAAKwjB,0BAAwE,QAA3C9hB,EAAKD,EAAQsC,gCAA6C,IAAPrC,GAAgBA,EACrG1B,KAAK2D,qBAAuBlC,EAAQmC,oBAC9BnC,EAAQmC,oBACR,IAAIhD,EAAsBiD,oBAChC,IAAM4f,EAAI,IAAIC,IAAIL,GACZM,EAAmB,GAAH,OAAMF,EAAEG,SAAR,aAAqBH,EAAEI,MAC7C7jB,KAAKuD,SAAW,IAAIkf,EAAqBqB,mBAAzB,sBAA2DH,IAC3E3jB,KAAKuD,SAASsC,QAAQ,UAAW2c,EAAWuB,SACF,qBAA/Bze,OAAO0e,sBAGlBhkB,KAAKyD,mBAAqB,IAAIof,EAA8BoB,4BAC5DjkB,KAAK+B,OAAS,IAAI6gB,EAAkBsB,gBAAgB,CAChDb,gBACAJ,QAASD,EACTmB,WAAY1iB,EAAQ0iB,SACpBf,0BACA5f,QAASxD,KAAKuD,SACdG,kBAAmB1D,KAAKyD,mBACxBG,oBAAqB5D,KAAK2D,uBAE9B3D,KAAK0C,WAAWjB,EAAQiG,QAASjG,EAAQkG,YACzC3H,KAAK+B,OAAOqiB,Y,0CAQhB,WAA+C,IAA9BlhB,EAA8B,uDAAjB,GAAIc,EAAa,uDAAH,EACxC,GAA0C,qBAA/BsB,OAAO0e,oBAWd,MAP+C,mBAAxC1e,OAAO0e,oBAAoBK,UAE7B/e,OAAO0e,oBAAoBK,UAG5B/e,OAAO0e,oBAAoBzhB,gBAAgBW,EAAYc,GAEpDsB,OAAO0e,oBAElB,IAAM3d,EAAQrG,KAAK+B,OACnB,IAAKsE,IAAUrG,KAAKyD,qBAAuBzD,KAAKuD,SAC5C,MAAM,IAAI4F,MAAM,8CAIpB,OAFKjG,GACDmD,EAAMie,oBAAmB,GACtB,IAAI5B,EAAqBniB,mBAAmB,CAC/C+C,cAAe,kBAAMqH,QAAQC,QAAQvE,IACrC3C,kBAAmB1D,KAAKyD,mBACxBD,QAASxD,KAAKuD,SACdL,aACAc,UACAJ,oBAAqB5D,KAAK2D,qBAC1BP,mBAAoBpD,KAAKmD,oBACzBY,yBAA0B/D,KAAKwjB,8B,wBAQvC,SAAW9b,EAASC,GAChB,IAAIjG,EACJ1B,KAAKkjB,SAAWxb,GAAW,OAC3B1H,KAAKmjB,YAAcxb,IAAc,EAAI3G,EAAOujB,cACF,qBAA/Bjf,OAAO0e,oBAIiC,mBAAxC1e,OAAO0e,oBAAoBK,UAE7B/e,OAAO0e,oBAAoBK,UAG5B/e,OAAO0e,oBAAoBthB,WAAW1C,KAAKkjB,SAAUljB,KAAKmjB,aAIvC,QAAtBzhB,EAAK1B,KAAK+B,cAA2B,IAAPL,GAAyBA,EAAGgB,WAAW1C,KAAKkjB,SAAUljB,KAAKmjB,e,wBAOlG,WACI,IAAIzhB,EACsC,qBAA/B4D,OAAO0e,oBACd1e,OAAO0e,oBAAoBphB,QAGJ,QAAtBlB,EAAK1B,KAAK+B,cAA2B,IAAPL,GAAyBA,EAAG8G,qB,KAIvEnI,EAAQmiB,WAAaA,EAIrBA,EAAWuB,QAAUf,G,mCClJrB,Y,qBAIIjjB,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmkB,YAAS,EACjB,IAAMC,EAAWhkB,EAAQ,KACnBikB,EAAUjkB,EAAQ,KAClBkkB,EAAe5kB,EAAgBU,EAAQ,OAqB7CJ,EAAQmkB,OApBO,SAAAI,GACX,OAAsB,EAAIF,EAAQG,UAAU,IAA5C,SAAOC,EAAP,KAAYC,EAAZ,KAiBA,OAhBA,EAAIL,EAAQM,YAAW,WACnB,IAAItjB,EAAIuF,EACFge,EAAS,IAAIN,EAAa9U,QAAQ,CACpCqV,QAASN,EAAMM,QACfC,WAAYP,EAAMQ,SAAW,UAC7BC,MAAOT,EAAMU,SAAW,UACxBC,UAAW,MACXC,IAAK,IACLC,MAA8B,QAAtB/jB,EAAKkjB,EAAMa,aAA0B,IAAP/jB,EAAgBA,EAAK,IAC3DgkB,OAAgC,QAAvBze,EAAK2d,EAAMc,cAA2B,IAAPze,EAAgBA,EAAK,IAC7D0e,QAAS,EACTvf,MAAOwe,EAAMxe,QAEXwf,EAAS7V,EAAOT,KAAK2V,EAAOH,MAAO,QAAQ3gB,SAAS,UAC1D4gB,EAAO,6BAAD,OAA8Ba,OAEjCd,GAAM,EAAIL,EAASoB,GAAG,MAAO,CAAEC,IAAKhB,EAAKiB,IAAK,YAAe,Q,2DC1BxE,IAAIhmB,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2lB,aAAU,EAClB,IAAMvB,EAAWhkB,EAAQ,KACnBwlB,EAAgBlmB,EAAgBU,EAAQ,OAU9CJ,EAAQ2lB,QATQ,SAAApB,GACZ,IAAIljB,EACEwkB,EAA6B,QAArBxkB,EAAKkjB,EAAMsB,YAAyB,IAAPxkB,EAAgBA,EAAK,GAC1D2jB,EAAQT,EAAMS,OAAS,OAC7B,OAAQ,EAAIZ,EAASoB,GAAG,MAAO,CAAEM,MAAO,wBACpC,EAAI1B,EAASoB,GAAG,QAAS,KAAMI,EAAcpW,UAC7C,EAAI4U,EAASoB,GAAG,MAAO,CAAEO,QAAS,cAAeC,MAAO,6BAA8BC,MAAO,CAAEb,MAAOS,EAAMR,OAAQQ,KAChH,EAAIzB,EAASoB,GAAG,SAAU,CAAES,MAAO,CAAEC,GAAI,GAAIC,GAAI,GAAIxd,EAAG,GAAIyd,OAAQpB,S,kCCjBhFllB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqmB,iBAAc,EACtBrmB,EAAQqmB,YAAc,S,kCCCtBvmB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsmB,gBAAa,EAErB,SAAWA,GACPA,EAAU,wBAA8B,0BACxCA,EAAU,oBAA0B,sBACpCA,EAAU,wBAA8B,0BACxCA,EAAU,0BAAgC,4BAC1CA,EAAU,iCAAuC,mCACjDA,EAAU,WAAiB,aAC3BA,EAAU,QAAc,UACxBA,EAAU,6BAAmC,+BAC7CA,EAAU,iBAAuB,mBACjCA,EAAU,oBAA0B,sBACpCA,EAAU,2BAAiC,6BAC3CA,EAAU,WAAiB,aAZ/B,CAagBtmB,EAAQsmB,aAAetmB,EAAQsmB,WAAa,M,kBCpB5D,SAASC,EAAmBC,EAAKjc,EAASC,EAAQwR,EAAOyK,EAAQ5P,EAAKwD,GACpE,IACE,IAAIqM,EAAOF,EAAI3P,GAAKwD,GAChBpa,EAAQymB,EAAKzmB,MACjB,MAAO2R,GAEP,YADApH,EAAOoH,GAIL8U,EAAKxI,KACP3T,EAAQtK,GAERqK,QAAQC,QAAQtK,GAAOsH,KAAKyU,EAAOyK,GAwBvC7E,EAAO5hB,QApBP,SAA2B2mB,GACzB,OAAO,WACL,IAAIC,EAAOjnB,KACP2J,EAAOoU,UACX,OAAO,IAAIpT,SAAQ,SAAUC,EAASC,GACpC,IAAIgc,EAAMG,EAAGE,MAAMD,EAAMtd,GAEzB,SAAS0S,EAAM/b,GACbsmB,EAAmBC,EAAKjc,EAASC,EAAQwR,EAAOyK,EAAQ,OAAQxmB,GAGlE,SAASwmB,EAAOtd,GACdod,EAAmBC,EAAKjc,EAASC,EAAQwR,EAAOyK,EAAQ,QAAStd,GAGnE6S,OAAMzW,QAKwBqc,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,iCCpCzG,kCAgBA,IAAI8mB,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBhnB,OAAOmnB,gBAClB,CAAEC,UAAW,cAAgB3e,OAAS,SAAUwe,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAI7R,KAAK6R,EAAOA,EAAE3R,eAAeF,KAAI4R,EAAE5R,GAAK6R,EAAE7R,KAClE2R,EAAcC,EAAGC,IAGrB,SAASG,EAAUJ,EAAGC,GAEzB,SAASI,IAAOznB,KAAK0nB,YAAcN,EADnCD,EAAcC,EAAGC,GAEjBD,EAAE3R,UAAkB,OAAN4R,EAAalnB,OAAO+U,OAAOmS,IAAMI,EAAGhS,UAAY4R,EAAE5R,UAAW,IAAIgS,K,oBC1BnF,IAAIE,EAAoB,EAAQ,KAE5BC,EAAkB,EAAQ,KAE1BC,EAA6B,EAAQ,KAErCC,EAAoB,EAAQ,KAMhC7F,EAAO5hB,QAJP,SAA4B0nB,GAC1B,OAAOJ,EAAkBI,IAAQH,EAAgBG,IAAQF,EAA2BE,IAAQD,KAGzD7F,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,oBCZ1G,IAAI2nB,EAAiB,EAAQ,KAEzBC,EAAuB,EAAQ,KAE/BJ,EAA6B,EAAQ,KAErCK,EAAkB,EAAQ,KAM9BjG,EAAO5hB,QAJP,SAAwB0nB,EAAKzM,GAC3B,OAAO0M,EAAeD,IAAQE,EAAqBF,EAAKzM,IAAMuM,EAA2BE,EAAKzM,IAAM4M,KAGrEjG,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,yICMnE8nB,WAAY/P,G,SAuC7C+P,EAGEC,EAAOnW,EA2BRkM,GA7CgB,aAAsB,OAAK,K,OAC3B5F,iBAAe,KACfA,mBAAkB,EAEzBA,sBAA2B,EAgBnCA,aAAkB,EAChBwF,UAAM,Q,KACJ,EACAxF,EAAMN,YAAAoQ,IACR,M,KACE,E,IACE,EAAmB,CACnB9P,EAAMN,YAAAoQ,IACP,M,GAEsB,kBAAjBD,EAA6B,CAC/BA,aAA0BD,GAC1B5P,EAAK+P,mBAAcF,EAAkB,mBACrC7P,cAAkB6P,EACnBA,WAEC7P,EAAK+P,oBAAkB,EACxB/P,0BAEF,M,QAGDA,EAAK+P,oBAAkB,EACvB/P,EAAMN,YAAA,eAEX,SArEgC,OAuCjCO,MAAYJ,GAvBL+P,YAAPI,KAEiB,WAAqB,a,EAC9B,OAAU,SAAOlO,EAAWpI,EAAMkM,GACxC,MAAW,MAAqB9D,EAAMpI,EAAAkM,GAEvC,OADCzF,EAAO,oBAAW,EACnB,G,EAyDM,UAAK2B,KAAW,YACnB,KAAKnC,WACN,e,EAWI,UAAKjG,MAAW,YACnB,KAAKiG,YACL,KAAKA,WAAY,EAClB,iB,EAUI,UAAKiG,SAAW,WACnB,KAAKjG,YACL,KAAKA,WAAY,EAClB,mB,EAIG,UAAayC,uBACf,cAGF,gBAAM,EACPvC,qC,EAGM,UAAYiE,MAAK,SAAO/b,GAC9B,0B,EAGM,UAAYqZ,OAAS,SAAEnQ,GAC5B,KAAKyO,YAAWhG,MAAGzI,GACpB,oB,EAGM,UAAYoQ,UAAW,WAC5B,KAAK3B,YAAWkG,WACjB,oB,EAIU,4CACT,IAAIqK,EAAiB,KAAOA,iBAM7B,OALC,KAAKA,iBAAc,KACnB,KAAK7N,cACL,KAAKP,QAAS,EACd,KAAKlC,WAAA,EACL,sBAAYsQ,EACb,MA9IgC,EAAAL,CAAA,KAsJIM,WAAarQ,G,SAIlDqQ,EAIEC,EAwBDC,OA5BmB,IAOdtO,EAPc,SAAiB,OAAjB,KAMlB9B,EAAI,kBAA2BmQ,EAG/B,IAAIE,EAAUrQ,EAmBf,OAlBGsQ,YAA+B,GAChCxO,IACKsO,IACJtO,EAAKsO,EAAwCtO,KAC7CpI,EAAQ0W,EAAyB,MACjCxK,EAAI,EAAmB,SACrBwK,IAAiBN,MACjBO,EAAI,OAAW,OAAQD,GACrBE,YAAsB,EAAQ,cAC/BtQ,6BAEFqQ,sCAIHrQ,EAAKuQ,SAAQF,EACbrQ,EAAK8D,MAAMhC,EACX9B,EAAKoB,OAAS1H,E,cACf,EAhCoC,OAIrCuG,MAAoBJ,G,EA+BR,UAASiC,KAAS,SAAO/Z,G,IACzB,4BACR,IAAIooB,EAAQ,uBACV,IAAK,uCAAgC,qBAEhC,qBAAcA,EAAA,WAAApoB,IACpB,mBAFA,kC,EAOO,UAAW2R,kB,IACX,gBACA,6BACJ8W,EAAa,0C,GACf,KAAKpP,OACH,GAAoC,sBAIpC,KAAKqP,gBAAcN,EAAA,YAAAlf,GACpB,qBAJC,KAAKyf,aAAa,KAACtP,OAAAnQ,GACpB,yBAKD,GAAK,EAAc,mBAOjBuf,GACAL,EAAkBQ,eAAe1f,EAClCkf,sBAEApR,eAEF,uBAboB,C,GACnB,KAAIqD,cACFoO,EACD,QAEFzR,kB,EAYL,UAiBC6G,oBAhBC,IAAI5F,EAAM,K,IACA,gBACR,IAAImQ,EAAgB,uB,GAClB,KAAM9O,WAEN,IAAIuP,EAAQ,oBAAqCvP,UAAKjE,KAAA4C,aACpD,IAAK,uCAA8B,sBAInC,KAAKyQ,gBAAcN,EAAAS,GACpB,qBAJC,KAAKF,aAAaE,GACnB,yBAMF,qB,EAKC,qC,IAEHnC,wBAAC,MACAxd,G,GACA,KAAImR,cACF4E,IAAM,sCACP,QAEAjI,iB,EAKQ7B,UAACuT,yBAAqCI,EAAEpC,EAAA1mB,G,IACjD,IAAM,sCACP,4B,IAGA0mB,wBAAC,MACAxd,G,OACE+V,IAAOwJ,uCACPK,EAAOF,eAAe1f,EACtB4f,EAAOC,iBAAK,GACb,IAEC/R,YAAY,IACb,GAGJ,U,EAIS,kCACR,IAAIoR,EAAiB,uBACrB,KAAKI,SAAA,KACL,uBAAkB,KACnBJ,iBApIoC,EAAAD,CAAA,I,6ICpIrCrN,EAAY,W,SAfLA,EAASnC,GAgBd,KAAIqQ,WAAW,EACbrQ,IACD,mBArBL,O,EAgDU,UAAasQ,KAAI,SAAgBnQ,GACvC,MAAiB,IAAGgC,EAGrB,OAFCkB,EAAWjE,OAAQ,KACnBiE,EAAO,SAAWlD,EACnB,G,EA2IS,oBAAkB,gBAC1B,IAAMA,EAAO,cAEToQ,EC1MN,SAAoBC,EAAAxX,EAAAkM,G,GAClBsL,EAAI,C,GACFA,aAAwCtB,IACzC,S,GAGCsB,EAAO,KACR,gB,OAID,GAAW,GAAW,EAIzB,eAHE,aD8LKD,CAAU,O,GACZpQ,EACDoQ,6B,EAGG,IAAK,aAAgBjK,IAAE,6DACvB,KAAK9G,WAAA+Q,GAER,uBAGCjK,IAAI,uCACFiK,EAAKlB,qBACLkB,EAAI,oBAAsB,EACxBA,mBACD,uBAKN,U,EAIK,oC,IAEH,0BAAC,MACAhgB,GACE+V,IAAK,wCACLiK,EAAKH,iBAAiB,EACvBG,oBAEC1R,YAAe0R,GAChBA,WAEAE,kB,EAWL,UAkBCC,sBAjBC,MAAW,K,OAKT,IAHFC,EAAW,EAAkB,KAGI,cAC/B,M,EACM,yB,IAEHvP,KAAC,MACA7Q,GACAqB,EAAI,GACFqP,GACDA,mBAGarP,EAAAD,O,EAKZ,qBAAgB,YACxB,MAAa,KAAIyN,OAClB,0B,EAqBQ5C,UAAKoU,gBACb,a,EAoCI,eAA2C,W,UAA3C,0BAA2C/N,I,yBAEzB,IAAnBgO,EAAkB1kB,OACnB,KAGF,sB,EAQD,UAOC2kB,sBANC,MAAW,K,OAGT,IADFH,EAAW,EAAY,KACN,cACf,MACerR,yBAAA,uE,EAjTVrD,OAAI,SAAc+D,GAC1B,iBAkTFmC,EAtUa,G,SAgVP4O,EAAaJ,G,GAChB,IACDA,yBAGC,EACD,yCAGF,W,kBEzXD3H,EAAO5hB,QAJP,SAAyB0nB,GACvB,GAAInf,MAAMC,QAAQkf,GAAM,OAAOA,GAGC9F,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,kBC0BvG4hB,EAAO5hB,QA9BP,SAA+B0nB,EAAKzM,GAClC,IAAIQ,EAAY,MAAPiM,EAAc,KAAyB,qBAAXvQ,QAA0BuQ,EAAIvQ,OAAO4G,WAAa2J,EAAI,cAE3F,GAAU,MAANjM,EAAJ,CACA,IAIImO,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACL/X,GAAK,EAIT,IACE,IAAKyJ,EAAKA,EAAGnG,KAAKoS,KAAQqC,GAAMH,EAAKnO,EAAGzB,QAAQkE,QAC9C4L,EAAKE,KAAKJ,EAAG3pB,QAETgb,GAAK6O,EAAK/kB,SAAWkW,GAH4B8O,GAAK,IAK5D,MAAO5gB,GACP6I,GAAK,EACL6X,EAAK1gB,EACL,QACA,IACO4gB,GAAsB,MAAhBtO,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIzJ,EAAI,MAAM6X,GAIlB,OAAOC,IAG+BlI,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,kBC1B7G4hB,EAAO5hB,QAJP,WACE,MAAM,IAAIiqB,UAAU,8IAGarI,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,oBCJxG,IAAIkqB,EAAiB,EAAQ,IAEzBjD,EAAiB,EAAQ,IAEzBkD,EAAmB,EAAQ,KAE3BC,EAAY,EAAQ,IAExB,SAASC,EAAiBC,GACxB,IAAIC,EAAwB,oBAARC,IAAqB,IAAIA,SAAQjlB,EA6BrD,OA3BAqc,EAAO5hB,QAAUqqB,EAAmB,SAA0BC,GAC5D,GAAc,OAAVA,IAAmBH,EAAiBG,GAAQ,OAAOA,EAEvD,GAAqB,oBAAVA,EACT,MAAM,IAAIL,UAAU,sDAGtB,GAAsB,qBAAXM,EAAwB,CACjC,GAAIA,EAAOE,IAAIH,GAAQ,OAAOC,EAAOxX,IAAIuX,GAEzCC,EAAOG,IAAIJ,EAAOK,GAGpB,SAASA,IACP,OAAOP,EAAUE,EAAO5M,UAAWwM,EAAevqB,MAAM0nB,aAW1D,OARAsD,EAAQvV,UAAYtV,OAAO+U,OAAOyV,EAAMlV,UAAW,CACjDiS,YAAa,CACXpnB,MAAO0qB,EACP7X,YAAY,EACZmG,UAAU,EACVW,cAAc,KAGXqN,EAAe0D,EAASL,IAC9B1I,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,QACjEqqB,EAAiBC,GAG1B1I,EAAO5hB,QAAUqqB,EAAkBzI,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,oBCzCxG,IAAI4qB,EAAmB,EAAQ,KAM/BhJ,EAAO5hB,QAJP,SAA4B0nB,GAC1B,GAAInf,MAAMC,QAAQkf,GAAM,OAAOkD,EAAiBlD,IAGb9F,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,kBCF1G4hB,EAAO5hB,QAJP,SAA0B6qB,GACxB,GAAsB,qBAAX1T,QAAmD,MAAzB0T,EAAK1T,OAAO4G,WAA2C,MAAtB8M,EAAK,cAAuB,OAAOtiB,MAAM0G,KAAK4b,IAGnFjJ,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,kBCAxG4hB,EAAO5hB,QAJP,WACE,MAAM,IAAIiqB,UAAU,yIAGerI,EAAO5hB,QAAQH,YAAa,EAAM+hB,EAAO5hB,QAAiB,QAAI4hB,EAAO5hB,S,kCCA1GF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmiB,WAAaniB,EAAQE,wBAAqB,EAClD,IAAMmiB,EAAuBjiB,EAAQ,MAC/B0qB,EAAe1qB,EAAQ,MACzB2qB,EAAuB3qB,EAAQ,MACnCN,OAAOC,eAAeC,EAAS,qBAAsB,CAAE8S,YAAY,EAAMC,IAAK,WAAc,OAAOgY,EAAqB7qB,sBACxH,IAAI8qB,EAAe5qB,EAAQ,MAC3BN,OAAOC,eAAeC,EAAS,aAAc,CAAE8S,YAAY,EAAMC,IAAK,WAAc,OAAOiY,EAAa7I,cACxGniB,EAAQwP,QAAUsb,EAAa3I,WACT,qBAAXld,SACPA,OAAOkd,WAAa2I,EAAa3I,WACjCld,OAAO/E,mBAAqBmiB,EAAqBniB,qB,2HCfrD,cACA,UACA,UAqLA,SAAS+qB,EAAsB/jB,EAAcmT,GAC3C,MAAwB6Q,EAAU7Q,GAAlC,SAAO5Q,EAAP,KAAgB5E,EAAhB,KACA,OAAO,IAAImO,mBACT9L,EACAuC,GAAWwJ,qBAAmB/L,GAC9BrC,GAIJ,SAASsmB,EAAuBjkB,EAAcmT,GAC5C,MAAwB6Q,EAAU7Q,GAAlC,SAAO5Q,EAAP,KAAgB5E,EAAhB,KACA,OAAO,IAAImO,wBACT9L,EACAuC,GAAWwJ,qBAAmB/L,GAC9BrC,GAIJ,SAASqmB,EAAa7Q,GACpB,GAAIA,EAAK,CACP,GAAmB,kBAARA,EACT,MAAO,CAACA,GACH,GAAmB,kBAARA,IAAqB9R,MAAMC,QAAQ6R,GAAM,CACzD,IAAQ5Q,EAAkB4Q,EAAlB5Q,QAAS5E,EAASwV,EAATxV,KAEjB,GAAI4E,GAA8B,kBAAZA,EACpB,MAAM,IAAIX,MAAM,gCAElB,MAAO,CAACW,QAAWlE,EAAWV,IAGlC,MAAO,GArMI7E,YAAY,CACvBuJ,IAAK,CAKH6K,MAAO,SAAIiG,GAAJ,OAA6B4Q,EAClC9X,aAAW5J,IAAI6K,MAAOiG,IAMxB7Q,eAAgB,SAAI6Q,GAAJ,OAA6B4Q,EAC3C9X,aAAW5J,IAAIC,eAAgB6Q,IAMjCpI,cAAe,SAAIoI,GAAJ,OAA6B4Q,EAC1C9X,aAAW5J,IAAI0I,cAAeoI,IAMhChG,eAAgB,SAAIgG,GAAJ,OAA6B4Q,EAC3C9X,aAAW5J,IAAI8K,eAAgBgG,IAMjC/F,SAAU,SAAI+F,GAAJ,OAA6B4Q,EACrC9X,aAAW5J,IAAI+K,SAAU+F,IAQ3B+Q,OAAQ,SAAInI,GACV,IAAKA,GAAwB,kBAATA,GAAqB1a,MAAMC,QAAQya,GACrD,MAAM,IAAIna,MAAM,mEAElB,IAAQ5B,EAAS+b,EAAT/b,KACR,IAAK5B,OAAO+N,UAAUnM,IAASA,GAAQ,OAASA,GAAQ,MACtD,MAAM,IAAI4B,MACR,iEAGJ,OAAOmiB,EAAmB/jB,EAAM+b,IAMlCnP,aAAc,SAAIuG,GAAJ,OAA6B4Q,EACzC9X,aAAW5J,IAAIuK,aAAcuG,IAM/BtG,iBAAkB,SAAIsG,GAAJ,OAA6B4Q,EAC7C9X,aAAW5J,IAAIwK,iBAAkBsG,IAMnCrG,oBAAqB,SAAIqG,GAAJ,OAA6B4Q,EAChD9X,aAAW5J,IAAIyK,oBAAqBqG,IAMtCpG,oBAAqB,SAAIoG,GAAJ,OAA6B4Q,EAChD9X,aAAW5J,IAAI0K,oBAAqBoG,IAMtCnG,mBAAoB,SAAImG,GAAJ,OAA6B4Q,EAC/C9X,aAAW5J,IAAI2K,mBAAoBmG,IAMrClG,cAAe,SAAIkG,GAAJ,OAA6B4Q,EAC1C9X,aAAW5J,IAAI4K,cAAekG,KAIlCrT,SAAU,CAKRwJ,oBAAqB,SAAI6J,GACvB,OAAO8Q,EACLhY,aAAWnM,SAASwJ,oBAAqB6J,IAO7ClK,aAAc,SAAIkK,GAChB,OAAO8Q,EACLhY,aAAWnM,SAASmJ,aAAckK,IAOtCjK,kBAAmB,SAAIiK,GACrB,OAAO8Q,EACLhY,aAAWnM,SAASoJ,kBAAmBiK,IAO3C9F,aAAc,SAAI8F,GAChB,OAAO8Q,EACLhY,aAAWnM,SAASuN,aAAc8F,IAOtC7F,kBAAmB,SAAI6F,GACrB,OAAO8Q,EACLhY,aAAWnM,SAASwN,kBAAmB6F,IAO3CpT,OAAQ,SAAIgc,GACV,IAAKA,GAAwB,kBAATA,GAAqB1a,MAAMC,QAAQya,GACrD,MAAM,IAAIna,MAAM,wEAElB,IAAQ5B,EAAwB+b,EAAxB/b,KAAMuC,EAAkBwZ,EAAlBxZ,QAAS5E,EAASoe,EAATpe,KACvB,IAAK4E,GAA8B,kBAAZA,EACrB,MAAM,IAAIX,MACR,uCAGJ,OAAO,IAAIkK,wBAAsB9L,EAAMuC,EAAS5E,O,kCC/KtD/E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyH,YAAS,EACjBzH,EAAQyH,OAAS,CACb4jB,sCAAuC,uDACvCC,yCAA0C,0DAC1CC,mBAAoB,oCACpBC,uBAAwB,2BACxBC,aAAc,8BACdC,mBAAoB,oCACpBC,OAAQ,wBACRC,QAAS,iCACTC,wBAAyB,+CACzBnkB,mBAAoB,oCACpBokB,qBAAsB,sCACtBC,qBAAsB,sCACtBC,yBAA0B,0CAC1BC,cAAe,+BACfC,aAAc,8BACdC,uBAAwB,wCACxBC,cAAe,+BACftd,4BAA6B,+C,sECpBjChP,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqsB,iCAA8B,E,IAIhCA,E,6BAENrsB,EAAQqsB,4BAA8BA,G,mDCRtC,4DASA,WACE,aAEA,IAAIC,MAAQ,wBACRC,OAA2B,kBAAXtnB,OAChBunB,KAAOD,OAAStnB,OAAS,GACzBunB,KAAKC,sBACPF,QAAS,GAEX,IAAIG,YAAcH,QAA0B,kBAAT3F,KAC/B+F,SAAWH,KAAKI,sBAA2C,kBAAZlK,SAAwBA,QAAQmK,UAAYnK,QAAQmK,SAASC,KAC5GH,QACFH,KAAOO,OACEL,aACTF,KAAO5F,MAET,IAAIoG,WAAaR,KAAKS,wBAA4C,kBAAXrL,QAAuBA,OAAO5hB,QACjFktB,IAAsCC,yBACtCC,cAAgBZ,KAAKa,2BAAoD,qBAAhBC,YACzDC,UAAY,mBAAmBnpB,MAAM,IACrCopB,MAAQ,EAAE,WAAY,QAAS,MAAO,KACtCC,MAAQ,CAAC,GAAI,GAAI,EAAG,GACpBC,EAAI,CACN,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WACpF,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UACpF,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UACpF,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WACpF,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAElFC,aAAe,CAAC,MAAO,QAAS,SAAU,eAE1CC,OAAS,IAETpB,KAAKI,sBAAyBrkB,MAAMC,UACtCD,MAAMC,QAAU,SAAUqW,GACxB,MAA+C,mBAAxC/e,OAAOsV,UAAUtR,SAASwR,KAAKuJ,MAItCuO,eAAiBZ,KAAKqB,mCAAsCP,YAAYQ,SAC1ER,YAAYQ,OAAS,SAAUjP,GAC7B,MAAsB,kBAARA,GAAoBA,EAAIkP,QAAUlP,EAAIkP,OAAO1G,cAAgBiG,cAI/E,IAAIU,mBAAqB,SAAUC,EAAYC,GAC7C,OAAO,SAAUzkB,GACf,OAAO,IAAI0kB,OAAOD,GAAO,GAAM/X,OAAO1M,GAASwkB,OAI/CG,aAAe,SAAUF,GAC3B,IAAItpB,EAASopB,mBAAmB,MAAOE,GACnCvB,UACF/nB,EAASypB,SAASzpB,EAAQspB,IAE5BtpB,EAAOiQ,OAAS,WACd,OAAO,IAAIsZ,OAAOD,IAEpBtpB,EAAOuR,OAAS,SAAU1M,GACxB,OAAO7E,EAAOiQ,SAASsB,OAAO1M,IAEhC,IAAK,IAAIwR,EAAI,EAAGA,EAAI0S,aAAa5oB,SAAUkW,EAAG,CAC5C,IAAItW,EAAOgpB,aAAa1S,GACxBrW,EAAOD,GAAQqpB,mBAAmBrpB,EAAMupB,GAE1C,OAAOtpB,GAGLypB,SAAW,SAAXA,SAAqBzpB,OAAQspB,OAC/B,IAAII,OAASC,KAAK,qBACd7e,OAAS6e,KAAK,4BACdC,UAAYN,MAAQ,SAAW,SAC/BO,WAAa,SAAUhlB,GACzB,GAAuB,kBAAZA,EACT,OAAO6kB,OAAOI,WAAWF,WAAWrY,OAAO1M,EAAS,QAAQyY,OAAO,OAEnE,GAAgB,OAAZzY,QAAgClE,IAAZkE,EACtB,MAAM,IAAIX,MAAMwjB,OAKpB,OAJa7iB,EAAQ4d,cAAgBiG,cACjC7jB,EAAU,IAAIklB,WAAWllB,IAGzBlB,MAAMC,QAAQiB,IAAY6jB,YAAYQ,OAAOrkB,IAC/CA,EAAQ4d,cAAgB3X,OACjB4e,OAAOI,WAAWF,WAAWrY,OAAO,IAAIzG,OAAOjG,IAAUyY,OAAO,OAEhEtd,OAAO6E,IAGlB,OAAOglB,YAGLG,uBAAyB,SAAUX,EAAYC,GACjD,OAAO,SAAUrX,EAAKpN,GACpB,OAAO,IAAIolB,WAAWhY,EAAKqX,GAAO,GAAM/X,OAAO1M,GAASwkB,OAIxDa,iBAAmB,SAAUZ,GAC/B,IAAItpB,EAASgqB,uBAAuB,MAAOV,GAC3CtpB,EAAOiQ,OAAS,SAAUgC,GACxB,OAAO,IAAIgY,WAAWhY,EAAKqX,IAE7BtpB,EAAOuR,OAAS,SAAUU,EAAKpN,GAC7B,OAAO7E,EAAOiQ,OAAOgC,GAAKV,OAAO1M,IAEnC,IAAK,IAAIwR,EAAI,EAAGA,EAAI0S,aAAa5oB,SAAUkW,EAAG,CAC5C,IAAItW,EAAOgpB,aAAa1S,GACxBrW,EAAOD,GAAQiqB,uBAAuBjqB,EAAMupB,GAE9C,OAAOtpB,GAGT,SAASupB,OAAOD,EAAOa,GACjBA,GACFnB,OAAO,GAAKA,OAAO,IAAMA,OAAO,GAAKA,OAAO,GAAKA,OAAO,GACtDA,OAAO,GAAKA,OAAO,GAAKA,OAAO,GAAKA,OAAO,GAC3CA,OAAO,GAAKA,OAAO,GAAKA,OAAO,IAAMA,OAAO,IAC5CA,OAAO,IAAMA,OAAO,IAAMA,OAAO,IAAMA,OAAO,IAAM,EACtDjuB,KAAKiuB,OAASA,QAEdjuB,KAAKiuB,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG7DM,GACFvuB,KAAKqvB,GAAK,WACVrvB,KAAKsvB,GAAK,UACVtvB,KAAKuvB,GAAK,UACVvvB,KAAKwvB,GAAK,WACVxvB,KAAKyvB,GAAK,WACVzvB,KAAK0vB,GAAK,WACV1vB,KAAK2vB,GAAK,WACV3vB,KAAK4vB,GAAK,aAEV5vB,KAAKqvB,GAAK,WACVrvB,KAAKsvB,GAAK,WACVtvB,KAAKuvB,GAAK,WACVvvB,KAAKwvB,GAAK,WACVxvB,KAAKyvB,GAAK,WACVzvB,KAAK0vB,GAAK,WACV1vB,KAAK2vB,GAAK,UACV3vB,KAAK4vB,GAAK,YAGZ5vB,KAAK6vB,MAAQ7vB,KAAK8vB,MAAQ9vB,KAAK8gB,MAAQ9gB,KAAK+vB,OAAS,EACrD/vB,KAAKgwB,UAAYhwB,KAAKiwB,QAAS,EAC/BjwB,KAAKkwB,OAAQ,EACblwB,KAAKuuB,MAAQA,EA4Qf,SAASW,WAAWhY,EAAKqX,EAAOa,GAC9B,IAAI9T,EAAGtW,SAAckS,EACrB,GAAa,WAATlS,EAAmB,CACrB,IAAgDuC,EAA5CuZ,EAAQ,GAAI1b,EAAS8R,EAAI9R,OAAQ4X,EAAQ,EAC7C,IAAK1B,EAAI,EAAGA,EAAIlW,IAAUkW,GACxB/T,EAAO2P,EAAIiZ,WAAW7U,IACX,IACTwF,EAAM9D,KAAWzV,EACRA,EAAO,MAChBuZ,EAAM9D,KAAY,IAAQzV,GAAQ,EAClCuZ,EAAM9D,KAAY,IAAe,GAAPzV,GACjBA,EAAO,OAAUA,GAAQ,OAClCuZ,EAAM9D,KAAY,IAAQzV,GAAQ,GAClCuZ,EAAM9D,KAAY,IAASzV,GAAQ,EAAK,GACxCuZ,EAAM9D,KAAY,IAAe,GAAPzV,IAE1BA,EAAO,QAAoB,KAAPA,IAAiB,GAA6B,KAAtB2P,EAAIiZ,aAAa7U,IAC7DwF,EAAM9D,KAAY,IAAQzV,GAAQ,GAClCuZ,EAAM9D,KAAY,IAASzV,GAAQ,GAAM,GACzCuZ,EAAM9D,KAAY,IAASzV,GAAQ,EAAK,GACxCuZ,EAAM9D,KAAY,IAAe,GAAPzV,GAG9B2P,EAAM4J,MACD,CACL,GAAa,WAAT9b,EAWF,MAAM,IAAImE,MAAMwjB,OAVhB,GAAY,OAARzV,EACF,MAAM,IAAI/N,MAAMwjB,OACX,GAAIc,cAAgBvW,EAAIwQ,cAAgBiG,YAC7CzW,EAAM,IAAI8X,WAAW9X,QAChB,IAAKtO,MAAMC,QAAQqO,MACnBuW,eAAiBE,YAAYQ,OAAOjX,IACvC,MAAM,IAAI/N,MAAMwjB,OAQpBzV,EAAI9R,OAAS,KACf8R,EAAO,IAAIsX,OAAOD,GAAO,GAAO/X,OAAOU,GAAK0I,SAG9C,IAAIwQ,EAAU,GAAIC,EAAU,GAC5B,IAAK/U,EAAI,EAAGA,EAAI,KAAMA,EAAG,CACvB,IAAI+L,EAAInQ,EAAIoE,IAAM,EAClB8U,EAAQ9U,GAAK,GAAO+L,EACpBgJ,EAAQ/U,GAAK,GAAO+L,EAGtBmH,OAAO7Y,KAAK3V,KAAMuuB,EAAOa,GAEzBpvB,KAAKwW,OAAO6Z,GACZrwB,KAAKowB,QAAUA,EACfpwB,KAAKswB,OAAQ,EACbtwB,KAAKovB,aAAeA,EAjUtBZ,OAAO/Y,UAAUe,OAAS,SAAU1M,GAClC,IAAI9J,KAAKgwB,UAAT,CAGA,IAAIO,EAAWvrB,SAAc8E,EAC7B,GAAa,WAAT9E,EAAmB,CACrB,GAAa,WAATA,EAWF,MAAM,IAAImE,MAAMwjB,OAVhB,GAAgB,OAAZ7iB,EACF,MAAM,IAAIX,MAAMwjB,OACX,GAAIc,cAAgB3jB,EAAQ4d,cAAgBiG,YACjD7jB,EAAU,IAAIklB,WAAWllB,QACpB,IAAKlB,MAAMC,QAAQiB,MACnB2jB,eAAiBE,YAAYQ,OAAOrkB,IACvC,MAAM,IAAIX,MAAMwjB,OAMtB4D,GAAY,EAId,IAFA,IAAIhpB,EAAiB+T,EAAX0B,EAAQ,EAAM5X,EAAS0E,EAAQ1E,OAAQ6oB,EAASjuB,KAAKiuB,OAExDjR,EAAQ5X,GAAQ,CAUrB,GATIpF,KAAKiwB,SACPjwB,KAAKiwB,QAAS,EACdhC,EAAO,GAAKjuB,KAAK6vB,MACjB5B,EAAO,IAAMA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAC1CA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAC3CA,EAAO,GAAKA,EAAO,GAAKA,EAAO,IAAMA,EAAO,IAC5CA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAM,GAGpDsC,EACF,IAAKjV,EAAItb,KAAK8vB,MAAO9S,EAAQ5X,GAAUkW,EAAI,KAAM0B,EAC/CiR,EAAO3S,GAAK,IAAMxR,EAAQkT,IAAU8Q,MAAY,EAANxS,UAG5C,IAAKA,EAAItb,KAAK8vB,MAAO9S,EAAQ5X,GAAUkW,EAAI,KAAM0B,GAC/CzV,EAAOuC,EAAQqmB,WAAWnT,IACf,IACTiR,EAAO3S,GAAK,IAAM/T,GAAQumB,MAAY,EAANxS,KACvB/T,EAAO,MAChB0mB,EAAO3S,GAAK,KAAO,IAAQ/T,GAAQ,IAAOumB,MAAY,EAANxS,KAChD2S,EAAO3S,GAAK,KAAO,IAAe,GAAP/T,IAAiBumB,MAAY,EAANxS,MACzC/T,EAAO,OAAUA,GAAQ,OAClC0mB,EAAO3S,GAAK,KAAO,IAAQ/T,GAAQ,KAAQumB,MAAY,EAANxS,KACjD2S,EAAO3S,GAAK,KAAO,IAAS/T,GAAQ,EAAK,KAAUumB,MAAY,EAANxS,KACzD2S,EAAO3S,GAAK,KAAO,IAAe,GAAP/T,IAAiBumB,MAAY,EAANxS,OAElD/T,EAAO,QAAoB,KAAPA,IAAiB,GAAqC,KAA9BuC,EAAQqmB,aAAanT,IACjEiR,EAAO3S,GAAK,KAAO,IAAQ/T,GAAQ,KAAQumB,MAAY,EAANxS,KACjD2S,EAAO3S,GAAK,KAAO,IAAS/T,GAAQ,GAAM,KAAUumB,MAAY,EAANxS,KAC1D2S,EAAO3S,GAAK,KAAO,IAAS/T,GAAQ,EAAK,KAAUumB,MAAY,EAANxS,KACzD2S,EAAO3S,GAAK,KAAO,IAAe,GAAP/T,IAAiBumB,MAAY,EAANxS,MAKxDtb,KAAKwwB,cAAgBlV,EACrBtb,KAAK8gB,OAASxF,EAAItb,KAAK8vB,MACnBxU,GAAK,IACPtb,KAAK6vB,MAAQ5B,EAAO,IACpBjuB,KAAK8vB,MAAQxU,EAAI,GACjBtb,KAAKmI,OACLnI,KAAKiwB,QAAS,GAEdjwB,KAAK8vB,MAAQxU,EAOjB,OAJItb,KAAK8gB,MAAQ,aACf9gB,KAAK+vB,QAAU/vB,KAAK8gB,MAAQ,YAAc,EAC1C9gB,KAAK8gB,MAAQ9gB,KAAK8gB,MAAQ,YAErB9gB,OAGTwuB,OAAO/Y,UAAUgb,SAAW,WAC1B,IAAIzwB,KAAKgwB,UAAT,CAGAhwB,KAAKgwB,WAAY,EACjB,IAAI/B,EAASjuB,KAAKiuB,OAAQ3S,EAAItb,KAAKwwB,cACnCvC,EAAO,IAAMjuB,KAAK6vB,MAClB5B,EAAO3S,GAAK,IAAMuS,MAAU,EAAJvS,GACxBtb,KAAK6vB,MAAQ5B,EAAO,IAChB3S,GAAK,KACFtb,KAAKiwB,QACRjwB,KAAKmI,OAEP8lB,EAAO,GAAKjuB,KAAK6vB,MACjB5B,EAAO,IAAMA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAC1CA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAAKA,EAAO,GAC3CA,EAAO,GAAKA,EAAO,GAAKA,EAAO,IAAMA,EAAO,IAC5CA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAMA,EAAO,IAAM,GAExDA,EAAO,IAAMjuB,KAAK+vB,QAAU,EAAI/vB,KAAK8gB,QAAU,GAC/CmN,EAAO,IAAMjuB,KAAK8gB,OAAS,EAC3B9gB,KAAKmI,SAGPqmB,OAAO/Y,UAAUtN,KAAO,WACtB,IACqCuoB,EAAGC,EAAIC,EAAIC,EAAKC,EAAYC,EAAIC,EAAIC,EAAIC,EADzE7O,EAAIriB,KAAKqvB,GAAIhI,EAAIrnB,KAAKsvB,GAAI6B,EAAInxB,KAAKuvB,GAAInI,EAAIpnB,KAAKwvB,GAAI4B,EAAIpxB,KAAKyvB,GAAI4B,EAAIrxB,KAAK0vB,GAAI4B,EAAItxB,KAAK2vB,GACzF9J,EAAI7lB,KAAK4vB,GAAI3B,EAASjuB,KAAKiuB,OAE7B,IAAKyC,EAAI,GAAIA,EAAI,KAAMA,EAGrBC,IADAG,EAAK7C,EAAOyC,EAAI,OACF,EAAMI,GAAM,KAASA,IAAO,GAAOA,GAAM,IAAQA,IAAO,EAEtEF,IADAE,EAAK7C,EAAOyC,EAAI,MACF,GAAOI,GAAM,KAASA,IAAO,GAAOA,GAAM,IAAQA,IAAO,GACvE7C,EAAOyC,GAAKzC,EAAOyC,EAAI,IAAMC,EAAK1C,EAAOyC,EAAI,GAAKE,GAAM,EAI1D,IADAM,EAAK7J,EAAI8J,EACJT,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACnB1wB,KAAKkwB,OACHlwB,KAAKuuB,OACPwC,EAAK,OAELlL,GADAiL,EAAK7C,EAAO,GAAK,YACR,WAAa,EACtB7G,EAAI0J,EAAK,UAAY,IAErBC,EAAK,UAELlL,GADAiL,EAAK7C,EAAO,GAAK,WACR,YAAc,EACvB7G,EAAI0J,EAAK,WAAa,GAExB9wB,KAAKkwB,OAAQ,IAEbS,GAAOtO,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,IAG9EwO,GADAE,EAAK1O,EAAIgF,GACGhF,EAAI8O,EAAKD,EAIrBrL,EAAIuB,GAFJ0J,EAAKjL,GAJL+K,GAAOQ,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAGxEA,EAAIC,GAAOD,EAAIE,GACFvD,EAAE2C,GAAKzC,EAAOyC,KAEnB,EACdtJ,EAAI0J,GAFCH,EAAKE,IAEK,GAEjBF,GAAOvJ,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,IAG9EyJ,GADAG,EAAK5J,EAAI/E,GACG+E,EAAIC,EAAK0J,EAIrBO,EAAIH,GAFJL,EAAKQ,GAJLV,GAAO/K,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAGxEA,EAAIuL,GAAOvL,EAAIwL,GACFtD,EAAE2C,EAAI,GAAKzC,EAAOyC,EAAI,KAE3B,EAEdC,IADAQ,EAAIL,GAFCH,EAAKE,IAEK,KACF,EAAMM,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,IAG9EN,GADAI,EAAKE,EAAI/J,GACG+J,EAAI9O,EAAK2O,EAIrBK,EAAIhK,GAFJyJ,EAAKO,GAJLT,GAAOU,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAGxEA,EAAIzL,GAAOyL,EAAIF,GACFrD,EAAE2C,EAAI,GAAKzC,EAAOyC,EAAI,KAE3B,EAEdC,IADAtJ,EAAIyJ,GAFCH,EAAKE,IAEK,KACF,EAAMxJ,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,IAG9EwJ,GADAK,EAAK7J,EAAI8J,GACG9J,EAAID,EAAK6J,EAIrBG,EAAI/O,GAFJyO,EAAKM,GAJLR,GAAOS,IAAM,EAAMA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,KAGxEA,EAAIC,GAAOD,EAAIxL,GACFkI,EAAE2C,EAAI,GAAKzC,EAAOyC,EAAI,KAE3B,EACdrO,EAAIyO,GAFCH,EAAKE,IAEK,EAGjB7wB,KAAKqvB,GAAKrvB,KAAKqvB,GAAKhN,GAAK,EACzBriB,KAAKsvB,GAAKtvB,KAAKsvB,GAAKjI,GAAK,EACzBrnB,KAAKuvB,GAAKvvB,KAAKuvB,GAAK4B,GAAK,EACzBnxB,KAAKwvB,GAAKxvB,KAAKwvB,GAAKpI,GAAK,EACzBpnB,KAAKyvB,GAAKzvB,KAAKyvB,GAAK2B,GAAK,EACzBpxB,KAAK0vB,GAAK1vB,KAAK0vB,GAAK2B,GAAK,EACzBrxB,KAAK2vB,GAAK3vB,KAAK2vB,GAAK2B,GAAK,EACzBtxB,KAAK4vB,GAAK5vB,KAAK4vB,GAAK/J,GAAK,GAG3B2I,OAAO/Y,UAAUiB,IAAM,WACrB1W,KAAKywB,WAEL,IAAIpB,EAAKrvB,KAAKqvB,GAAIC,EAAKtvB,KAAKsvB,GAAIC,EAAKvvB,KAAKuvB,GAAIC,EAAKxvB,KAAKwvB,GAAIC,EAAKzvB,KAAKyvB,GAAIC,EAAK1vB,KAAK0vB,GAClFC,EAAK3vB,KAAK2vB,GAAIC,EAAK5vB,KAAK4vB,GAEtBlZ,EAAMkX,UAAWyB,GAAM,GAAM,IAAQzB,UAAWyB,GAAM,GAAM,IAC9DzB,UAAWyB,GAAM,GAAM,IAAQzB,UAAWyB,GAAM,GAAM,IACtDzB,UAAWyB,GAAM,GAAM,IAAQzB,UAAWyB,GAAM,EAAK,IACrDzB,UAAWyB,GAAM,EAAK,IAAQzB,UAAe,GAALyB,GACxCzB,UAAW0B,GAAM,GAAM,IAAQ1B,UAAW0B,GAAM,GAAM,IACtD1B,UAAW0B,GAAM,GAAM,IAAQ1B,UAAW0B,GAAM,GAAM,IACtD1B,UAAW0B,GAAM,GAAM,IAAQ1B,UAAW0B,GAAM,EAAK,IACrD1B,UAAW0B,GAAM,EAAK,IAAQ1B,UAAe,GAAL0B,GACxC1B,UAAW2B,GAAM,GAAM,IAAQ3B,UAAW2B,GAAM,GAAM,IACtD3B,UAAW2B,GAAM,GAAM,IAAQ3B,UAAW2B,GAAM,GAAM,IACtD3B,UAAW2B,GAAM,GAAM,IAAQ3B,UAAW2B,GAAM,EAAK,IACrD3B,UAAW2B,GAAM,EAAK,IAAQ3B,UAAe,GAAL2B,GACxC3B,UAAW4B,GAAM,GAAM,IAAQ5B,UAAW4B,GAAM,GAAM,IACtD5B,UAAW4B,GAAM,GAAM,IAAQ5B,UAAW4B,GAAM,GAAM,IACtD5B,UAAW4B,GAAM,GAAM,IAAQ5B,UAAW4B,GAAM,EAAK,IACrD5B,UAAW4B,GAAM,EAAK,IAAQ5B,UAAe,GAAL4B,GACxC5B,UAAW6B,GAAM,GAAM,IAAQ7B,UAAW6B,GAAM,GAAM,IACtD7B,UAAW6B,GAAM,GAAM,IAAQ7B,UAAW6B,GAAM,GAAM,IACtD7B,UAAW6B,GAAM,GAAM,IAAQ7B,UAAW6B,GAAM,EAAK,IACrD7B,UAAW6B,GAAM,EAAK,IAAQ7B,UAAe,GAAL6B,GACxC7B,UAAW8B,GAAM,GAAM,IAAQ9B,UAAW8B,GAAM,GAAM,IACtD9B,UAAW8B,GAAM,GAAM,IAAQ9B,UAAW8B,GAAM,GAAM,IACtD9B,UAAW8B,GAAM,GAAM,IAAQ9B,UAAW8B,GAAM,EAAK,IACrD9B,UAAW8B,GAAM,EAAK,IAAQ9B,UAAe,GAAL8B,GACxC9B,UAAW+B,GAAM,GAAM,IAAQ/B,UAAW+B,GAAM,GAAM,IACtD/B,UAAW+B,GAAM,GAAM,IAAQ/B,UAAW+B,GAAM,GAAM,IACtD/B,UAAW+B,GAAM,GAAM,IAAQ/B,UAAW+B,GAAM,EAAK,IACrD/B,UAAW+B,GAAM,EAAK,IAAQ/B,UAAe,GAAL+B,GAO1C,OANK3vB,KAAKuuB,QACR7X,GAAOkX,UAAWgC,GAAM,GAAM,IAAQhC,UAAWgC,GAAM,GAAM,IAC3DhC,UAAWgC,GAAM,GAAM,IAAQhC,UAAWgC,GAAM,GAAM,IACtDhC,UAAWgC,GAAM,GAAM,IAAQhC,UAAWgC,GAAM,EAAK,IACrDhC,UAAWgC,GAAM,EAAK,IAAQhC,UAAe,GAALgC,IAErClZ,GAGT8X,OAAO/Y,UAAUtR,SAAWqqB,OAAO/Y,UAAUiB,IAE7C8X,OAAO/Y,UAAU8M,OAAS,WACxBviB,KAAKywB,WAEL,IAAIpB,EAAKrvB,KAAKqvB,GAAIC,EAAKtvB,KAAKsvB,GAAIC,EAAKvvB,KAAKuvB,GAAIC,EAAKxvB,KAAKwvB,GAAIC,EAAKzvB,KAAKyvB,GAAIC,EAAK1vB,KAAK0vB,GAClFC,EAAK3vB,KAAK2vB,GAAIC,EAAK5vB,KAAK4vB,GAEtB7H,EAAM,CACPsH,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,EACvDC,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,GAK1D,OAHK3vB,KAAKuuB,OACRxG,EAAIsC,KAAMuF,GAAM,GAAM,IAAOA,GAAM,GAAM,IAAOA,GAAM,EAAK,IAAW,IAALA,GAE5D7H,GAGTyG,OAAO/Y,UAAUmK,MAAQ4O,OAAO/Y,UAAU8M,OAE1CiM,OAAO/Y,UAAU8b,YAAc,WAC7BvxB,KAAKywB,WAEL,IAAIrC,EAAS,IAAIT,YAAY3tB,KAAKuuB,MAAQ,GAAK,IAC3CiD,EAAW,IAAIC,SAASrD,GAW5B,OAVAoD,EAASE,UAAU,EAAG1xB,KAAKqvB,IAC3BmC,EAASE,UAAU,EAAG1xB,KAAKsvB,IAC3BkC,EAASE,UAAU,EAAG1xB,KAAKuvB,IAC3BiC,EAASE,UAAU,GAAI1xB,KAAKwvB,IAC5BgC,EAASE,UAAU,GAAI1xB,KAAKyvB,IAC5B+B,EAASE,UAAU,GAAI1xB,KAAK0vB,IAC5B8B,EAASE,UAAU,GAAI1xB,KAAK2vB,IACvB3vB,KAAKuuB,OACRiD,EAASE,UAAU,GAAI1xB,KAAK4vB,IAEvBxB,GA6DTc,WAAWzZ,UAAY,IAAI+Y,OAE3BU,WAAWzZ,UAAUgb,SAAW,WAE9B,GADAjC,OAAO/Y,UAAUgb,SAAS9a,KAAK3V,MAC3BA,KAAKswB,MAAO,CACdtwB,KAAKswB,OAAQ,EACb,IAAIqB,EAAY3xB,KAAK4f,QACrB4O,OAAO7Y,KAAK3V,KAAMA,KAAKuuB,MAAOvuB,KAAKovB,cACnCpvB,KAAKwW,OAAOxW,KAAKowB,SACjBpwB,KAAKwW,OAAOmb,GACZnD,OAAO/Y,UAAUgb,SAAS9a,KAAK3V,QAInC,IAAIK,QAAUouB,eACdpuB,QAAQkW,OAASlW,QACjBA,QAAQuxB,OAASnD,cAAa,GAC9BpuB,QAAQkW,OAAOsb,KAAO1C,mBACtB9uB,QAAQuxB,OAAOC,KAAO1C,kBAAiB,GAEnC9B,UACFpL,OAAO5hB,QAAUA,SAEjBwsB,KAAKtW,OAASlW,QAAQkW,OACtBsW,KAAK+E,OAASvxB,QAAQuxB,OAClBrE,MACFC,yCACE,OAAOntB,SADH,2IAvfZ,K,oICTMyxB,EAAOrxB,EAAQ,MACfsxB,EAAMtxB,EAAQ,MAEduxB,EAAuB,CAC3BhtB,KAAM,SACNitB,WAAY,CACVC,MAAO,CACLltB,KAAM,SACNmtB,qBAAsB,CACpBntB,KAAM,QACNotB,MAAO,CACLptB,KAAM,SACNitB,WAAY,CACVta,KAAM,CAAC3S,KAAM,UACbA,KAAM,CAACA,KAAM,WAEfqtB,SAAU,CAAC,OAAQ,WAIzBC,YAAa,CAACttB,KAAM,UACpButB,OAAQ,CAACvtB,KAAM,UACf8E,QAAS,CAAC9E,KAAM,WAElBqtB,SAAU,CAAC,QAAS,cAAe,SAAU,YAMzCG,EAAiB,CASrBC,WATqB,SASTH,EAAaptB,EAAMgtB,GAAqB,WAAdQ,IAAc,yDAC5CC,EAAe,CAAC,WAChBC,EAAgB,CAAC5yB,KAAK6yB,SAASP,EAAaJ,IAElD,GAAGQ,EAAO,CACR,IADQ,EACFI,EAAc,SAAdA,EAAenb,EAAM3S,EAAM1E,GAC/B,QAAoBsF,IAAhBssB,EAAMltB,GACR,MAAO,CAAC,UAAoB,MAAT1E,EACjB,qEACAwxB,EAAK1P,OAAO,EAAKqQ,WAAWztB,EAAM1E,EAAO4xB,EAAOQ,KAGpD,QAAa9sB,IAAVtF,EACD,MAAM,IAAI6I,MAAJ,kCAAqCwO,EAArC,oBAAqD3S,IAE7D,GAAa,UAATA,EACF,MAAO,CAAC,UAAW8sB,EAAK1P,OAAO9hB,IAGjC,GAAa,WAAT0E,EAKF,MAHqB,kBAAV1E,IACTA,EAAQyP,EAAOT,KAAKhP,EAAO,SAEtB,CAAC,UAAWwxB,EAAK1P,OAAO9hB,IAGjC,GAAI0E,EAAK+tB,YAAY,OAAS/tB,EAAKI,OAAS,EAAG,CAC7C,IAAM4tB,EAAahuB,EAAKuc,MAAM,EAAGvc,EAAK+tB,YAAY,MAC5CE,EAAiB3yB,EAAMoE,KAAI,SAAAwuB,GAAI,OACnCJ,EAAYnb,EAAMqb,EAAYE,MAChC,MAAO,CAAC,UAAWpB,EAAK1P,OAAO2P,EAAIoB,UACjCF,EAAevuB,KAAI,gCACnBuuB,EAAevuB,KAAI,mCAIvB,MAAO,CAACM,EAAM1E,IAjCR,IAoCY4xB,EAAMI,IApClB,IAoCR,IAAK,EAAL,qBAAwC,KAA7Bc,EAA6B,QACtC,EAAsBN,EAAYM,EAAMzb,KAAMyb,EAAMpuB,KAAME,EAAKkuB,EAAMzb,OAArE,SAAO3S,EAAP,KAAa1E,EAAb,KACAqyB,EAAatI,KAAKrlB,GAClB4tB,EAAcvI,KAAK/pB,IAvCb,mCAyCH,WACe4xB,EAAMI,IADrB,IACL,IAAK,EAAL,qBAAwC,KAA7Bc,EAA6B,QAClC9yB,EAAQ4E,EAAKkuB,EAAMzb,MACvB,QAAc/R,IAAVtF,EACF,GAAmB,UAAf8yB,EAAMpuB,KACR2tB,EAAatI,KAAK,WAClB/pB,EAAQwxB,EAAK1P,OAAO9hB,GACpBsyB,EAAcvI,KAAK/pB,QACd,GAAmB,WAAf8yB,EAAMpuB,KACf2tB,EAAatI,KAAK,WAEG,kBAAV/pB,IACTA,EAAQyP,EAAOT,KAAKhP,EAAO,SAE7BA,EAAQwxB,EAAK1P,OAAO9hB,GACpBsyB,EAAcvI,KAAK/pB,QACd,QAA0BsF,IAAtBssB,EAAMkB,EAAMpuB,MACrB2tB,EAAatI,KAAK,WAClB/pB,EAAQwxB,EAAK1P,OAAOpiB,KAAKyyB,WAAWW,EAAMpuB,KAAM1E,EAAO4xB,EAAOQ,IAC9DE,EAAcvI,KAAK/pB,OACd,IAAI8yB,EAAMpuB,KAAK+tB,YAAY,OAASK,EAAMpuB,KAAKI,OAAS,EAC7D,MAAM,IAAI+D,MAAM,gDAEhBwpB,EAAatI,KAAK+I,EAAMpuB,MACxB4tB,EAAcvI,KAAK/pB,KAxBpB,+BA8BP,OAAOyxB,EAAIoB,UAAUR,EAAcC,IAUrCS,WA9FqB,SA8FTf,EAAaJ,GACvB,IAAI1rB,EAAS,GACT8sB,EAAOtzB,KAAKuzB,qBAAqBjB,EAAaJ,GAAOlb,QAAO,SAAAwc,GAAG,OAAIA,IAAQlB,KAC/EgB,EAAO,CAAChB,GAAamB,OAAOH,EAAKI,QAHH,UAIXJ,GAJW,IAI9B,IAAK,EAAL,qBAAyB,KAAdtuB,EAAc,QAEvB,IADiBktB,EAAMltB,GAErB,MAAM,IAAImE,MAAM,iCAAmCnE,GAErDwB,GAAUxB,EAAO,IAAMktB,EAAMltB,GAAMN,KAAI,gBAAGiT,EAAH,EAAGA,KAAH,SAAS3S,KAAkB,IAAM2S,KAAMpN,KAAK,KAAO,KAT9D,8BAW9B,OAAO/D,GAWT+sB,qBApHqB,SAoHCjB,EAAaJ,GAAqB,IAAdyB,EAAc,uDAAJ,GAElD,GADArB,EAAcA,EAAYroB,MAAM,QAAQ,GACpC0pB,EAAQ1kB,SAASqjB,SAAuC1sB,IAAvBssB,EAAMI,GAA8B,OAAOqB,EAChFA,EAAQtJ,KAAKiI,GAHyC,UAIlCJ,EAAMI,IAJ4B,IAItD,IAAK,EAAL,qBAAwC,OAA7Bc,EAA6B,YACpBpzB,KAAKuzB,qBAAqBH,EAAMpuB,KAAMktB,EAAOyB,IADzB,IACtC,IAAK,EAAL,qBAAyE,KAA9DH,EAA8D,SACtEG,EAAQ1kB,SAASukB,IAAQG,EAAQtJ,KAAKmJ,IAFH,gCAJc,8BAStD,OAAOG,GAWTC,WAxIqB,SAwITtB,EAAaptB,EAAMgtB,GAAqB,IAAdQ,IAAc,yDAClD,OAAOZ,EAAK1P,OAAOpiB,KAAKyyB,WAAWH,EAAaptB,EAAMgtB,EAAOQ,KAU/DG,SAnJqB,SAmJXP,EAAaJ,GACrB,OAAOJ,EAAK1P,OAAOpiB,KAAKqzB,WAAWf,EAAaJ,KASlD2B,aA7JqB,SA6JP3uB,GACZ,IAAM4uB,EAAgB,GACtB,IAAK,IAAM5c,KAAO8a,EAAqBC,WACrC/sB,EAAKgS,KAAS4c,EAAc5c,GAAOhS,EAAKgS,IAK1C,OAHI4c,EAAc5B,QAChB4B,EAAc5B,MAAQ/xB,OAAO8K,OAAO,CAAE8oB,aAAc,IAAMD,EAAc5B,QAEnE4B,GAST3rB,KA9KqB,SA8KfwJ,GAAyB,IAAd+gB,IAAc,yDACvBoB,EAAgB9zB,KAAK6zB,aAAaliB,GAClCqiB,EAAQ,CAACjkB,EAAOT,KAAK,OAAQ,QAKnC,OAJA0kB,EAAM3J,KAAKrqB,KAAK4zB,WAAW,eAAgBE,EAAcvB,OAAQuB,EAAc5B,MAAOQ,IACpD,iBAA9BoB,EAAcxB,aAChB0B,EAAM3J,KAAKrqB,KAAK4zB,WAAWE,EAAcxB,YAAawB,EAAchqB,QAASgqB,EAAc5B,MAAOQ,IAE7FZ,EAAK1P,OAAOrS,EAAO0jB,OAAOO,MAIrC/R,EAAO5hB,QAAU,CACf2xB,uBACAQ,iBAEA3gB,2BAA4B,SAAUoiB,GACpC,OAgBJ,SAAkCtiB,GAChC,IAAMM,EAAQ,IAAI9I,MAAM,yCACxB,GAAyB,kBAAdwI,IAA2BA,EAAUvM,OAAQ,MAAM6M,EAE9D,IAAM/M,EAAOyM,EAAUjN,KAAI,SAAU0sB,GACnC,MAAkB,UAAXA,EAAEpsB,KAAmB8sB,EAAKzQ,SAAS+P,EAAE9wB,OAAS8wB,EAAE9wB,SAEnD4xB,EAAQvgB,EAAUjN,KAAI,SAAU0sB,GAAK,OAAOA,EAAEpsB,QAC9CkvB,EAASviB,EAAUjN,KAAI,SAAU0sB,GACrC,IAAKA,EAAEzZ,KAAM,MAAM1F,EACnB,OAAOmf,EAAEpsB,KAAO,IAAMosB,EAAEzZ,QAG1B,OAAOoa,EAAIoC,aACT,CAAC,UAAW,WACZ,CACEpC,EAAIoC,aAAa,IAAIvrB,MAAM+I,EAAUvM,QAAQ4b,KAAK,UAAWkT,GAC7DnC,EAAIoC,aAAajC,EAAOhtB,KAjCnBkvB,CAAyBH,EAAU/uB,OAG5C6M,wBAAyB,SAAUkiB,GACjC,OAAOzB,EAAerqB,KAAK8rB,EAAU/uB,MAAM,IAG7C8M,wBAAyB,SAAUiiB,GACjC,OAAOzB,EAAerqB,KAAK8rB,EAAU/uB,U,+CCpOzC,YAGA,IAAM4sB,EAAOrxB,EAAQ,MACfmgB,EAAKngB,EAAQ,KAInB,SAAS4zB,EAAgB1c,GACvB,OAAIA,EAAKqK,WAAW,QACX,SAAWrK,EAAK4J,MAAM,GACX,QAAT5J,EACF,SACEA,EAAKqK,WAAW,SAClB,UAAYrK,EAAK4J,MAAM,GACZ,SAAT5J,EACF,UACEA,EAAKqK,WAAW,UAClB,eAAiBrK,EAAK4J,MAAM,GACjB,UAAT5J,EACF,eACEA,EAAKqK,WAAW,WAClB,gBAAkBrK,EAAK4J,MAAM,GAClB,WAAT5J,EACF,gBAEFA,EAIT,SAAS2c,EAAYtvB,GACnB,OAAOiM,SAAS,aAAasjB,KAAKvvB,GAAM,GAAI,IAI9C,SAASwvB,EAAcxvB,GACrB,IAAI8Y,EAAM,mBAAmByW,KAAKvvB,GAClC,MAAO,CAAEiM,SAAS6M,EAAI,GAAI,IAAK7M,SAAS6M,EAAI,GAAI,KAIlD,SAAS2W,EAAgBzvB,GACvB,IAAI8Y,EAAM9Y,EAAKiF,MAAM,kBACrB,OAAI6T,EACgB,KAAXA,EAAI,GAAY,UAAY7M,SAAS6M,EAAI,GAAI,IAE/C,KAGT,SAAS4W,EAAaha,GACpB,IAAI1V,SAAc0V,EAClB,GAAa,WAAT1V,EACF,OAAI8sB,EAAKpQ,YAAYhH,GACZ,IAAIkG,EAAGkR,EAAKnQ,eAAejH,GAAM,IAEjC,IAAIkG,EAAGlG,EAAK,IAEhB,GAAa,WAAT1V,EACT,OAAO,IAAI4b,EAAGlG,GACT,GAAIA,EAAIqH,QAEb,OAAOrH,EAEP,MAAM,IAAIvR,MAAM,4BAMpB,SAASwrB,EAAc3vB,EAAM0V,GAC3B,IAAIwL,EAAM3I,EAAKqX,EAAKtZ,EAEpB,GAAa,YAATtW,EACF,OAAO2vB,EAAa,UAAWD,EAAYha,IACtC,GAAa,SAAT1V,EACT,OAAO2vB,EAAa,QAASja,EAAM,EAAI,GAClC,GAAa,WAAT1V,EACT,OAAO2vB,EAAa,QAAS,IAAI5kB,EAAO2K,EAAK,SACxC,GA8FT,SAAkB1V,GAChB,OAAOA,EAAK+tB,YAAY,OAAS/tB,EAAKI,OAAS,EA/FpCyD,CAAQ7D,GAAO,CAGxB,GAA0B,qBAAf0V,EAAItV,OACb,MAAM,IAAI+D,MAAM,iBAGlB,GAAa,aADb+c,EAAOuO,EAAezvB,KACa,IAATkhB,GAAcxL,EAAItV,OAAS8gB,EACnD,MAAM,IAAI/c,MAAM,+BAAiC+c,GAOnD,IAAK5K,KALLsZ,EAAM,GACN5vB,EAAOA,EAAKuc,MAAM,EAAGvc,EAAK+tB,YAAY,MACnB,kBAARrY,IACTA,EAAMrQ,KAAKoK,MAAMiG,IAETA,EACRka,EAAIvK,KAAKsK,EAAa3vB,EAAM0V,EAAIY,KAElC,GAAa,YAAT4K,EAAoB,CACtB,IAAI9gB,EAASuvB,EAAa,UAAWja,EAAItV,QACzCwvB,EAAIC,QAAQzvB,GAEd,OAAO2K,EAAO0jB,OAAOmB,GAChB,GAAa,UAAT5vB,EAST,OARA0V,EAAM,IAAI3K,EAAO2K,GAEjBka,EAAM7kB,EAAO0jB,OAAO,CAAEkB,EAAa,UAAWja,EAAItV,QAASsV,IAEtDA,EAAItV,OAAS,KAAQ,IACxBwvB,EAAM7kB,EAAO0jB,OAAO,CAAEmB,EAAK9C,EAAKjR,MAAM,GAAMnG,EAAItV,OAAS,OAGpDwvB,EACF,GAAI5vB,EAAKgd,WAAW,SAAU,CAEnC,IADAkE,EAAOoO,EAAWtvB,IACP,GAAKkhB,EAAO,GACrB,MAAM,IAAI/c,MAAM,2BAA6B+c,GAG/C,OAAO4L,EAAK5P,eAAexH,EAAK,IAC3B,GAAI1V,EAAKgd,WAAW,QAAS,CAElC,IADAkE,EAAOoO,EAAWtvB,IACN,GAAOkhB,EAAO,GAAOA,EAAO,IACtC,MAAM,IAAI/c,MAAM,0BAA4B+c,GAI9C,IADA3I,EAAMmX,EAAYha,IACVoa,YAAc5O,EACpB,MAAM,IAAI/c,MAAM,gCAAkC+c,EAAO,OAAS3I,EAAIuX,aAGxE,GAAIvX,EAAM,EACR,MAAM,IAAIpU,MAAM,6BAGlB,OAAOoU,EAAIuE,YAAY/R,EAAQ,KAAM,IAChC,GAAI/K,EAAKgd,WAAW,OAAQ,CAEjC,IADAkE,EAAOoO,EAAWtvB,IACN,GAAOkhB,EAAO,GAAOA,EAAO,IACtC,MAAM,IAAI/c,MAAM,yBAA2B+c,GAI7C,IADA3I,EAAMmX,EAAYha,IACVoa,YAAc5O,EACpB,MAAM,IAAI/c,MAAM,+BAAiC+c,EAAO,OAAS3I,EAAIuX,aAGvE,OAAOvX,EAAIwX,OAAO,KAAKjT,YAAY/R,EAAQ,KAAM,IAC5C,GAAI/K,EAAKgd,WAAW,UAAW,CAKpC,GAJAkE,EAAOsO,EAAaxvB,IAEpBuY,EAAMmX,EAAYha,IAER,EACR,MAAM,IAAIvR,MAAM,+BAGlB,OAAOwrB,EAAa,UAAWpX,EAAIyX,IAAI,IAAIpU,EAAG,GAAGqU,IAAI,IAAIrU,EAAGsF,EAAK,OAC5D,GAAIlhB,EAAKgd,WAAW,SAGzB,OAFAkE,EAAOsO,EAAaxvB,GAEb2vB,EAAa,SAAUD,EAAYha,GAAKsa,IAAI,IAAIpU,EAAG,GAAGqU,IAAI,IAAIrU,EAAGsF,EAAK,OAG/E,MAAM,IAAI/c,MAAM,gCAAkCnE,GAIpD,SAASkwB,EAAWlwB,GAElB,MAAiB,WAATA,GAAgC,UAATA,GAA+C,YAAzByvB,EAAezvB,GAmCtE,SAASmwB,EAAcjD,EAAOkD,GAC5B,GAAIlD,EAAM9sB,SAAWgwB,EAAOhwB,OAC1B,MAAM,IAAI+D,MAAM,+CAMlB,IAHA,IAAI+c,EAAM3I,EACNqX,EAAM,GAEDtZ,EAAI,EAAGA,EAAI4W,EAAM9sB,OAAQkW,IAAK,CACrC,IAAItW,EAAOqvB,EAAenC,EAAM5W,IAC5Bhb,EAAQ80B,EAAO9Z,GAEnB,GAAa,UAATtW,EACF4vB,EAAIvK,KAAK/pB,QACJ,GAAa,WAAT0E,EACT4vB,EAAIvK,KAAK,IAAIta,EAAOzP,EAAO,cACtB,GAAa,SAAT0E,EACT4vB,EAAIvK,KAAK,IAAIta,EAAOzP,EAAQ,KAAO,KAAM,aACpC,GAAa,YAAT0E,EACT4vB,EAAIvK,KAAKyH,EAAK7Q,UAAU3gB,EAAO,UAC1B,GAAI0E,EAAKgd,WAAW,SAAU,CAEnC,IADAkE,EAAOoO,EAAWtvB,IACP,GAAKkhB,EAAO,GACrB,MAAM,IAAI/c,MAAM,2BAA6B+c,GAG/C0O,EAAIvK,KAAKyH,EAAK5P,eAAe5hB,EAAO4lB,SAC/B,GAAIlhB,EAAKgd,WAAW,QAAS,CAElC,IADAkE,EAAOoO,EAAWtvB,IACN,GAAOkhB,EAAO,GAAOA,EAAO,IACtC,MAAM,IAAI/c,MAAM,0BAA4B+c,GAI9C,IADA3I,EAAMmX,EAAYp0B,IACVw0B,YAAc5O,EACpB,MAAM,IAAI/c,MAAM,gCAAkC+c,EAAO,OAAS3I,EAAIuX,aAGxEF,EAAIvK,KAAK9M,EAAIuE,YAAY/R,EAAQ,KAAMmW,EAAO,QACzC,KAAIlhB,EAAKgd,WAAW,OAczB,MAAM,IAAI7Y,MAAM,gCAAkCnE,GAZlD,IADAkhB,EAAOoO,EAAWtvB,IACN,GAAOkhB,EAAO,GAAOA,EAAO,IACtC,MAAM,IAAI/c,MAAM,yBAA2B+c,GAI7C,IADA3I,EAAMmX,EAAYp0B,IACVw0B,YAAc5O,EACpB,MAAM,IAAI/c,MAAM,+BAAiC+c,EAAO,OAAS3I,EAAIuX,aAGvEF,EAAIvK,KAAK9M,EAAIwX,OAAO7O,GAAMpE,YAAY/R,EAAQ,KAAMmW,EAAO,KAO/D,OAAOnW,EAAO0jB,OAAOmB,GAOvB3S,EAAO5hB,QAAU,CACf8yB,UAzFF,SAAoBjB,EAAOkD,GACzB,IAAIC,EAAS,GACTnwB,EAAO,GAEPowB,EAAa,GAAKpD,EAAM9sB,OAE5B,IAAK,IAAIkW,KAAK4W,EAAO,CACnB,IAAIltB,EAAOqvB,EAAenC,EAAM5W,IAE5Bia,EAAMZ,EAAa3vB,EADXowB,EAAO9Z,IAIf4Z,EAAUlwB,IACZqwB,EAAOhL,KAAKsK,EAAa,UAAWW,IACpCpwB,EAAKmlB,KAAKkL,GACVD,GAAcC,EAAInwB,QAElBiwB,EAAOhL,KAAKkL,GAIhB,OAAOxlB,EAAO0jB,OAAO4B,EAAO5B,OAAOvuB,KAqEnCiwB,eACAhB,aAPF,SAAuBjC,EAAOkD,GAC5B,OAAOtD,EAAK1P,OAAO+S,EAAajD,EAAOkD,Q,wICpQzCj1B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQm1B,gBAAkBn1B,EAAQuB,oBAAiB,EACnD,IAAM6zB,EAAUh1B,EAAQ,MAClBO,EAASP,EAAQ,KAEjBi1B,EAAmB,CACrB/sB,QAAS,MACTN,GAAI,GAEFzG,E,WACF,WAAYyF,GAAU,UAClBrH,KAAK21B,WAAa,IAAI9K,IACtB7qB,KAAK41B,aAAe,IAAIC,IACxB71B,KAAK81B,0BAA4B,IAAID,IACrC71B,KAAK+1B,QAAU,IAAIlL,IACnB7qB,KAAKg2B,SAAW,IAAInL,IACpB7qB,KAAKi2B,cAAe,EAAIR,EAAQtY,WAAW,GAC3Cnd,KAAKqH,SAAWA,E,8DAEpB,WAAgBqL,GAAhB,gFACUsE,EAASwe,EAAgB9iB,GACzBrK,EAAKrI,KAAKk2B,eAFpB,SAGyBl2B,KAAKm2B,yBAAyB9tB,EAAI2O,EAAOof,WAHlE,cAGUC,EAHV,OAII3M,QAAQ4M,IAAR,oCAAyCjuB,EAAzC,MAAiD2O,EAAQ,2BAA4Bqf,GACrFr2B,KAAK21B,WAAW5K,IAAI1iB,EAAI2O,GACxBhX,KAAKu2B,iBAAiBluB,GAN1B,mBAOW,EAAIrH,EAAOgQ,wBAAwB3I,IAP9C,gD,8GASA,2FACUA,EAAKrI,KAAKk2B,eADpB,SAEyBl2B,KAAKm2B,yBAAyB9tB,EAAI,UAF3D,cAEUguB,EAFV,OAGI3M,QAAQ4M,IAAR,uCAA4CjuB,EAA5C,mCAAiFguB,GACjFr2B,KAAK41B,aAAara,IAAIlT,GACtBrI,KAAKu2B,iBAAiBluB,GAL1B,mBAMW,EAAIrH,EAAOgQ,wBAAwB3I,IAN9C,gD,0HAQA,2FACUA,EAAKrI,KAAKk2B,eADpB,SAEyBl2B,KAAKm2B,yBAAyB9tB,EAAI,UAF3D,cAEUguB,EAFV,OAGI3M,QAAQ4M,IAAR,uCAA4CjuB,EAA5C,mCAAiFguB,GACjFr2B,KAAK81B,0BAA0Bva,IAAIlT,GACnCrI,KAAKu2B,iBAAiBluB,GAL1B,mBAMW,EAAIrH,EAAOgQ,wBAAwB3I,IAN9C,gD,mFAQA,SAAgBkK,GACZ,IAAMlK,GAAK,EAAIrH,EAAOw1B,wBAAwBjkB,GAG9C,OAFAmX,QAAQ4M,IAAR,+BAAoCjuB,EAApC,MACArI,KAAKy2B,aAAapuB,IACX,I,8BAEX,SAAiBkK,GACb,IAAMlK,GAAK,EAAIrH,EAAOw1B,wBAAwBjkB,GAK9C,OAJIvS,KAAKg2B,SAASlL,IAAIziB,IAElBrI,KAAKu2B,iBAAiBluB,GAEtBrI,KAAK21B,WAAW7K,IAAIziB,GACbrI,KAAK02B,oBAAoBruB,GAE3BrI,KAAK41B,aAAa9K,IAAIziB,GACpBrI,KAAK22B,sBAAsBtuB,GAE7BrI,KAAK81B,0BAA0BhL,IAAIziB,GACjCrI,KAAK42B,mCAAmCvuB,GAE5CsC,QAAQC,QAAQisB,O,sDAE3B,WAAoBtkB,GAApB,0EACUlK,GAAK,EAAIrH,EAAOw1B,wBAAwBjkB,GACxCyE,EAAShX,KAAK21B,WAAWviB,IAAI/K,GAFvC,yCAIewuB,KAJf,gCAMW72B,KAAK82B,iBAAiB32B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAEzwB,OAAQ,cAAeE,OAAQ,CAAC4xB,EAAgB/f,QANtI,gD,iFAQA,WACI,OAAO,EAAIye,EAAQtY,aAAand,KAAKi2B,gB,8BAEzC,SAAiBpzB,GAAS,WACtB,OAAO,IAAI8H,SAAQ,SAACC,EAASC,GACzB,EAAKxD,SAAS/E,UAAUO,GAAS,SAAC2G,EAAKE,GACnC,OAAIF,EACOqB,EAAOrB,GAEdZ,MAAMC,QAAQa,IAAyB,MAAZA,EACpBmB,EAAO,IAAI1B,MAAJ,wCAA2CkB,KAAKC,UAAUZ,WAE5EkB,EAAQlB,W,0BAIpB,SAAarB,GACTqhB,QAAQ4M,IAAR,2BAAgCjuB,EAAhC,MACArI,KAAK21B,WAAWqB,OAAO3uB,GACvBrI,KAAK41B,aAAaoB,OAAO3uB,GACzBrI,KAAK81B,0BAA0BkB,OAAO3uB,GACtCrI,KAAK+1B,QAAQiB,OAAO3uB,GACpBrI,KAAKg2B,SAASgB,OAAO3uB,K,4DAEzB,WAA0BA,GAA1B,sFACU2O,EAAShX,KAAK21B,WAAWviB,IAAI/K,IAC7B4uB,EAAiBj3B,KAAK+1B,QAAQ3iB,IAAI/K,KAChB2O,EAH5B,yCAIe6f,KAJf,uBAMqC72B,KAAKk3B,wBAN1C,UAMUC,EANV,OAOUC,EAA6B,WAAnBpgB,EAAOogB,QAAuBD,EAAqBngB,EAAOogB,UACtEH,EAAiBE,GARzB,0CASeE,KATf,aAWQJ,EAAiBjgB,EAAOogB,SAXhC,0CAYeC,KAZf,eAcI3N,QAAQ4M,IAAR,6BAAkCW,EAAlC,eAAuDG,EAAvD,uBAA6E/uB,IAdjF,UAe2BrI,KAAK82B,iBAAiB32B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAEzwB,OAAQ,cAAeE,OAAQ,CACzH4xB,EAAgB52B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAI+L,GAAS,CAAEof,UAAWa,EAAgBG,iBAhBlG,eAeU1tB,EAfV,OAkBQd,MAAMC,QAAQa,EAASlD,UACjBynB,EAASvkB,EAASlD,OAAO9B,KAAI,SAAA4xB,GAAG,OAAI,EAAIt1B,EAAOw1B,wBAAwBF,EAAIgB,aAAe,WAC1FC,EAAe/Z,KAAKga,IAAL,MAAAha,KAAI,EAAQyQ,MACbsJ,EAAeN,IACzBQ,GAAoB,EAAIhC,EAAQtY,WAAWoa,EAAe,GAChE7N,QAAQ4M,IAAR,6CAAkDjuB,EAAlD,kBAA8D4uB,EAA9D,eAAmFQ,IACnFz3B,KAAK+1B,QAAQhL,IAAI1iB,EAAIovB,KAxBjC,kBA2BW/tB,GA3BX,iD,qHA6BA,WAA4BrB,GAA5B,qFACU4uB,EAAiBj3B,KAAK+1B,QAAQ3iB,IAAI/K,GAD5C,yCAGewuB,KAHf,uBAKqC72B,KAAKk3B,wBAL1C,UAKUC,EALV,SAMQF,EAAiBE,GANzB,yCAOeE,KAPf,cASI3N,QAAQ4M,IAAR,+BAAoCW,EAApC,eAAyDE,EAAzD,wBAA2F9uB,EAA3F,MATJ,UAU0BsC,QAAQW,KAE9B,EAAItK,EAAO02B,OAAOT,EAAgBE,EAAqB,GAAGzyB,KAAI,SAAA4W,GAAC,OAAI,EAAKqc,sBAAqB,EAAIlC,EAAQtY,WAAW7B,QAZxH,eAUU2S,EAVV,OAY+HjX,QAAO,SAAA7O,GAAI,QAAMA,KAEtIsvB,GAAoB,EAAIhC,EAAQtY,WAAW8Z,EAAiBhJ,EAAO7oB,QACzEskB,QAAQ4M,IAAR,6CAAkDjuB,EAAlD,kBAA8D4uB,EAA9D,eAAmFQ,IACnFz3B,KAAK+1B,QAAQhL,IAAI1iB,EAAIovB,GAhBzB,kBAiBWt3B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAElvB,OAAQynB,KAjBxE,iD,kIAmBA,WAAyC7X,GAAzC,wFAEWzL,QAAQC,QAAQysB,MAF3B,2C,wHAIA,WAA+BhvB,EAAIuvB,GAAnC,uFACqC53B,KAAKk3B,wBAD1C,cACUC,EADV,OAEUU,EAA8C,kBAAfD,GAA2BA,EAAaT,EACvES,EACAT,EACNn3B,KAAK+1B,QAAQhL,IAAI1iB,EAAIwvB,GALzB,kBAMWA,GANX,gD,uFAQA,SAAiBxvB,GAAI,WACXyvB,EAAW93B,KAAKg2B,SAAS5iB,IAAI/K,GAC/ByvB,GACAxyB,OAAOyyB,aAAaD,GAExB,IAAME,EAAU1yB,OAAOiS,YAAW,WAC9BmS,QAAQ4M,IAAR,kBAAuBjuB,EAAvB,gBACA,EAAKouB,aAAapuB,KAlKd,KAoKRrI,KAAKg2B,SAASjL,IAAI1iB,EAAI2vB,K,8DAE1B,oGAC6Bh4B,KAAK82B,iBAAiB32B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAEzwB,OAAQ,kBAAmBE,OAAQ,MAD3I,uBACYqB,EADZ,EACYA,OADZ,mBAEW,EAAIxF,EAAOw1B,yBAAwB,EAAIx1B,EAAOwR,iBAAiBhM,KAF1E,gD,mHAIA,WAA2B8wB,GAA3B,qFAC2Bt3B,KAAK82B,iBAAiB32B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAEzwB,OAAQ,uBAAwBE,OAAQ,EAAC,EAAInE,EAAOgQ,wBAAwBsmB,IAAc,MADhM,YACU5tB,EADV,QAEiBlD,QAA0C,kBAAzBkD,EAASlD,OAAO2B,KAFlD,0CAGe,EAAInH,EAAOwR,iBAAiB9I,EAASlD,OAAO2B,OAH3D,gCAKW,MALX,gD,8DASJ,SAASqtB,EAAgB9iB,GACrB,MAAO,CACH0jB,UAAW6B,EAAiCvlB,EAAM0jB,WAClDgB,QAASa,EAAiCvlB,EAAM0kB,SAChD5yB,eAA6BoB,IAAlB8M,EAAM/N,QACX,KACAiE,MAAMC,QAAQ6J,EAAM/N,SAChB+N,EAAM/N,QACN,CAAC+N,EAAM/N,SACjBuzB,OAAQxlB,EAAMwlB,QAAU,IAIhC,SAASnB,EAAgB/f,GACrB,IAAMtE,EAAQ,CACV0jB,UAAW+B,EAAiCnhB,EAAOof,WACnDgB,QAASe,EAAiCnhB,EAAOogB,SACjDc,OAAQlhB,EAAOkhB,QAKnB,OAHyB,OAArBlhB,EAAOxS,YACPkO,EAAM/N,QAAUqS,EAAOxS,WAEpBkO,EAEX,SAASulB,EAAiC33B,GACtC,QAAcsF,IAAVtF,GAAiC,WAAVA,GAAgC,YAAVA,EAC7C,MAAO,SAEN,GAAc,aAAVA,EACL,OAAO,EAAIm1B,EAAQtY,WAAW,GAE7B,IAAI,EAAInc,EAAO0gB,aAAaphB,GAC7B,OAAO,EAAIU,EAAOw1B,wBAAwBl2B,GAE9C,MAAM,IAAI6I,MAAJ,gCAAmCivB,OAAO93B,KAEpD,SAAS63B,EAAiC73B,GACtC,MAAc,WAAVA,EACOA,GAEJ,EAAIU,EAAOgQ,wBAAwB1Q,GAE9C,SAASu2B,IACL,OAAO12B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAEzjB,MAAO,CAAE1K,MAAO,KAAOuC,QAAS,sBAEhG,SAASutB,IACL,OAAOl3B,OAAO8K,OAAO9K,OAAO8K,OAAO,GAAIyqB,GAAmB,CAAElvB,OAAQ,KA/CxEnG,EAAQuB,eAAiBA,EAazBvB,EAAQm1B,gBAAkBA,G,kCCnM1Br1B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiI,mBAAgB,EAExB,SAAWA,GAEPA,EAAa,aAAmB,eAChCA,EAAa,aAAmB,eAChCA,EAAa,YAAkB,cAC/BA,EAAa,YAAkB,cAC/BA,EAAa,oBAA0B,sBAEvCA,EAAa,oBAA0B,sBACvCA,EAAa,SAAe,WAC5BA,EAAa,cAAoB,gBACjCA,EAAa,cAAoB,gBACjCA,EAAa,mBAAyB,qBACtCA,EAAa,oBAA0B,sBACvCA,EAAa,uBAA6B,yBAC1CA,EAAa,oBAA0B,sBACvCA,EAAa,qBAA2B,uBACxCA,EAAa,qBAA2B,uBACxCA,EAAa,qBAA2B,uBACxCA,EAAa,qBAA2B,uBACxCA,EAAa,kBAAwB,oBACrCA,EAAa,qBAA2B,uBACxCA,EAAa,wBAA8B,0BAC3CA,EAAa,2BAAiC,6BAC9CA,EAAa,kBAAwB,oBAErCA,EAAa,cAAoB,gBACjCA,EAAa,gBAAsB,kBAEnCA,EAAa,cAAoB,gBACjCA,EAAa,mBAAyB,qBACtCA,EAAa,gCAAsC,kCACnDA,EAAa,qBAA2B,uBACxCA,EAAa,kBAAwB,oBAjCzC,CAkCmBjI,EAAQiI,gBAAkBjI,EAAQiI,cAAgB,M,8FCxCrEnI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyB,yBAAsB,EAC9B,IAAMu2B,EAAsB53B,EAAQ,KAC9B63B,EAA4B73B,EAAQ,KACpC83B,EAAO,aACPz2B,E,WACF,WAAYuF,GAAU,UAClB,IAAMmxB,EAAe,IAAIH,EAAoB,CACzChxB,WACAoxB,gBAAiB,KACjBC,kBAAkB,IAEtB,EAA+BJ,EAA0B,CACrDE,eACAnxB,aAFIxC,EAAR,EAAQA,OAAQ8zB,EAAhB,EAAgBA,WAIhB34B,KAAK6E,OAASA,EACd7E,KAAK44B,uBAAyBD,E,kEAElC,WAAoB91B,GAApB,4EACU2D,EAAS,GADnB,SAEUxG,KAAK44B,uBAAuB/1B,EAAS2D,EAAQ+xB,EAAMA,GAF7D,gCAGW/xB,GAHX,gD,4EAKA,WACIxG,KAAK44B,uBAAuBC,c,KAGpCx4B,EAAQyB,oBAAsBA,G,sECzB9B3B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyjB,wBAAqB,E,IACvBA,E,WACF,WAAYgV,GAAO,UACf94B,KAAK84B,MAAQA,E,iCAEjB,SAAQ5hB,EAAK5W,GACTy4B,aAAalzB,QAAQ7F,KAAKg5B,UAAU9hB,GAAM5W,K,qBAE9C,SAAQ4W,GACJ,OAAO6hB,aAAaz0B,QAAQtE,KAAKg5B,UAAU9hB,M,wBAE/C,SAAWA,GACP6hB,aAAaE,WAAWj5B,KAAKg5B,UAAU9hB,M,mBAE3C,WAGI,IAFA,IAAMgiB,EAASl5B,KAAKg5B,UAAU,IACxBG,EAAe,GACZ7d,EAAI,EAAGA,EAAIyd,aAAa3zB,OAAQkW,IAAK,CAC1C,IAAMpE,EAAM6hB,aAAa7hB,IAAIoE,GACV,kBAARpE,GAAoBA,EAAI8K,WAAWkX,IAC1CC,EAAa9O,KAAKnT,GAG1BiiB,EAAaxP,SAAQ,SAAAzS,GAAG,OAAI6hB,aAAaE,WAAW/hB,Q,uBAExD,SAAUA,GACN,MAAO,GAAP,OAAUlX,KAAK84B,MAAf,YAAwB5hB,O,KAGhC7W,EAAQyjB,mBAAqBA,G,sGCjC7B3jB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkjB,qBAAkB,EAC1B,IAAM6V,EAAa34B,EAAQ,MACrB44B,EAAa54B,EAAQ,MACrB64B,EAAa74B,EAAQ,MAErB8iB,E,8BACF,WAAY9hB,GAAS,wBACjB,cAAMA,IACD83B,UAAW,EAChB,EAAKC,SAAW,IAAIH,EAAWI,SAAS,CACpCtV,SAAU1iB,EAAQ0iB,WAEtB,EAAKuV,SAAW,IAAIN,EAAWO,SAAS,CACpCxV,SAAU1iB,EAAQ0iB,SAClBlB,QAASxhB,EAAQwhB,QACjB5L,UAAW5V,EAAQ2G,QAAQC,GAC3BuxB,cAAen4B,EAAQ2G,QAAQ8N,OAC/BmN,cAAe5hB,EAAQ4hB,cACvBwW,WAAYp4B,EAAQo4B,WACpBC,oBAAoB,IAbP,E,gCAgBrB,WACI,GAAI95B,KAAKu5B,SACL,MAAM,IAAIpwB,MAAM,oCAEpB,IAAM4wB,EAAKC,SAASC,gBACd1U,EAAYyU,SAASE,cAAc,OACzC3U,EAAU4U,UAAY,wBACtBJ,EAAGK,YAAY7U,GACfvlB,KAAK05B,SAASW,OAAO9U,GACrBvlB,KAAKw5B,SAASa,OAAO9U,GACrBvlB,KAAKu5B,UAAW,GAChB,EAAID,EAAWgB,oB,gCAEnB,SAAmBC,GACfv6B,KAAK05B,SAASpV,mBAAmBiW,K,8BAIrC,SAAiB94B,M,wBAIjB,SAAWA,M,iCAIX,SAAoBA,M,qCAGpB,SAAwBA,GACpBzB,KAAK05B,SAASc,KAAK,CAAEC,SAAUh5B,EAAQg5B,a,yCAE3C,WACIz6B,KAAK05B,SAAS92B,U,iCAElB,SAAoBsR,M,qCAGpB,SAAwBA,M,uCAGxB,SAA0BA,M,8CAG1B,SAAiCA,M,4BAGjC,SAAezS,GACX,IAAIi5B,EA8CJ,OA5CIA,EADAj5B,EAAQk5B,qBACQ,CACZC,YAAY,EACZ9wB,QAAS,kBACT+wB,UAAW,CACP,CACIC,OAAO,EACP/T,KAAM,mBACNgU,SAAU,KACVC,UAAW,KACXC,KAAM,0gBACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAAS35B,EAAQ45B,qBAMb,CACZvxB,QAAS,mBACT+wB,UAAW,CACP,CACIC,OAAO,EACP/T,KAAM,qBACNgU,SAAU,KACVC,UAAW,KACXC,KAAM,uNACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAAS35B,EAAQg5B,UAErB,CACIK,OAAO,EACP/T,KAAM,mBACNgU,SAAU,KACVC,UAAW,KACXC,KAAM,0gBACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAAS35B,EAAQ45B,qBAK1Br7B,KAAKw5B,SAAS8B,YAAYZ,K,sBAErC,WACIV,SAASuB,SAASC,W,oCAEtB,WACI,OAAO,I,oCAGX,SAAuBx3B,GACnB,OAAO,I,8BAEX,WACI,OAAO,I,uCAEX,WACI,OAAO,I,0BAEX,WACI,OAAO,M,GAnIQvD,EAAQ,MACcg7B,cAqI7Cp7B,EAAQkjB,gBAAkBA,G,sECxI1BpjB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQs5B,cAAW,EACnB,IAAMlV,EAAWhkB,EAAQ,KACnBoV,EAASpV,EAAQ,KACjBqV,EAAcrV,EAAQ,KACtBi7B,EAAej7B,EAAQ,MACvBk7B,EAA2Bl7B,EAAQ,MACnCk5B,E,WACF,WAAYl4B,GAAS,qBACjBzB,KAAK47B,aAAe,IAAI/lB,EAAOkE,gBAAgB,IAC/C/Z,KAAKyc,cAAgB,IAAI5G,EAAOwI,aAChCre,KAAK67B,aAAc,EACnB77B,KAAK87B,QAAS,EACd97B,KAAKy6B,SAAW,KAChBz6B,KAAK6sB,KAAO,KAEZ7sB,KAAKu6B,iBAAkB,EACvBv6B,KAAKmkB,SAAW1iB,EAAQ0iB,SACxBnkB,KAAKijB,QAAUxhB,EAAQwhB,QACvBjjB,KAAKqX,UAAY5V,EAAQ4V,UACzBrX,KAAK45B,cAAgBn4B,EAAQm4B,cAC7B55B,KAAKqjB,cAAgB5hB,EAAQ4hB,cAC7BrjB,KAAK85B,mBAAqBr4B,EAAQq4B,mBAClC95B,KAAK65B,WAAap4B,EAAQo4B,WAE1BxZ,MAAM,0DACDzY,MAAK,SAAAb,GAAG,OAAIA,EAAI0Z,UAChB7Y,MAAK,SAAA6Y,GACN,IAAMsb,EAAUtb,EAAKja,OAAOw1B,QAAQC,aACb,qBAAZF,EACP,EAAKH,aAAavhB,KAAK,CAAE/Z,OAAO,IAGhC,EAAKs7B,aAAavhB,KAAK,CAAE/Z,MAAOy7B,OAGnCxyB,OAAM,SAAAC,GACPkgB,QAAQzX,MAAM,kCAAoCzI,GAClD,EAAKoyB,aAAavhB,KAAK,CAAE/Z,OAAO,O,gCAGxC,SAAOy5B,GAAI,WACP/5B,KAAK6sB,KAAOmN,SAASE,cAAc,OACnCl6B,KAAK6sB,KAAKsN,UAAY,6BACtBJ,EAAGK,YAAYp6B,KAAK6sB,MACpB7sB,KAAKk8B,SACLl8B,KAAKyc,cAAclB,IAAIvb,KAAK65B,WAAW5gB,WAAU,SAAAuI,GACzC,EAAKqa,cAAgBra,IACrB,EAAKqa,YAAcra,EACnB,EAAK0a,gB,oBAIjB,WACI,IAAIx6B,EACC1B,KAAK6sB,OAGV7sB,KAAKyc,cAAc9B,eACnB,EAAI8J,EAASyX,QAAQ,KAAMl8B,KAAK6sB,MACG,QAAlCnrB,EAAK1B,KAAK6sB,KAAKsP,qBAAkC,IAAPz6B,GAAyBA,EAAG06B,YAAYp8B,KAAK6sB,S,gCAE5F,SAAmB0N,GACfv6B,KAAKu6B,gBAAkBA,I,kBAE3B,SAAK94B,GACDzB,KAAK87B,QAAS,EACd97B,KAAKy6B,SAAWh5B,EAAQg5B,SACxBz6B,KAAKk8B,W,mBAET,WACIl8B,KAAK87B,QAAS,EACd97B,KAAKy6B,SAAW,KAChBz6B,KAAKk8B,W,oBAET,WAAS,WACL,GAAKl8B,KAAK6sB,KAAV,CAGA,IAAM3S,EAAela,KAAK47B,aACrB7kB,MAAK,EAAIjB,EAAYoa,QAAO,SAAA6L,GAAO,YAAsBn2B,IAAlBm2B,EAAQz7B,UAC/C2Y,WAAU,SAAA8iB,GACN,EAAKlP,OAGV,EAAIpI,EAASyX,QAAQH,EAAQz7B,OAAS,EAAImkB,EAASoB,GAAG8V,EAAyBU,uBAAwB,CAAElY,SAAU,EAAKA,SAAUlB,QAAS,EAAKA,QAAS5L,UAAW,EAAKA,UAAWuiB,cAAe,EAAKA,cAAevW,cAAe,EAAKA,cAAeyY,OAAQ,EAAKA,OAAQD,YAAa,EAAKA,YAAa/B,mBAAoB,EAAKA,mBAAoBW,SAAU,EAAKA,SAAUF,gBAAiB,EAAKA,mBAAuB,EAAI9V,EAASoB,GAAG6V,EAAaY,WAAY,CAAEnY,SAAU,EAAKA,SAAUlB,QAAS,EAAKA,QAAS5L,UAAW,EAAKA,UAAWuiB,cAAe,EAAKA,cAAevW,cAAe,EAAKA,cAAeyY,OAAQ,EAAKA,OAAQD,YAAa,EAAKA,YAAa/B,mBAAoB,EAAKA,mBAAoBW,SAAU,EAAKA,WAAc,EAAK5N,SAEpuB7sB,KAAKyc,cAAclB,IAAIrB,Q,KAG/B7Z,EAAQs5B,SAAWA,G,uDC1Ff55B,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi8B,gBAAa,EACrB,IAAMC,EAASx8B,EAAgBU,EAAQ,OACjCgkB,EAAWhkB,EAAQ,KACnBikB,EAAUjkB,EAAQ,KAClB+7B,EAAmBz8B,EAAgBU,EAAQ,OAC3Cg8B,EAAWh8B,EAAQ,MACnBi8B,EAAYj8B,EAAQ,MACpBk8B,EAAYl8B,EAAQ,MA+B1BJ,EAAQi8B,WA9BW,SAAA1X,GACf,OAAgD,EAAIF,EAAQG,WAAWD,EAAMkX,QAA7E,SAAOc,EAAP,KAA0BC,EAA1B,KACA,GAA0C,EAAInY,EAAQG,WAAWD,EAAMkX,QAAvE,SAAOgB,EAAP,KAAuBC,EAAvB,KAoBA,OAnBA,EAAIrY,EAAQM,YAAW,WACnB,IAAQ8W,EAAWlX,EAAXkX,OACFkB,EAAS,CACX13B,OAAOiS,YAAW,WACdwlB,GAAiBjB,KAClB,KAUP,OARIA,EACAe,GAAmB,GAGnBG,EAAO3S,KAAK/kB,OAAOiS,YAAW,WAC1BslB,GAAmB,KACpB,MAEA,WACHG,EAAOrT,QAAQrkB,OAAOyyB,iBAE3B,CAACnT,EAAMkX,UACF,EAAIrX,EAASoB,GAAG,MAAO,CAAEM,OAAO,EAAIoW,EAAO1sB,SAAS,oCAAqC+U,EAAMT,UAAY,yCAA0CyY,GAAqB,8CAC9K,EAAInY,EAASoB,GAAG,QAAS,KAAM2W,EAAiB3sB,UAChD,EAAI4U,EAASoB,GAAG,MAAO,CAAEM,OAAO,EAAIoW,EAAO1sB,SAAS,mCAAoCitB,GAAkB,8CAC1G,EAAIrY,EAASoB,GAAG,MAAO,CAAEM,MAAO,4BAC5B,EAAI1B,EAASoB,GAAG,MAAO,CAAEM,OAAO,EAAIoW,EAAO1sB,SAAS,8BAA+BitB,GAAkB,wCACjG,EAAIrY,EAASoB,GAAGoX,EAAY,CAAE9Y,SAAUS,EAAMT,SAAUlB,QAAS2B,EAAM3B,QAAS5L,UAAWuN,EAAMvN,UAAWuiB,cAAehV,EAAMgV,cAAevW,cAAeuB,EAAMvB,cAAewY,YAAajX,EAAMiX,YAAa/B,mBAAoBlV,EAAMkV,qBAC9OlV,EAAM6V,WAAY,EAAIhW,EAASoB,GAAGqX,EAAc,CAAE9B,QAASxW,EAAM6V,eAGjF,IAAMwC,EAAa,SAAArY,GACf,IAAMuY,EAAY73B,OAAO83B,mBAAmBxY,EAAMvB,eAC5Cga,EAAezY,EAAMkV,mBAAqB,YAAc,KACxDwD,EAAQ,GAAH,OAAM1Y,EAAMvB,cAAZ,mBAAoCga,EAApC,YAAoDzY,EAAMvN,UAA1D,mBAA8EuN,EAAMgV,cAApF,mBAA4GuD,EAA5G,QACX,OAAQ,EAAI1Y,EAASoB,GAAG,MAAO,CAAEM,MAAO,wCACpC,EAAI1B,EAASoB,GAAG,KAAM,KAClB,WACA,EAAIpB,EAASoB,GAAG,KAAM,MACtB,aACJ,EAAIpB,EAASoB,GAAG,MAAO,CAAEM,MAAO,+CAC5B,EAAI1B,EAASoB,GAAG,MAAO,CAAEM,MAAO,uDAC5B,EAAI1B,EAASoB,GAAG4W,EAASjY,OAAQ,CAAEU,QAASoY,EAAO7X,MAAO,IAAKC,OAAQ,IAAKJ,QAAS,OAAQF,QAAS,kBAC1G,EAAIX,EAASoB,GAAG,QAAS,CAAE7gB,KAAM,SAAU2S,KAAM,qBAAsBrX,MAAOq8B,EAAUjW,eACxF,EAAIjC,EAASoB,GAAG,QAAS,CAAE7gB,KAAM,SAAU1E,MAAOg9B,KACjD1Y,EAAMiX,cAAgB,EAAIpX,EAASoB,GAAG,MAAO,CAAEM,MAAO,0DACnD,EAAI1B,EAASoB,GAAG6W,EAAU1W,QAAS,CAAEE,KAAM,IAAKb,MAAOT,EAAMT,SAAW,OAAS,UACjF,EAAIM,EAASoB,GAAG,IAAK,KAAM,mBAC/B,EAAIpB,EAASoB,GAAG,IAAK,CAAE0X,MAAO,eAAF,OAAiB3Y,EAAM3B,UAAa,2BACpE,EAAIwB,EAASoB,GAAG,IAAK,CAAE2X,KAAM,GAAF,OAAK5Y,EAAMvB,cAAX,cAAsCoa,OAAQ,SAAUC,IAAK,YAAc,mCAExGR,EAAe,SAAAtY,GAAK,OAAK,EAAIH,EAASoB,GAAG,SAAU,CAAEM,MAAO,qCAAsCiV,QAASxW,EAAMwW,UACnH,EAAI3W,EAASoB,GAAG,MAAO,CAAEM,MAAO,4C,kCChEpChmB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwP,QAAR,4yL,mBCwBA,SAAS8tB,EAAWz4B,GAClBlF,KAAKugB,KAAOqd,EAAOC,eACnB79B,KAAKkF,KAAOA,EACZlF,KAAK89B,WAAa,GAGlB,IAAK,IAAIxiB,EAAI,EAAGyiB,EAAI/9B,KAAKkF,KAAKE,OAAQkW,EAAIyiB,EAAGziB,IAAK,CAChD,IAAI0iB,EAAY,GACZz2B,EAAOvH,KAAKkF,KAAKirB,WAAW7U,GAE5B/T,EAAO,OACTy2B,EAAU,GAAK,KAAgB,QAAPz2B,KAAqB,GAC7Cy2B,EAAU,GAAK,KAAgB,OAAPz2B,KAAoB,GAC5Cy2B,EAAU,GAAK,KAAgB,KAAPz2B,KAAkB,EAC1Cy2B,EAAU,GAAK,IAAe,GAAPz2B,GACdA,EAAO,MAChBy2B,EAAU,GAAK,KAAgB,MAAPz2B,KAAmB,GAC3Cy2B,EAAU,GAAK,KAAgB,KAAPz2B,KAAkB,EAC1Cy2B,EAAU,GAAK,IAAe,GAAPz2B,GACdA,EAAO,KAChBy2B,EAAU,GAAK,KAAgB,KAAPz2B,KAAkB,EAC1Cy2B,EAAU,GAAK,IAAe,GAAPz2B,GAEvBy2B,EAAU,GAAKz2B,EAGjBvH,KAAK89B,WAAWzT,KAAK2T,GAGvBh+B,KAAK89B,WAAal1B,MAAM6M,UAAUge,OAAOvM,MAAM,GAAIlnB,KAAK89B,YAEpD99B,KAAK89B,WAAW14B,QAAUpF,KAAKkF,KAAKE,SACtCpF,KAAK89B,WAAWjJ,QAAQ,KACxB70B,KAAK89B,WAAWjJ,QAAQ,KACxB70B,KAAK89B,WAAWjJ,QAAQ,MAe5B,SAASoJ,EAAYC,EAAYC,GAC/Bn+B,KAAKk+B,WAAaA,EAClBl+B,KAAKm+B,kBAAoBA,EACzBn+B,KAAKo+B,QAAU,KACfp+B,KAAKq+B,YAAc,EACnBr+B,KAAKs+B,UAAY,KACjBt+B,KAAKu+B,SAAW,GAjBlBZ,EAAWloB,UAAY,CACrB+oB,UAAW,SAAUpQ,GACnB,OAAOpuB,KAAK89B,WAAW14B,QAEzBq5B,MAAO,SAAUrQ,GACf,IAAK,IAAI9S,EAAI,EAAGyiB,EAAI/9B,KAAK89B,WAAW14B,OAAQkW,EAAIyiB,EAAGziB,IACjD8S,EAAOsQ,IAAI1+B,KAAK89B,WAAWxiB,GAAI,KAcrC2iB,EAAYxoB,UAAU,CAACkpB,QAAQ,SAASz5B,GAAM,IAAI05B,EAAQ,IAAIjB,EAAWz4B,GAAMlF,KAAKu+B,SAASlU,KAAKuU,GAAS5+B,KAAKs+B,UAAU,MAAOO,OAAO,SAASC,EAAIC,GAAK,GAAGD,EAAI,GAAG9+B,KAAKq+B,aAAaS,GAAKC,EAAI,GAAG/+B,KAAKq+B,aAAaU,EAAK,MAAM,IAAI51B,MAAM21B,EAAI,IAAIC,GACjP,OAAO/+B,KAAKo+B,QAAQU,GAAKC,IAAOC,eAAe,WAAW,OAAOh/B,KAAKq+B,aAAcY,KAAK,WAAWj/B,KAAKk/B,UAAS,EAAMl/B,KAAKm/B,uBAAwBD,SAAS,SAASE,EAAKC,GAAar/B,KAAKq+B,YAA4B,EAAhBr+B,KAAKk+B,WAAa,GAAGl+B,KAAKo+B,QAAQ,IAAIx1B,MAAM5I,KAAKq+B,aAAa,IAAI,IAAIS,EAAI,EAAEA,EAAI9+B,KAAKq+B,YAAYS,IAAM,CAAC9+B,KAAKo+B,QAAQU,GAAK,IAAIl2B,MAAM5I,KAAKq+B,aAAa,IAAI,IAAIU,EAAI,EAAEA,EAAI/+B,KAAKq+B,YAAYU,IAAO/+B,KAAKo+B,QAAQU,GAAKC,GAAK,KACja/+B,KAAKs/B,0BAA0B,EAAE,GAAGt/B,KAAKs/B,0BAA0Bt/B,KAAKq+B,YAAY,EAAE,GAAGr+B,KAAKs/B,0BAA0B,EAAEt/B,KAAKq+B,YAAY,GAAGr+B,KAAKu/B,6BAA6Bv/B,KAAKw/B,qBAAqBx/B,KAAKy/B,cAAcL,EAAKC,GAAgBr/B,KAAKk+B,YAAY,GAAGl+B,KAAK0/B,gBAAgBN,GACxQ,MAAhBp/B,KAAKs+B,YAAiBt+B,KAAKs+B,UAAUL,EAAY0B,WAAW3/B,KAAKk+B,WAAWl+B,KAAKm+B,kBAAkBn+B,KAAKu+B,WAC3Gv+B,KAAK4/B,QAAQ5/B,KAAKs+B,UAAUe,IAAeC,0BAA0B,SAASR,EAAIC,GAAK,IAAI,IAAI/1B,GAAG,EAAEA,GAAG,EAAEA,IAAK,KAAG81B,EAAI91B,IAAI,GAAGhJ,KAAKq+B,aAAaS,EAAI91B,GAAW,IAAI,IAAImoB,GAAG,EAAEA,GAAG,EAAEA,IAAQ4N,EAAI5N,IAAI,GAAGnxB,KAAKq+B,aAAaU,EAAI5N,IAAgGnxB,KAAKo+B,QAAQU,EAAI91B,GAAG+1B,EAAI5N,GAAzG,GAAGnoB,GAAGA,GAAG,IAAO,GAAHmoB,GAAS,GAAHA,IAAS,GAAGA,GAAGA,GAAG,IAAO,GAAHnoB,GAAS,GAAHA,IAAS,GAAGA,GAAGA,GAAG,GAAG,GAAGmoB,GAAGA,GAAG,IAAgFgO,mBAAmB,WAA4C,IAAjC,IAAIU,EAAa,EAAMC,EAAQ,EAAUxkB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAACtb,KAAKk/B,UAAS,EAAK5jB,GAAG,IAAIykB,EAAUC,EAAOC,aAAajgC,OAAY,GAAHsb,GAAMukB,EAAaE,KAAWF,EAAaE,EAAUD,EAAQxkB,GACtlB,OAAOwkB,GAAUI,gBAAgB,SAASC,EAAUC,EAAcC,GAAO,IAAIC,EAAMH,EAAUI,qBAAqBH,EAAcC,GAAgBrgC,KAAKi/B,OAAO,IAAI,IAAIH,EAAI,EAAEA,EAAI9+B,KAAKo+B,QAAQh5B,OAAO05B,IAAoB,IAAb,IAAIlhB,EAA/D,EAAiEkhB,EAAeC,EAAI,EAAEA,EAAI/+B,KAAKo+B,QAAQU,GAAK15B,OAAO25B,IAAM,CAAC,IAAIlnB,EAA9H,EAAgIknB,EAAgB/+B,KAAKo+B,QAAQU,GAAKC,KAAcuB,EAAME,UAAU,EAAE,KAAKF,EAAMG,OAAO5oB,EAAE+F,GAAG0iB,EAAMI,OAAO7oB,EAAtO,EAA2O+F,GAAG0iB,EAAMI,OAAO7oB,EAA3P,EAAgQ+F,EAAhQ,GAAsQ0iB,EAAMI,OAAO7oB,EAAE+F,EAArR,GAA2R0iB,EAAMK,WAC/a,OAAOL,GAAQd,mBAAmB,WAAW,IAAI,IAAIx2B,EAAE,EAAEA,EAAEhJ,KAAKq+B,YAAY,EAAEr1B,IAA4B,MAApBhJ,KAAKo+B,QAAQp1B,GAAG,KACtGhJ,KAAKo+B,QAAQp1B,GAAG,GAAIA,EAAE,GAAG,GACzB,IAAI,IAAImoB,EAAE,EAAEA,EAAEnxB,KAAKq+B,YAAY,EAAElN,IAA4B,MAApBnxB,KAAKo+B,QAAQ,GAAGjN,KACzDnxB,KAAKo+B,QAAQ,GAAGjN,GAAIA,EAAE,GAAG,IAAMoO,2BAA2B,WAA8D,IAAnD,IAAIqB,EAAIZ,EAAOa,mBAAmB7gC,KAAKk+B,YAAoB5iB,EAAE,EAAEA,EAAEslB,EAAIx7B,OAAOkW,IAAK,IAAI,IAAIoV,EAAE,EAAEA,EAAEkQ,EAAIx7B,OAAOsrB,IAAI,CAAC,IAAIoO,EAAI8B,EAAItlB,GAAOyjB,EAAI6B,EAAIlQ,GAAG,GAA2B,MAAxB1wB,KAAKo+B,QAAQU,GAAKC,GACvO,IAAI,IAAI/1B,GAAG,EAAEA,GAAG,EAAEA,IAAK,IAAI,IAAImoB,GAAG,EAAEA,GAAG,EAAEA,IAAgDnxB,KAAKo+B,QAAQU,EAAI91B,GAAG+1B,EAAI5N,IAA5D,GAAJnoB,GAAU,GAAHA,IAAU,GAAJmoB,GAAU,GAAHA,GAAU,GAAHnoB,GAAS,GAAHmoB,IAAqFuO,gBAAgB,SAASN,GAAwD,IAAlD,IAAI9c,EAAK0d,EAAOc,iBAAiB9gC,KAAKk+B,YAAoB5iB,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAC,IAAIrb,GAAMm/B,GAAqB,IAAb9c,GAAMhH,EAAG,GAAOtb,KAAKo+B,QAAQ5gB,KAAKC,MAAMnC,EAAE,IAAIA,EAAE,EAAEtb,KAAKq+B,YAAY,EAAE,GAAGp+B,EACxW,IAAQqb,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAKrb,GAAMm/B,GAAqB,IAAb9c,GAAMhH,EAAG,GAAOtb,KAAKo+B,QAAQ9iB,EAAE,EAAEtb,KAAKq+B,YAAY,EAAE,GAAG7gB,KAAKC,MAAMnC,EAAE,IAAIrb,IAAOw/B,cAAc,SAASL,EAAKC,GAAmG,IAAtF,IAAIn6B,EAAMlF,KAAKm+B,mBAAmB,EAAGkB,EAAgB/c,EAAK0d,EAAOe,eAAe77B,GAAcoW,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAC,IAAIrb,GAAMm/B,GAAqB,IAAb9c,GAAMhH,EAAG,GAAUA,EAAE,EAAGtb,KAAKo+B,QAAQ9iB,GAAG,GAAGrb,EAAaqb,EAAE,EAAGtb,KAAKo+B,QAAQ9iB,EAAE,GAAG,GAAGrb,EAAUD,KAAKo+B,QAAQp+B,KAAKq+B,YAAY,GAAG/iB,GAAG,GAAGrb,EACja,IAAQqb,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAKrb,GAAMm/B,GAAqB,IAAb9c,GAAMhH,EAAG,GAAUA,EAAE,EAAGtb,KAAKo+B,QAAQ,GAAGp+B,KAAKq+B,YAAY/iB,EAAE,GAAGrb,EAAaqb,EAAE,EAAGtb,KAAKo+B,QAAQ,GAAG,GAAG9iB,EAAE,EAAE,GAAGrb,EAAUD,KAAKo+B,QAAQ,GAAG,GAAG9iB,EAAE,GAAGrb,EACpLD,KAAKo+B,QAAQp+B,KAAKq+B,YAAY,GAAG,IAAKe,GAAQQ,QAAQ,SAAS16B,EAAKm6B,GAAkF,IAArE,IAAI2B,GAAK,EAAMlC,EAAI9+B,KAAKq+B,YAAY,EAAM4C,EAAS,EAAMC,EAAU,EAAUnC,EAAI/+B,KAAKq+B,YAAY,EAAEU,EAAI,EAAEA,GAAK,EAAmB,IAAR,GAALA,GAAOA,MAAiB,CAAC,IAAI,IAAI5N,EAAE,EAAEA,EAAE,EAAEA,IAAK,GAA6B,MAA1BnxB,KAAKo+B,QAAQU,GAAKC,EAAI5N,GAAS,CAAC,IAAIgQ,GAAK,EAASD,EAAUh8B,EAAKE,SAAQ+7B,EAAwC,IAAhCj8B,EAAKg8B,KAAaD,EAAU,IAC3VjB,EAAOoB,QAAQ/B,EAAYP,EAAIC,EAAI5N,KAAYgQ,GAAMA,GAC9DnhC,KAAKo+B,QAAQU,GAAKC,EAAI5N,GAAGgQ,GAA8B,KAAzBF,IAA4BC,IAAYD,EAAS,GACtE,IAATnC,GAAKkC,GAAW,GAAGhhC,KAAKq+B,aAAaS,EAAI,CAACA,GAAKkC,EAAIA,GAAKA,EAAI,UAAY/C,EAAYoD,KAAK,IAAKpD,EAAYqD,KAAK,GAAKrD,EAAY0B,WAAW,SAASzB,EAAWC,EAAkBI,GAAwG,IAA9F,IAAIgD,EAASC,EAAUC,YAAYvD,EAAWC,GAAuB/P,EAAO,IAAIsT,EAAsBpmB,EAAE,EAAEA,EAAEijB,EAASn5B,OAAOkW,IAAI,CAAC,IAAIpW,EAAKq5B,EAASjjB,GAAG8S,EAAOsQ,IAAIx5B,EAAKqb,KAAK,GAAG6N,EAAOsQ,IAAIx5B,EAAKs5B,YAAYwB,EAAO2B,gBAAgBz8B,EAAKqb,KAAK2d,IAAah5B,EAAKu5B,MAAMrQ,GAC9b,IAAIwT,EAAe,EAAE,IAAQtmB,EAAE,EAAEA,EAAEimB,EAASn8B,OAAOkW,IAAKsmB,GAAgBL,EAASjmB,GAAGumB,UACpF,GAAGzT,EAAOuT,kBAAiC,EAAfC,EAAkB,MAAM,IAAIz4B,MAAM,0BAC7DilB,EAAOuT,kBACP,IACe,EAAfC,EACA,KAED,IADGxT,EAAOuT,kBAAkB,GAAkB,EAAfC,GAAkBxT,EAAOsQ,IAAI,EAAE,GACxDtQ,EAAOuT,kBAAkB,GAAG,GAAGvT,EAAO0T,QAAO,GACnD,OAAe1T,EAAOuT,mBAAkC,EAAfC,KACzCxT,EAAOsQ,IAAIT,EAAYoD,KAAK,KAAMjT,EAAOuT,mBAAkC,EAAfC,KAC5DxT,EAAOsQ,IAAIT,EAAYqD,KAAK,GAC5B,OAAOrD,EAAY8D,YAAY3T,EAAOmT,IAAYtD,EAAY8D,YAAY,SAAS3T,EAAOmT,GAAqI,IAA3H,IAAIS,EAAO,EAAMC,EAAW,EAAMC,EAAW,EAAMC,EAAO,IAAIv5B,MAAM24B,EAASn8B,QAAYg9B,EAAO,IAAIx5B,MAAM24B,EAASn8B,QAAgB4D,EAAE,EAAEA,EAAEu4B,EAASn8B,OAAO4D,IAAI,CAAC,IAAIq5B,EAAQd,EAASv4B,GAAG64B,UAAcS,EAAQf,EAASv4B,GAAGu5B,WAAWF,EAAQJ,EAAWzkB,KAAKga,IAAIyK,EAAWI,GAASH,EAAW1kB,KAAKga,IAAI0K,EAAWI,GAASH,EAAOn5B,GAAG,IAAIJ,MAAMy5B,GAAS,IAAI,IAAI/mB,EAAE,EAAEA,EAAE6mB,EAAOn5B,GAAG5D,OAAOkW,IAAK6mB,EAAOn5B,GAAGsS,GAAG,IAAK8S,EAAOA,OAAO9S,EAAE0mB,GAClgBA,GAAQK,EAAQ,IAAIG,EAAOxC,EAAOyC,0BAA0BH,GAA0EI,EAArD,IAAIC,EAAaR,EAAOn5B,GAAGw5B,EAAOhE,YAAY,GAAuBv+B,IAAIuiC,GAAQJ,EAAOp5B,GAAG,IAAIJ,MAAM45B,EAAOhE,YAAY,GAAG,IAAQljB,EAAE,EAAEA,EAAE8mB,EAAOp5B,GAAG5D,OAAOkW,IAAI,CAAC,IAAIsnB,EAAStnB,EAAEonB,EAAQlE,YAAY4D,EAAOp5B,GAAG5D,OAAOg9B,EAAOp5B,GAAGsS,GAAIsnB,GAAU,EAAGF,EAAQtvB,IAAIwvB,GAAU,GACrV,IAAIC,EAAe,EAAE,IAAQvnB,EAAE,EAAEA,EAAEimB,EAASn8B,OAAOkW,IAAKunB,GAAgBtB,EAASjmB,GAAGinB,WACpF,IAAIr9B,EAAK,IAAI0D,MAAMi6B,GAAoB7lB,EAAM,EAAE,IAAQ1B,EAAE,EAAEA,EAAE2mB,EAAW3mB,IAAK,IAAQtS,EAAE,EAAEA,EAAEu4B,EAASn8B,OAAO4D,IAAQsS,EAAE6mB,EAAOn5B,GAAG5D,SAAQF,EAAK8X,KAASmlB,EAAOn5B,GAAGsS,IAC/J,IAAQA,EAAE,EAAEA,EAAE4mB,EAAW5mB,IAAK,IAAQtS,EAAE,EAAEA,EAAEu4B,EAASn8B,OAAO4D,IAAQsS,EAAE8mB,EAAOp5B,GAAG5D,SAAQF,EAAK8X,KAASolB,EAAOp5B,GAAGsS,IAChH,OAAOpW,GAgByE,IAhBlE,IAAI04B,EAAO,CAACkF,YAAY,EAAKC,eAAe,EAAKlF,eAAe,EAAKmF,WAAW,GAAUC,EAAuB,EAAvBA,EAA2B,EAA3BA,EAA+B,EAA/BA,EAAmC,EAAOC,EAA0B,EAA1BA,EAAuC,EAAvCA,EAAoD,EAApDA,EAAiE,EAAjEA,EAA8E,EAA9EA,EAA2F,EAA3FA,EAAwG,EAAxGA,EAAqH,EAAOlD,EAAO,CAACmD,uBAAuB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,MAAMC,IAAK,KAAiDC,IAAK,KAA0DC,SAAU,MAAqCvC,eAAe,SAAS77B,GAAqB,IAAf,IAAIkiB,EAAEliB,GAAM,GAAS86B,EAAOuD,YAAYnc,GAAG4Y,EAAOuD,YAAYvD,EAAOoD,MAAM,GAAGhc,GAAI4Y,EAAOoD,KAAMpD,EAAOuD,YAAYnc,GAAG4Y,EAAOuD,YAAYvD,EAAOoD,KACpuC,OAAQl+B,GAAM,GAAIkiB,GAAG4Y,EAAOsD,UAAWxC,iBAAiB,SAAS57B,GAAqB,IAAf,IAAIkiB,EAAEliB,GAAM,GAAS86B,EAAOuD,YAAYnc,GAAG4Y,EAAOuD,YAAYvD,EAAOqD,MAAM,GAAGjc,GAAI4Y,EAAOqD,KAAMrD,EAAOuD,YAAYnc,GAAG4Y,EAAOuD,YAAYvD,EAAOqD,KACtN,OAAOn+B,GAAM,GAAIkiB,GAAImc,YAAY,SAASr+B,GAAkB,IAAZ,IAAIs+B,EAAM,EAAc,GAANt+B,GAASs+B,IAAQt+B,KAAQ,EAC3F,OAAOs+B,GAAQ3C,mBAAmB,SAAS3C,GAAY,OAAO8B,EAAOmD,uBAAuBjF,EAAW,IAAKkD,QAAQ,SAAS/B,EAAY/jB,EAAEoV,GAAG,OAAO2O,GAAa,KAAK6D,EAAyB,OAAO5nB,EAAEoV,GAAG,GAAG,EAAE,KAAKwS,EAAyB,OAAO5nB,EAAE,GAAG,EAAE,KAAK4nB,EAAyB,OAAOxS,EAAE,GAAG,EAAE,KAAKwS,EAAyB,OAAO5nB,EAAEoV,GAAG,GAAG,EAAE,KAAKwS,EAAyB,OAAO1lB,KAAKC,MAAMnC,EAAE,GAAGkC,KAAKC,MAAMiT,EAAE,IAAI,GAAG,EAAE,KAAKwS,EAAyB,OAAO5nB,EAAEoV,EAAG,EAAGpV,EAAEoV,EAAG,GAAG,EAAE,KAAKwS,EAAyB,OAAQ5nB,EAAEoV,EAAG,EAAGpV,EAAEoV,EAAG,GAAG,GAAG,EAAE,KAAKwS,EAAyB,OAAQ5nB,EAAEoV,EAAG,GAAGpV,EAAEoV,GAAG,GAAG,GAAG,EAAE,QAAQ,MAAM,IAAIvnB,MAAM,mBAAmBk2B,KAAgBoD,0BAA0B,SAASgB,GAAkD,IAA9B,IAAIphB,EAAE,IAAIsgB,EAAa,CAAC,GAAG,GAAWrnB,EAAE,EAAEA,EAAEmoB,EAAmBnoB,IAAK+G,EAAEA,EAAEqhB,SAAS,IAAIf,EAAa,CAAC,EAAEgB,EAAOC,KAAKtoB,IAAI,IACvzB,OAAO+G,GAAIsf,gBAAgB,SAASphB,EAAKvb,GAAM,GAAG,GAAGA,GAAMA,EAAK,GAAI,OAAOub,GAAM,KAAKqd,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,EAAE,KAAKnF,EAAOC,eAAwB,KAAKD,EAAOoF,WAAW,OAAO,EAAE,QAAQ,MAAM,IAAI75B,MAAM,QAAQoX,QAAa,GAAGvb,EAAK,GAAI,OAAOub,GAAM,KAAKqd,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,GAAG,KAAKnF,EAAOC,eAAe,OAAO,GAAG,KAAKD,EAAOoF,WAAW,OAAO,GAAG,QAAQ,MAAM,IAAI75B,MAAM,QAAQoX,OAAa,MAAGvb,EAAK,IAA2M,MAAM,IAAImE,MAAM,QAAQnE,GAA/N,OAAOub,GAAM,KAAKqd,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,GAAG,KAAKnF,EAAOC,eAAe,OAAO,GAAG,KAAKD,EAAOoF,WAAW,OAAO,GAAG,QAAQ,MAAM,IAAI75B,MAAM,QAAQoX,MAA8C0f,aAAa,SAAS4D,GAAgE,IAAxD,IAAIxF,EAAYwF,EAAO7E,iBAAqBe,EAAU,EAAUjB,EAAI,EAAEA,EAAIT,EAAYS,IAAO,IAAI,IAAIC,EAAI,EAAEA,EAAIV,EAAYU,IAAM,CAAiD,IAAhD,IAAI+E,EAAU,EAAM3C,EAAK0C,EAAOhF,OAAOC,EAAIC,GAAa/1B,GAAG,EAAEA,GAAG,EAAEA,IAAK,KAAG81B,EAAI91B,EAAE,GAAGq1B,GAAaS,EAAI91B,GACn9B,IAAI,IAAImoB,GAAG,EAAEA,GAAG,EAAEA,IAAQ4N,EAAI5N,EAAE,GAAGkN,GAAaU,EAAI5N,GAC9C,GAAHnoB,GAAS,GAAHmoB,GACNgQ,GAAM0C,EAAOhF,OAAOC,EAAI91B,EAAE+1B,EAAI5N,IAAI2S,IAClCA,EAAU,IAAG/D,GAAY,EAAE+D,EAAU,GACxC,IAAQhF,EAAI,EAAEA,EAAIT,EAAY,EAAES,IAAO,IAAQC,EAAI,EAAEA,EAAIV,EAAY,EAAEU,IAAM,CAAC,IAAIgF,EAAM,EAAKF,EAAOhF,OAAOC,EAAIC,IAAKgF,IAAWF,EAAOhF,OAAOC,EAAI,EAAEC,IAAKgF,IAAWF,EAAOhF,OAAOC,EAAIC,EAAI,IAAGgF,IAAWF,EAAOhF,OAAOC,EAAI,EAAEC,EAAI,IAAGgF,IAAkB,GAAPA,GAAiB,GAAPA,IAAUhE,GAAW,GAC5Q,IAAQjB,EAAI,EAAEA,EAAIT,EAAYS,IAAO,IAAQC,EAAI,EAAEA,EAAIV,EAAY,EAAEU,IAAU8E,EAAOhF,OAAOC,EAAIC,KAAO8E,EAAOhF,OAAOC,EAAIC,EAAI,IAAI8E,EAAOhF,OAAOC,EAAIC,EAAI,IAAI8E,EAAOhF,OAAOC,EAAIC,EAAI,IAAI8E,EAAOhF,OAAOC,EAAIC,EAAI,KAAK8E,EAAOhF,OAAOC,EAAIC,EAAI,IAAI8E,EAAOhF,OAAOC,EAAIC,EAAI,KAAIgB,GAAW,IAChR,IAAQhB,EAAI,EAAEA,EAAIV,EAAYU,IAAO,IAAQD,EAAI,EAAEA,EAAIT,EAAY,EAAES,IAAU+E,EAAOhF,OAAOC,EAAIC,KAAO8E,EAAOhF,OAAOC,EAAI,EAAEC,IAAM8E,EAAOhF,OAAOC,EAAI,EAAEC,IAAM8E,EAAOhF,OAAOC,EAAI,EAAEC,IAAM8E,EAAOhF,OAAOC,EAAI,EAAEC,KAAO8E,EAAOhF,OAAOC,EAAI,EAAEC,IAAM8E,EAAOhF,OAAOC,EAAI,EAAEC,KAAMgB,GAAW,IAChR,IAAIiE,EAAU,EAAE,IAAQjF,EAAI,EAAEA,EAAIV,EAAYU,IAAO,IAAQD,EAAI,EAAEA,EAAIT,EAAYS,IAAU+E,EAAOhF,OAAOC,EAAIC,IAAMiF,IAClC,OAApBjE,GAAiB,IAAtEviB,KAAKymB,IAAI,IAAID,EAAU3F,EAAYA,EAAY,IAAI,KAA8CsF,EAAO,CAACO,KAAK,SAASC,GAAG,GAAGA,EAAE,EAAG,MAAM,IAAIh7B,MAAM,QAAQg7B,EAAE,KACtK,OAAOR,EAAOS,UAAUD,IAAKP,KAAK,SAASO,GAAG,KAAMA,EAAE,GAAGA,GAAG,IAC5D,KAAMA,GAAG,KAAKA,GAAG,IACjB,OAAOR,EAAOU,UAAUF,IAAKE,UAAU,IAAIz7B,MAAM,KAAKw7B,UAAU,IAAIx7B,MAAM,MAAc0S,EAAE,EAAEA,EAAE,EAAEA,IAAKqoB,EAAOU,UAAU/oB,GAAG,GAAGA,EAC5H,IAAQA,EAAE,EAAEA,EAAE,IAAIA,IAAKqoB,EAAOU,UAAU/oB,GAAGqoB,EAAOU,UAAU/oB,EAAE,GAAGqoB,EAAOU,UAAU/oB,EAAE,GAAGqoB,EAAOU,UAAU/oB,EAAE,GAAGqoB,EAAOU,UAAU/oB,EAAE,GAChI,IAAQA,EAAE,EAAEA,EAAE,IAAIA,IAAKqoB,EAAOS,UAAUT,EAAOU,UAAU/oB,IAAIA,EAC7D,SAASqnB,EAAaplB,EAAI+mB,GAAO,QAAe1+B,GAAZ2X,EAAInY,OAAmB,MAAM,IAAI+D,MAAMoU,EAAInY,OAAO,IAAIk/B,GAC7E,IAAb,IAAItC,EAAO,EAAQA,EAAOzkB,EAAInY,QAAqB,GAAbmY,EAAIykB,IAAYA,IACtDhiC,KAAKud,IAAI,IAAI3U,MAAM2U,EAAInY,OAAO48B,EAAOsC,GAAO,IAAI,IAAIhpB,EAAE,EAAEA,EAAEiC,EAAInY,OAAO48B,EAAO1mB,IAAKtb,KAAKud,IAAIjC,GAAGiC,EAAIjC,EAAE0mB,GAK1D,SAASR,EAAUe,EAAWV,GAAW7hC,KAAKuiC,WAAWA,EAAWviC,KAAK6hC,UAAUA,EAGqU,SAASH,IAAc1hC,KAAKouB,OAAO,GAAGpuB,KAAKoF,OAAO,EAPnfu9B,EAAaltB,UAAU,CAACrC,IAAI,SAAS4J,GAAO,OAAOhd,KAAKud,IAAIP,IAASwhB,UAAU,WAAW,OAAOx+B,KAAKud,IAAInY,QAASs+B,SAAS,SAAStS,GAAuD,IAApD,IAAI7T,EAAI,IAAI3U,MAAM5I,KAAKw+B,YAAYpN,EAAEoN,YAAY,GAAWljB,EAAE,EAAEA,EAAEtb,KAAKw+B,YAAYljB,IAAK,IAAI,IAAIoV,EAAE,EAAEA,EAAEU,EAAEoN,YAAY9N,IAAKnT,EAAIjC,EAAEoV,IAAIiT,EAAOC,KAAKD,EAAOO,KAAKlkC,KAAKoT,IAAIkI,IAAIqoB,EAAOO,KAAK9S,EAAEhe,IAAIsd,KAClU,OAAO,IAAIiS,EAAaplB,EAAI,IAAKtd,IAAI,SAASmxB,GAAG,GAAGpxB,KAAKw+B,YAAYpN,EAAEoN,YAAY,EAAG,OAAOx+B,KACA,IAA7F,IAAIukC,EAAMZ,EAAOO,KAAKlkC,KAAKoT,IAAI,IAAIuwB,EAAOO,KAAK9S,EAAEhe,IAAI,IAAQmK,EAAI,IAAI3U,MAAM5I,KAAKw+B,aAAqBljB,EAAE,EAAEA,EAAEtb,KAAKw+B,YAAYljB,IAAKiC,EAAIjC,GAAGtb,KAAKoT,IAAIkI,GACjJ,IAAQA,EAAE,EAAEA,EAAE8V,EAAEoN,YAAYljB,IAAKiC,EAAIjC,IAAIqoB,EAAOC,KAAKD,EAAOO,KAAK9S,EAAEhe,IAAIkI,IAAIipB,GAC3E,OAAO,IAAI5B,EAAaplB,EAAI,GAAGtd,IAAImxB,KACnCoQ,EAAUgD,eAAe,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAA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","file":"static/js/26.b6bc8b3d.chunk.js","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkProvider = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst WalletLinkRelayAbstract_1 = require(\"../relay/WalletLinkRelayAbstract\");\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\nconst DEFAULT_JSON_RPC_URL = \"DefaultJsonRpcUrl\";\n// Indicates chain has been switched by switchEthereumChain or addEthereumChain request\nconst HAS_CHAIN_BEEN_SWITCHED_KEY = \"HasChainBeenSwitched\";\nconst HAS_CHAIN_OVERRIDDEN_FROM_RELAY = \"HasChainOverriddenFromRelay\";\nclass WalletLinkProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        var _a;\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        this._send = this.send.bind(this);\n        this._sendAsync = this.sendAsync.bind(this);\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.genericRequest = this.genericRequest.bind(this);\n        this._jsonRpcUrlFromOpts = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.isCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        const chainId = this.getChainId();\n        const chainIdStr = (0, util_1.prepend0x)(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params\n            });\n        });\n        if (this._addresses.length > 0) {\n            void this.initializeRelay();\n        }\n        window.addEventListener(\"message\", event => {\n            var _a;\n            if (event.data.type !== \"walletLinkMessage\")\n                return;\n            if (event.data.data.action === \"defaultChainChanged\") {\n                const _chainId = event.data.data.chainId;\n                const jsonRpcUrl = (_a = event.data.data.jsonRpcUrl) !== null && _a !== void 0 ? _a : this.jsonRpcUrl;\n                this.updateProviderInfo(jsonRpcUrl, Number(_chainId), true);\n            }\n        });\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return (0, util_1.prepend0x)(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this.jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return ((_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : this._jsonRpcUrlFromOpts);\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    get isChainOverridden() {\n        return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY) === \"true\";\n    }\n    set isChainOverridden(value) {\n        this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY, value.toString());\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    setProviderInfo(jsonRpcUrl, chainId) {\n        if (this.isChainOverridden)\n            return;\n        this.updateProviderInfo(jsonRpcUrl, this.getChainId(), false);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId, fromRelay) {\n        const hasChainSwitched = this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY) === \"true\";\n        if (hasChainSwitched && fromRelay)\n            return;\n        if (fromRelay) {\n            this.isChainOverridden = true;\n        }\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = (0, util_1.ensureIntNumber)(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async watchAsset(type, address, symbol, decimals, image) {\n        const relay = await this.initializeRelay();\n        const result = await relay.watchAsset(type, address, symbol, decimals, image).promise;\n        return !!result.result;\n    }\n    async addEthereumChain(chainId, rpcUrls, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        var _a, _b;\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return false;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.addEthereumChain(chainId.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency).promise;\n        if (((_a = res.result) === null || _a === void 0 ? void 0 : _a.isApproved) === true) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(rpcUrls[0], chainId, false);\n        }\n        return ((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true;\n    }\n    async switchEthereumChain(chainId) {\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10)).promise;\n        if (res.errorCode) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: res.errorCode\n            });\n        }\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId, false);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        void this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::enable\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return [...this._addresses];\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        void this.initializeRelay().then(relay => relay.resetAndReload());\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // WalletLink Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode((0, util_1.ensureRegExpString)(match)).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async genericRequest(data, action) {\n        const relay = await this.initializeRelay();\n        const res = await relay.genericRequest(data, action).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => res && resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    async _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:\n                return this._wallet_watchAsset(params);\n        }\n        const relay = await this.initializeRelay();\n        return relay.makeEthereumJSONRPCRequest(request, this.jsonRpcUrl);\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = (0, util_1.ensureAddressString)(addressString);\n            const lowercaseAddresses = this._addresses.map(address => (0, util_1.ensureAddressString)(address));\n            return lowercaseAddresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            this._walletLinkAnalytics.sendEvent(init_1.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? (0, util_1.ensureAddressString)(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? (0, util_1.ensureAddressString)(tx.to) : null;\n        const weiValue = tx.value != null ? (0, util_1.ensureBN)(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? (0, util_1.ensureBuffer)(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? (0, util_1.ensureIntNumber)(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? (0, util_1.ensureBN)(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? (0, util_1.ensureBN)(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? (0, util_1.ensureBN)(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? (0, util_1.ensureBN)(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return [...this._addresses];\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return (0, util_1.hexStringFromIntNumber)(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY) || \"1\";\n        const chainId = parseInt(chainIdStr, 10);\n        return (0, util_1.ensureIntNumber)(chainId);\n    }\n    async _eth_requestAccounts() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::_eth_requestAccounts\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts().promise;\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const message = (0, util_1.ensureBuffer)(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = (0, util_1.ensureBuffer)(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId()).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _walletlink_arbitrary(params) {\n        const action = params[0];\n        const data = params[1];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        if (typeof action !== \"object\" || action === null) {\n            throw new Error(\"parameter must be an object\");\n        }\n        const result = await this.genericRequest(action, data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        var _a, _b, _c, _d;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `please pass in at least 1 rpcUrl` }\n            };\n        }\n        if (!request.chainName || request.chainName.trim() === \"\") {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"chainName is a required field\"\n            });\n        }\n        if (!request.nativeCurrency) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"nativeCurrency is a required field\"\n            });\n        }\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const success = await this.addEthereumChain(chainIdNumber, (_b = request.rpcUrls) !== null && _b !== void 0 ? _b : [], (_c = request.blockExplorerUrls) !== null && _c !== void 0 ? _c : [], request.chainName, (_d = request.iconUrls) !== null && _d !== void 0 ? _d : [], request.nativeCurrency);\n        if (success) {\n            return { jsonrpc: \"2.0\", id: 0, result: null };\n        }\n        else {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `unable to add ethereum chain` }\n            };\n        }\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = params[0];\n        await this.switchEthereumChain(parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    async _wallet_watchAsset(params) {\n        var _a;\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (((_a = request.type) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"type is a required field\"\n            });\n        }\n        if (request.type !== \"ERC20\") {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: `Asset of type '${request.type}' not supported`\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"options is a required field\"\n            });\n        }\n        if (!request.options.address) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"option address is a required option\"\n            });\n        }\n        const { address, symbol, image, decimals } = request.options;\n        const res = await this.watchAsset(request.type, address, symbol, decimals, image);\n        return { jsonrpc: \"2.0\", id: 0, result: res };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback(accounts => this._setAddresses(accounts));\n            relay.setChainCallback((chainId, jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, parseInt(chainId, 10), true);\n            });\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n",null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalytics = void 0;\nclass WalletLinkAnalytics {\n    sendEvent(_eventType, _eventProperties) {\n        // no-op\n    }\n}\nexports.WalletLinkAnalytics = WalletLinkAnalytics;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./events\"), exports);\n__exportStar(require(\"./WalletLinkAnalyticsAbstract\"), exports);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst js_sha256_1 = require(\"js-sha256\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst util_1 = require(\"../util\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || (0, util_1.randomBytesHex)(16);\n        this._secret = secret || (0, util_1.randomBytesHex)(32);\n        const hash = js_sha256_1.sha256.create();\n        hash.update(`${this._id}, ${this._secret} WalletLink`);\n        this._key = hash.hex();\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static get persistedSessionIdChange$() {\n        return (0, rxjs_1.fromEvent)(window, \"storage\").pipe((0, operators_1.filter)(evt => evt.key === STORAGE_KEY_SESSION_ID), (0, operators_1.map)(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    /**\n     * Takes in a session ID and returns the sha256 hash of it.\n     * @param sessionId session ID\n     */\n    static hash(sessionId) {\n        const hash = js_sha256_1.sha256.create();\n        return hash.update(sessionId).hex();\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n",null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayAbstract = exports.APP_VERSION_KEY = exports.LOCAL_STORAGE_ADDRESSES_KEY = exports.WALLET_USER_NAME_KEY = void 0;\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nexports.LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nexports.APP_VERSION_KEY = \"AppVersion\";\nclass WalletLinkRelayAbstract {\n    async makeEthereumJSONRPCRequest(request, jsonRpcUrl) {\n        if (!jsonRpcUrl)\n            throw new Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw (0, eth_rpc_errors_1.serializeError)(error);\n            }\n            return response;\n        });\n    }\n}\nexports.WalletLinkRelayAbstract = WalletLinkRelayAbstract;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = void 0;\nconst WalletLinkAnalytics_1 = require(\"./connection/WalletLinkAnalytics\");\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkSdkUI_1 = require(\"./provider/WalletLinkSdkUI\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst WalletLinkRelayEventManager_1 = require(\"./relay/WalletLinkRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        var _a;\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        const walletLinkUrl = options.walletLinkUrl || WALLETLINK_URL;\n        let walletLinkUIConstructor;\n        if (!options.walletLinkUIConstructor) {\n            walletLinkUIConstructor = opts => new WalletLinkSdkUI_1.WalletLinkSdkUI(opts);\n        }\n        else {\n            walletLinkUIConstructor = options.walletLinkUIConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        this._overrideIsCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        const u = new URL(walletLinkUrl);\n        const walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${walletLinkOrigin}`);\n        this._storage.setItem(\"version\", WalletLink.VERSION);\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            return;\n        }\n        this._relayEventManager = new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager();\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode,\n            walletLinkUIConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager,\n            walletLinkAnalytics: this._walletLinkAnalytics\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            return window.walletLinkExtension;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            walletLinkAnalytics: this._walletLinkAnalytics,\n            overrideIsMetaMask: this._overrideIsMetaMask,\n            overrideIsCoinbaseWallet: this._overrideIsCoinbaseWallet\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || (0, util_1.getFavicon)();\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            window.walletLinkExtension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = (0, hooks_1.useState)(\"\");\n    (0, hooks_1.useEffect)(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? (0, preact_1.h)(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-spinner\" },\n        (0, preact_1.h)(\"style\", null, Spinner_css_1.default),\n        (0, preact_1.h)(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            (0, preact_1.h)(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIB_VERSION = void 0;\nexports.LIB_VERSION = \"2.5.0\";\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"generic\"] = \"generic\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n    Web3Method[\"makeEthereumJSONRPCRequest\"] = \"makeEthereumJSONRPCRequest\";\n    Web3Method[\"watchAsset\"] = \"watchAsset\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;",null,null,null,"function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nvar isNativeFunction = require(\"./isNativeFunction.js\");\n\nvar construct = require(\"./construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = exports.WalletLinkProvider = void 0;\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nObject.defineProperty(exports, \"WalletLinkProvider\", { enumerable: true, get: function () { return WalletLinkProvider_2.WalletLinkProvider; } });\nvar WalletLink_2 = require(\"./WalletLink\");\nObject.defineProperty(exports, \"WalletLink\", { enumerable: true, get: function () { return WalletLink_2.WalletLink; } });\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n",null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = void 0;\nexports.EVENTS = {\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_START: \"walletlink_sdk.request_child_ethereum_accounts.start\",\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE: \"walletlink_sdk.request_child_ethereum_accounts.response\",\n    STARTED_CONNECTING: \"walletlink_sdk.started.connecting\",\n    CONNECTED_STATE_CHANGE: \"walletlink_sdk.connected\",\n    DISCONNECTED: \"walletlink_sdk.disconnected\",\n    METADATA_DESTROYED: \"walletlink_sdk_metadata_destroyed\",\n    LINKED: \"walletlink_sdk.linked\",\n    FAILURE: \"walletlink_sdk.generic_failure\",\n    SESSION_CONFIG_RECEIVED: \"walletlink_sdk.session_config_event_received\",\n    ETH_ACCOUNTS_STATE: \"walletlink_sdk.eth_accounts_state\",\n    SESSION_STATE_CHANGE: \"walletlink_sdk.session_state_change\",\n    UNLINKED_ERROR_STATE: \"walletlink_sdk.unlinked_error_state\",\n    SKIPPED_CLEARING_SESSION: \"walletlink_sdk.skipped_clearing_session\",\n    GENERAL_ERROR: \"walletlink_sdk.general_error\",\n    WEB3_REQUEST: \"walletlink_sdk.web3.request\",\n    WEB3_REQUEST_PUBLISHED: \"walletlink_sdk.web3.request_published\",\n    WEB3_RESPONSE: \"walletlink_sdk.web3.response\",\n    UNKNOWN_ADDRESS_ENCOUNTERED: \"walletlink_sdk.unknown_address_encountered\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalyticsAbstract = void 0;\n/**\n * An abstract class used to send events to track metrics / analytics\n */\nclass WalletLinkAnalyticsAbstract {\n}\nexports.WalletLinkAnalyticsAbstract = WalletLinkAnalyticsAbstract;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = (0, types_1.IntNumber)(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    uninstallFilter(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return (0, types_1.IntNumber)(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => (0, util_1.intNumberFromHexString)(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = (0, types_1.IntNumber)(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        (0, util_1.range)(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber((0, types_1.IntNumber)(i))))).filter(hash => !!hash);\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        const newCursorPosition = (0, types_1.IntNumber)(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return (0, util_1.intNumberFromHexString)((0, util_1.ensureHexString)(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [(0, util_1.hexStringFromIntNumber)(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return (0, util_1.ensureHexString)(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return (0, types_1.IntNumber)(0);\n    }\n    else if ((0, util_1.isHexString)(value)) {\n        return (0, util_1.intNumberFromHexString)(value);\n    }\n    throw new Error(`Invalid block option: ${String(value)}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return (0, util_1.hexStringFromIntNumber)(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    JSONRPCMethod[\"wallet_watchAsset\"] = \"wallet_watchAsset\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkSdkUI = void 0;\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nconst WalletLinkUI_1 = require(\"./WalletLinkUI\");\nclass WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI {\n    constructor(options) {\n        super(options);\n        this.attached = false;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            walletLinkUrl: options.walletLinkUrl,\n            connected$: options.connected$,\n            isParentConnection: false\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"WalletLinkUI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        (0, cssReset_1.injectCssReset)();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    addEthereumChain(options) {\n        // no-op\n    }\n    // @ts-ignore\n    watchAsset(options) {\n        // no-op\n    }\n    // @ts-ignore\n    switchEthereumChain(options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    signEthereumMessage(_) {\n        // No-op\n    }\n    signEthereumTransaction(_) {\n        // No-op\n    }\n    submitEthereumTransaction(_) {\n        // No-op\n    }\n    ethereumAddressFromSignedMessage(_) {\n        // No-op\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: \"Connection lost\",\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        else {\n            snackbarProps = {\n                message: \"Confirm on phone\",\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: \"Cancel transaction\",\n                        svgWidth: \"11\",\n                        svgHeight: \"11\",\n                        path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                        defaultFillRule: \"inherit\",\n                        defaultClipRule: \"inherit\",\n                        onClick: options.onCancel\n                    },\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    reloadUI() {\n        document.location.reload();\n    }\n    inlineAccountsResponse() {\n        return false;\n    }\n    // @ts-ignore\n    inlineAddEthereumChain(chainId) {\n        return false;\n    }\n    inlineWatchAsset() {\n        return false;\n    }\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n    isStandalone() {\n        return false;\n    }\n}\nexports.WalletLinkSdkUI = WalletLinkSdkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(err => {\n            console.error('Couldn\\'t fetch feature flags - ', err);\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe((0, operators_1.first)(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)(enabled.value ? ((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : ((0, preact_1.h)(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst version_1 = require(\"../version\");\nconst LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, LinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                (0, preact_1.h)(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }),\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.LinkDialog = LinkDialog;\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        (0, preact_1.h)(\"h3\", null,\n            \"Scan to\",\n            (0, preact_1.h)(\"br\", null),\n            \" Connect\"),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))),\n            (0, preact_1.h)(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        (0, preact_1.h)(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst version_1 = require(\"../version\");\nconst TryExtensionLinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-container\", isContainerHidden && \"-walletlink-extension-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-backdrop\", isDialogHidden && \"-walletlink-extension-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-box\", isDialogHidden && \"-walletlink-extension-dialog-box-hidden\") },\n                (0, preact_1.h)(TryExtensionBox, { onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? ((0, preact_1.h)(ScanQRBox, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection })) : null,\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-install-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Try the Coinbase Wallet extension\"),\n            (0, preact_1.h)(\"button\", { onClick: props.onInstallClick }, \"Install\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-info-region\" },\n            (0, preact_1.h)(DescriptionItem, { icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: lock_icon_svg_1.default, text: \"Your private key is stored securely\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: globe_icon_svg_1.default, text: \"Works with Ethereum, Polygon, and more\" }))));\n};\nconst ScanQRBox = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-description-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Or scan to connect\"),\n            (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-bottom-description\" },\n                \"Open \",\n                (0, preact_1.h)(\"a\", { href: \"https://wallet.coinbase.com/\" }, \"Coinbase Wallet\"),\n                \" on your mobile phone and scan\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-region\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34\n                    } })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description-icon-wrapper\" },\n            (0, preact_1.h)(\"img\", { src: props.icon })),\n        (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-top-description-text\" }, props.text)));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-extension-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n</svg>\n\n`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => ((0, preact_1.h)(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-container\") },\n    (0, preact_1.h)(\"style\", null, Snackbar_css_1.default),\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarInstance = ({ autoExpand, message, menuItems }) => {\n    const [hidden, setHidden] = (0, hooks_1.useState)(true);\n    const [expanded, setExpanded] = (0, hooks_1.useState)(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance\", hidden && \"-walletlink-snackbar-instance-hidden\", expanded && \"-walletlink-snackbar-instance-expanded\") },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header\", onClick: toggleExpanded },\n            (0, preact_1.h)(\"img\", { src: cblogo, class: \"-walletlink-snackbar-instance-header-cblogo\" }),\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header-message\" }, message),\n            (0, preact_1.h)(\"div\", { class: \"-gear-container\" },\n                !expanded && ((0, preact_1.h)(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    (0, preact_1.h)(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                (0, preact_1.h)(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && ((0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-menu\" }, menuItems.map((action, i) => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item\", action.isRed && \"-walletlink-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            (0, preact_1.h)(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                (0, preact_1.h)(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item-info\", action.isRed && \"-walletlink-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkUI = void 0;\nclass WalletLinkUI {\n    constructor(_) { }\n    /**\n     * We want to disable showing the qr code for in-page walletlink if the dapp hasn't provided a json rpc url\n     */\n    setConnectDisabled(_) { }\n}\nexports.WalletLinkUI = WalletLinkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst init_1 = require(\"../init\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst WalletLinkRelayAbstract_1 = require(\"./WalletLinkRelayAbstract\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract {\n    constructor(options) {\n        super();\n        this.accountsCallback = null;\n        this.chainCallback = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.storage = options.storage;\n        this._session =\n            Session_1.Session.load(options.storage) || new Session_1.Session(options.storage).save();\n        this.relayEventManager = options.relayEventManager;\n        this.walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this._session.id, this._session.key, this.walletLinkUrl, this.walletLinkAnalytics);\n        this.subscriptions.add(this.connection.incomingEvent$\n            .pipe((0, operators_1.filter)(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent }) // eslint-disable-line @typescript-eslint/unbound-method\n        );\n        this.subscriptions.add(this.connection.linked$\n            .pipe((0, operators_1.skip)(1), (0, operators_1.tap)((linked) => {\n            var _a;\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this.session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(\" \");\n                const wasConnectedViaStandalone = this.storage.getItem(\"IsStandaloneSigning\") === \"true\";\n                if (addresses[0] !== \"\" &&\n                    !linked &&\n                    this.session.linked &&\n                    !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                    const sessionIdHash = this.getSessionIdHash();\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE, { sessionIdHash, origin: location.origin });\n                }\n            }\n        }))\n            .subscribe());\n        // if session is marked destroyed, reset and reload\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe(() => {\n            var _a;\n            const alreadyDestroyed = this.connection.isDestroyed;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.METADATA_DESTROYED, {\n                alreadyDestroyed,\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            return this.resetAndReload();\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.WalletUsername, this._session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"username\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppVersion !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppVersion, this._session.secret)))\n            .subscribe({\n            next: appVersion => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY, appVersion);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appversion\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata &&\n            c.metadata.ChainId !== undefined &&\n            c.metadata.JsonRpcUrl !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => (0, rxjs_1.zip)(aes256gcm.decrypt(c.metadata.ChainId, this._session.secret), aes256gcm.decrypt(c.metadata.JsonRpcUrl, this._session.secret))))\n            .pipe((0, operators_1.distinctUntilChanged)())\n            .subscribe({\n            next: ([chainId, jsonRpcUrl]) => {\n                if (this.chainCallback) {\n                    this.chainCallback(chainId, jsonRpcUrl);\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"chainId|jsonRpcUrl\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.EthereumAddress, this._session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = (0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                            id,\n                            response: (0, Web3Response_1.RequestEthereumAccountsResponse)([\n                                selectedAddress\n                            ])\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletLinkRelay.accountRequestCallbackIds.clear();\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"selectedAddress\"\n                });\n            }\n        }));\n        this.ui = options.walletLinkUIConstructor({\n            walletLinkUrl: options.walletLinkUrl,\n            version: options.version,\n            darkMode: options.darkMode,\n            session: this._session,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe((0, operators_1.timeout)(1000), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(null)))\n            .subscribe(_ => {\n            var _a, _b, _c;\n            try {\n                this.subscriptions.unsubscribe();\n            }\n            catch (err) {\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error unsubscribing\"\n                });\n            }\n            (_b = this.walletLinkAnalytics) === null || _b === void 0 ? void 0 : _b.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE, {\n                method: \"relay::resetAndReload\",\n                sessionMetadataChange: \"__destroyed, 1\",\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            this.connection.destroy();\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = Session_1.Session.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                this.storage.clear();\n            }\n            else if (storedSession) {\n                (_c = this.walletLinkAnalytics) === null || _c === void 0 ? void 0 : _c.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION, {\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: Session_1.Session.hash(storedSession.id),\n                    origin: location.origin\n                });\n            }\n            this.ui.reloadUI();\n        }, (err) => {\n            var _a;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.FAILURE, {\n                method: \"relay::resetAndReload\",\n                message: `failed to reset and reload with ${err}`,\n                sessionIdHash: this.getSessionIdHash()\n            });\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    get session() {\n        return this._session;\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                signature: (0, util_1.hexStringFromBuffer)(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: (0, util_1.hexStringFromBuffer)(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    genericRequest(data, action) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.generic,\n            params: {\n                action,\n                data\n            }\n        });\n    }\n    sendGenericMessage(request) {\n        return this.sendRequest(request);\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            if (!this.ui.isStandalone()) {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if (this.ui.isStandalone()) {\n                this.sendRequestStandalone(id, request);\n            }\n            else {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainCallback(chainCallback) {\n        this.chainCallback = chainCallback;\n    }\n    publishWeb3RequestEvent(id, request) {\n        var _a;\n        const message = (0, Web3RequestMessage_1.Web3RequestMessage)({ id, request });\n        const storedSession = Session_1.Session.load(this.storage);\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST, {\n            eventId: message.id,\n            method: `relay::${message.request.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            storedSessionIdHash: storedSession ? Session_1.Session.hash(storedSession.id) : \"\",\n            isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n            origin: location.origin\n        });\n        this.subscriptions.add(this.publishEvent(\"Web3Request\", message, true).subscribe({\n            next: _ => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED, {\n                    eventId: message.id,\n                    method: `relay::${message.request.method}`,\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: storedSession\n                        ? Session_1.Session.hash(storedSession.id)\n                        : \"\",\n                    isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n                    origin: location.origin\n                });\n            },\n            error: err => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        }));\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = (0, Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(id);\n        this.subscriptions.add(this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe());\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable(subscriber => {\n            void aes256gcm\n                .encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret)\n                .then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe((0, operators_1.mergeMap)((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            this.subscriptions.add(aes256gcm\n                .decrypt(event.data, this.session.secret)\n                .pipe((0, operators_1.map)(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = (0, Web3ResponseMessage_1.isWeb3ResponseMessage)(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                },\n                error: () => {\n                    var _a;\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                        message: \"Had error decrypting\",\n                        value: \"incomingEvent\"\n                    });\n                }\n            }));\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        var _a;\n        const { response } = message;\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_RESPONSE, {\n            eventId: message.id,\n            method: `relay::${response.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            origin: location.origin\n        });\n        if ((0, Web3Response_1.isRequestEthereumAccountsResponse)(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    requestEthereumAccounts() {\n        let request = {\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            var _a;\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n            if (userAgent &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                window.location.href = `https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;\n                return;\n            }\n            if (this.ui.inlineAccountsResponse()) {\n                const onAccounts = (accounts) => {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.RequestEthereumAccountsResponse)(accounts)\n                    }));\n                };\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel,\n                    onAccounts\n                });\n            }\n            else {\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel\n                });\n            }\n            WalletLinkRelay.accountRequestCallbackIds.add(id);\n            if (!this.ui.inlineAccountsResponse() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    watchAsset(type, address, symbol, decimals, image) {\n        const request = {\n            method: Web3Method_1.Web3Method.watchAsset,\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                }\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineWatchAsset()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(false)\n                }));\n            };\n            const approve = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(true)\n                }));\n            };\n            if (this.ui.inlineWatchAsset()) {\n                this.ui.watchAsset({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    type,\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                });\n            }\n            if (!this.ui.inlineWatchAsset() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { cancel, promise };\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        let request = {\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineAddEthereumChain(chainId)) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({\n                        isApproved: false,\n                        rpcUrl: \"\"\n                    })\n                }));\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({ isApproved: true, rpcUrl })\n                }));\n            };\n            if (this.ui.inlineAddEthereumChain(chainId)) {\n                this.ui.addEthereumChain({\n                    onCancel: _cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                    rpcUrls: request.params.rpcUrls,\n                    blockExplorerUrls: request.params\n                        .blockExplorerUrls,\n                    chainName: request.params.chainName,\n                    iconUrls: request.params.iconUrls,\n                    nativeCurrency: request.params\n                        .nativeCurrency\n                });\n            }\n            if (!this.ui.inlineAddEthereumChain(chainId) && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    switchEthereumChain(chainId) {\n        let request = {\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: {\n                chainId\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineSwitchEthereumChain()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage && response.errorCode) {\n                    return reject(eth_rpc_errors_1.ethErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`\n                    }));\n                }\n                else if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (errorCode) => {\n                if (errorCode) {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain, \"unsupported chainId\", errorCode)\n                    }));\n                }\n                else {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                            isApproved: false,\n                            rpcUrl: \"\"\n                        })\n                    }));\n                }\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                        isApproved: true,\n                        rpcUrl\n                    })\n                }));\n            };\n            this.ui.switchEthereumChain({\n                onCancel: _cancel,\n                onApprove: approve,\n                chainId: request.params.chainId\n            });\n            if (!this.ui.inlineSwitchEthereumChain() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    getSessionIdHash() {\n        return Session_1.Session.hash(this._session.id);\n    }\n    sendRequestStandalone(id, request) {\n        const _cancel = () => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n        };\n        const onSuccess = (response) => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response\n            }));\n        };\n        switch (request.method) {\n            case Web3Method_1.Web3Method.signEthereumMessage:\n                this.ui.signEthereumMessage({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.signEthereumTransaction:\n                this.ui.signEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.submitEthereumTransaction:\n                this.ui.submitEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:\n                this.ui.ethereumAddressFromSignedMessage({\n                    request,\n                    onSuccess\n                });\n                break;\n            default:\n                _cancel();\n                break;\n        }\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, walletLinkAnalytics, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = (0, types_1.IntNumber)(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        this.walletLinkAnalytics = walletLinkAnalytics;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe((0, operators_1.tap)(state => this.walletLinkAnalytics.sendEvent(init_1.EVENTS.CONNECTED_STATE_CHANGE, {\n            state,\n            sessionIdHash: Session_1.Session.hash(sessionId)\n        })), \n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), \n        // if DISCONNECTED and not destroyed\n        (0, operators_1.filter)(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        (0, operators_1.delay)(5000), \n        // check whether it's destroyed again\n        (0, operators_1.filter)(_ => !this.destroyed), \n        // reconnect\n        (0, operators_1.flatMap)(_ => ws.connect()), (0, operators_1.retry)())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        (0, operators_1.skip)(2), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe((0, operators_1.tap)(_ => this.sendIsLinked()), (0, operators_1.tap)(_ => this.sendGetSessionConfig()), (0, operators_1.map)(_ => true)), \n        // if not CONNECTED, emit false immediately\n        (0, rxjs_1.of)(false))), (0, operators_1.distinctUntilChanged)(), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        (0, rxjs_1.timer)(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe((0, operators_1.filter)(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.LINKED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                linked: msg.linked,\n                type: m.type,\n                onlineGuests: msg.onlineGuests\n            });\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.SESSION_CONFIG_RECEIVED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                metadata_keys: msg && msg.metadata ? Object.keys(msg.metadata) : undefined\n            });\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.STARTED_CONNECTING, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.DISCONNECTED, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.destroyed = true;\n    }\n    get isDestroyed() {\n        return this.destroyed;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe((0, operators_1.filter)(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), (0, operators_1.map)(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = (0, ClientMessage_1.ClientMessageSetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = (0, ClientMessage_1.ClientMessagePublishEvent)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return (0, rxjs_1.throwError)(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe((0, operators_1.timeoutWith)(timeout, (0, rxjs_1.throwError)(new Error(`request ${reqId} timed out`))), (0, operators_1.filter)(m => m.id === reqId), (0, operators_1.take)(1));\n    }\n    authenticate() {\n        const msg = (0, ClientMessage_1.ClientMessageHostSession)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe((0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = (0, ClientMessage_1.ClientMessageIsLinked)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = (0, ClientMessage_1.ClientMessageGetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return (0, rxjs_1.throwError)(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe((0, operators_1.take)(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe((0, operators_1.flatMap)(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return (0, rxjs_1.empty)();\n            }\n            return (0, rxjs_1.of)(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst util_1 = require(\"../util\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n    return (0, util_1.uint8ArrayToHex)(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable((subscriber) => {\n        void (async function () {\n            const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = (0, util_1.hexStringToUint8Array)(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes)\n            };\n            try {\n                const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                const decoder = new TextDecoder();\n                subscriber.next(decoder.decode(decrypted));\n                subscriber.complete();\n            }\n            catch (err) {\n                subscriber.error(err);\n            }\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n",null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumAddressFromSignedMessageResponse = exports.SubmitEthereumTransactionResponse = exports.SignEthereumTransactionResponse = exports.SignEthereumMessageResponse = exports.isRequestEthereumAccountsResponse = exports.WatchAssetReponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.AddEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage, errorCode) {\n    return { method, errorMessage, errorCode };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction AddEthereumChainResponse(addResponse) {\n    return {\n        method: Web3Method_1.Web3Method.addEthereumChain,\n        result: addResponse\n    };\n}\nexports.AddEthereumChainResponse = AddEthereumChainResponse;\nfunction SwitchEthereumChainResponse(switchResponse) {\n    return {\n        method: Web3Method_1.Web3Method.switchEthereumChain,\n        result: switchResponse\n    };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction WatchAssetReponse(success) {\n    return { method: Web3Method_1.Web3Method.watchAsset, result: success };\n}\nexports.WatchAssetReponse = WatchAssetReponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction SignEthereumMessageResponse(signature) {\n    return { method: Web3Method_1.Web3Method.signEthereumMessage, result: signature };\n}\nexports.SignEthereumMessageResponse = SignEthereumMessageResponse;\nfunction SignEthereumTransactionResponse(signedData) {\n    return { method: Web3Method_1.Web3Method.signEthereumTransaction, result: signedData };\n}\nexports.SignEthereumTransactionResponse = SignEthereumTransactionResponse;\nfunction SubmitEthereumTransactionResponse(txHash) {\n    return { method: Web3Method_1.Web3Method.submitEthereumTransaction, result: txHash };\n}\nexports.SubmitEthereumTransactionResponse = SubmitEthereumTransactionResponse;\nfunction EthereumAddressFromSignedMessageResponse(address) {\n    return {\n        method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n        result: address\n    };\n}\nexports.EthereumAddressFromSignedMessageResponse = EthereumAddressFromSignedMessageResponse;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletLinkRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = (0, util_1.prepend0x)(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletLinkRelayEventManager = WalletLinkRelayEventManager;\n","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;",null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, '0')).join('');\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return (0, types_1.HexString)(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return (0, types_1.BigIntString)(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return (0, types_1.HexString)(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return (0, types_1.HexString)(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = (0, types_1.HexString)(\"0\" + h);\n    }\n    return includePrefix ? (0, types_1.HexString)(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return (0, types_1.AddressString)(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${String(str)}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${String(str)}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return (0, types_1.IntNumber)(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return (0, types_1.IntNumber)(Number(num));\n        }\n        if (isHexString(num)) {\n            return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${String(num)}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return (0, types_1.RegExpString)(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${String(regExp)}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val !== null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${String(val)}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${String(val)}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => ref.current = null;\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n",null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":""}